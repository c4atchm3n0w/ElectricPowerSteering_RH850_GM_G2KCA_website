---
title: MicrosarOS_RH850_SafeContext_SafetyManuals
linkTitle: MicrosarOS_RH850_SafeContext_SafetyManuals
weight: 5
---

<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/><b>MICROSAR OS SafeContext&#160;<br/></b>Safety&#160;Manual&#160;<br/>&#160;<br/>RH850&#160;with&#160;Green Hills&#160;Compiler&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
Authors&#160;<br/>
Senol&#160;Cendere,&#160;Yohan&#160;Humbert&#160;<br/>
Version&#160;<br/>
1.05&#160;<br/>
Status&#160;<br/>
Released&#160;<br/>
Document&#160;ID&#160;&#160;OS03.00124.10&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;1&#160;/&#160;80&#160;<br/>
<hr/>
<a name=2></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>Document&#160;Information&#160;</b><br/>
<b>History&#160;</b><br/>
<b>Author&#160;</b><br/>
<b>Date&#160;</b><br/>
<b>Version&#160;&#160;Remarks&#160;</b><br/>
Senol&#160;Cendere&#160;&#160;<br/>
2014-02-17&#160;&#160;1.00&#160;<br/>
Creation&#160;for&#160;RH850&#160;<br/>
Senol&#160;Cendere&#160;<br/>
2014-02-26&#160;&#160;1.01&#160;<br/>
Updated&#160;the&#160;Requirement&#160;IDs&#160;<br/>
Senol&#160;Cendere&#160;<br/>
2014-05-09&#160;&#160;1.02&#160;<br/>
Adaption&#160;for&#160;RH850 P1M&#160;<br/>
Senol&#160;Cendere&#160;<br/>
2014-08-18&#160;&#160;1.03&#160;<br/>
Reworked&#160;after&#160;Safety&#160;Manual&#160;Review&#160;<br/>
Senol&#160;Cendere&#160;<br/>
2014-09-22&#160;&#160;1.04&#160;<br/>
Added&#160;reference&#160;for&#160;Renesas&#160;Electronics&#160;RH850/P1M&#160;&#160;<br/>Safety&#160;Application Note&#160;<br/>Removed&#160;CPU&#160;derivative&#160;specification&#160;&#160;<br/>Removed&#160;compiler&#160;options (both are specified&#160;in&#160;safety&#160;<br/>case)&#160;<br/>
Yohan&#160;Humbert&#160;<br/>
2014-12-03&#160;&#160;1.05&#160;<br/>
Added&#160;level&#160;support&#160;<br/>
&#160;<br/>
[END&#160;OF&#160;HIST&#160;ORY]<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;2&#160;/&#160;80&#160;<br/>
<hr/>
<a name=3></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;3&#160;/&#160;80&#160;<br/>
<hr/>
<a name=4></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>Reference&#160;Documents&#160;</b><br/>
<b>No.&#160;&#160;Source&#160;</b><br/>
<b>Title&#160;</b><br/>
<b>Version&#160;</b><br/>
[1]&#160;&#160;&#160;&#160;&#160;<br/>
AUTOSAR&#160;Operating&#160;System&#160;Specification1&#160;<br/>
3.x&#160;-&#160;<br/>4.x&#160;<br/>
[2]&#160;&#160;&#160;&#160;&#160;<br/>
OSEK/VDX&#160;Operating&#160;System&#160;Specification2&#160;<br/>
2.2.3&#160;<br/>
[3]&#160;&#160;&#160;&#160;Vector&#160;Informatik&#160;GmbH&#160;&#160;User&#160;manual&#160;of&#160;Vector&#160;MICROSAR&#160;OS&#160;<br/>
6.03&#160;<br/>
TechnicalReference_Microsar_Os.pdf&#160;<br/>
[4]&#160;&#160;&#160;&#160;Vector&#160;Informatik&#160;GmbH&#160;&#160;User&#160;manual&#160;of&#160;Vector&#160;MICROSAR&#160;OS&#160;RH850,&#160;&#160;&#160;1.04&#160;<br/>
hardware&#160;specific&#160;part&#160;<br/>TechnicalReference_MICROSAROS_RH850_S<br/>afeContext.pdf&#160;<br/>
[5]&#160;&#160;&#160;&#160;&#160;<br/>
International&#160;Organization&#160;for&#160;Standardization,&#160;<br/>
&#160;<br/>
Draft&#160;International&#160;Standard&#160;ISO/DIS&#160;26262&#160;<br/>Road Vehicles&#160;-&#160;Functional&#160;Safety&#160;(all&#160;parts),&#160;<br/>2009&#160;<br/>
[6]&#160;&#160;&#160;&#160;Renesas&#160;Electronics&#160;<br/>
V850E3v5&#160;Architecture&#160;Specifications&#160;<br/>
(4th&#160;edition)&#160;<br/>
[7]&#160;&#160;&#160;&#160;Renesas&#160;Electronics&#160;&#160;<br/>
RH850&#160;G3M&#160;User’s&#160;Manual:&#160;Software&#160;<br/>
Rev.&#160;0.10&#160;<br/>
&#160;<br/>
r01us0042ej0020_rh850g3m.pdf&#160;<br/>
Oct.&#160;2012&#160;<br/>
[8]&#160;&#160;&#160;&#160;Renesas&#160;Electronics&#160;<br/>
RH850/P1x&#160;Group User’s&#160;Manual:&#160;Hardware&#160;<br/>
Rev.&#160;0.60&#160;<br/>
r01uh0436ej0041_rh850p1x.pdf&#160;<br/>
Jul.&#160;2014&#160;<br/>
[9]&#160;&#160;&#160;&#160;Green&#160;Hills&#160;Software&#160;<br/>
MULTI:&#160;Building&#160;Applications&#160;for&#160;Embedded&#160;<br/>
PubID:&#160;<br/>
V850&#160;and RH850&#160;build_v800.pdf&#160;<br/>
build_v800-<br/>472243&#160;<br/>Date:&#160;<br/>September&#160;12,&#160;<br/>2012&#160;<br/>
[10]&#160;&#160;&#160;Vector&#160;Informatik&#160;GmbH&#160;&#160;Vector&#160;MICROSAR&#160;OS&#160;SafeContext&#160;Concept&#160;<br/>
1.03&#160;<br/>
[11]&#160;&#160;&#160;Renesas&#160;Electronics&#160;<br/>
RH850/P1M&#160;Safety&#160;Application Note&#160;<br/>
Rev.0.20&#160;<br/>September&#160;1,&#160;<br/>2014&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>1&#160;This&#160;document&#160;is&#160;available in&#160;PDF-format&#160;on&#160;the&#160;Internet&#160;at&#160;the&#160;Autosar&#160;homepage<a href="http://www.autosar.org/">:&#160;http://www.Autosar.org&#160;<br/></a>2&#160;This&#160;document&#160;is&#160;available in&#160;PDF-format&#160;on&#160;the&#160;Internet&#160;at&#160;the&#160;OSEK/VDX&#160;homepage<a href="http://www.osek-vdx.org/">:&#160;http://www.osek-vdx.org&#160;</a><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;4&#160;/&#160;80&#160;<br/>
<hr/>
<a name=5></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>Contents&#160;</b><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#9"><b>1</b>&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#9"><b>Purpose&#160;.........................................................................................................................&#160;9</b>&#160;<br/>1.1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#9">Safety&#160;Element&#160;out&#160;of&#160;Context&#160;(SEooC)&#160;.............................................................&#160;9&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#9">1.2&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#9">Standards&#160;and Legal&#160;requirements&#160;....................................................................&#160;9&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#10"><b>2</b>&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#10"><b>Concept&#160;.......................................................................................................................&#160;10</b>&#160;<br/>2.1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#10">SafeContext&#160;Is&#160;One&#160;Part&#160;of&#160;a&#160;Whole&#160;................................................................&#160;10&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#10">2.2&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#10">Safety&#160;Goal&#160;......................................................................................................&#160;10&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#10">2.3&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#10">Safety&#160;Requirements&#160;.......................................................................................&#160;10&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#11">2.4&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#11">SafeContext&#160;Functionality&#160;................................................................................&#160;11&#160;<br/></a><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#13">2.4.1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#13">Safety&#160;Part&#160;.......................................................................................&#160;13&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#15">2.4.2&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#15">Detailed&#160;List&#160;of&#160;Functionality&#160;............................................................&#160;15&#160;<br/>2.4.2.1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#15">Safety&#160;............................................................................&#160;15&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#16">2.4.2.2&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#16">Silent&#160;.............................................................................&#160;16&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#17">2.4.2.3&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#17">Not&#160;provided&#160;..................................................................&#160;17&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#19">2.5&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#19">Safe&#160;State&#160;........................................................................................................&#160;19&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#20"><b>3</b>&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#20"><b>Overview&#160;of&#160;Requirements&#160;to&#160;the&#160;OS&#160;User&#160;...............................................................&#160;20</b>&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#22"><b>4</b>&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#22"><b>General&#160;SafeContext&#160;Assumptions&#160;...........................................................................&#160;22</b>&#160;<br/></a><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#23">4.1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#23">Context&#160;Definition.............................................................................................&#160;23&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#24"><b>5</b>&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#24"><b>OS&#160;Source&#160;Checksum&#160;................................................................................................&#160;24</b>&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#26"><b>6</b>&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#26"><b>Patching&#160;the&#160;Configuration&#160;Block&#160;.............................................................................&#160;26</b>&#160;<br/>6.1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#26">Using&#160;ElfConverter&#160;...........................................................................................&#160;26&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#27">6.2&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#27">Using&#160;ConfigBlockCRCPatch&#160;...........................................................................&#160;27&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#28"><b>7</b>&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#28"><b>General&#160;Configuration&#160;Guidelines&#160;.............................................................................&#160;28</b>&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#30"><b>8</b>&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#30"><b>Review&#160;General&#160;Part&#160;of&#160;Configuration&#160;Block&#160;............................................................&#160;30</b>&#160;<br/>8.1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#30">How&#160;to Read&#160;Back&#160;the&#160;Configuration&#160;...............................................................&#160;30&#160;<br/></a><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#31">8.1.1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#31">Using&#160;HexConverter&#160;.........................................................................&#160;31&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#31">8.1.2&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#31">Using&#160;ConfigViewer&#160;..........................................................................&#160;31&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#32">8.2&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#32">General&#160;Configuration&#160;Information&#160;...................................................................&#160;32&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#33"><b>9</b>&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#33"><b>Review&#160;Generated&#160;Code&#160;.............................................................................................&#160;33</b>&#160;<br/>9.1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#33">Manual&#160;Reviews&#160;..............................................................................................&#160;33&#160;<br/>9.1.1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#33">Review&#160;generated&#160;file tcb.h&#160;..............................................................&#160;33&#160;</a><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;5&#160;/&#160;80&#160;<br/>
<hr/>
<a name=6></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#34"><b>10</b>&#160;&#160;<b>Qualifying&#160;Silent&#160;OS&#160;Part&#160;...........................................................................................&#160;34</b>&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#34">10.1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#34">Using&#160;MICROSAR&#160;Safe&#160;Silence Verifier&#160;(MSSV)&#160;.............................................&#160;34&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#36"><b>11</b>&#160;&#160;<b>Review&#160;User&#160;Software&#160;................................................................................................&#160;36</b>&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#39"><b>12</b>&#160;&#160;<b>Hardware&#160;Specific&#160;Part&#160;...............................................................................................&#160;39</b>&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#42">12.1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#42">Interrupt&#160;Vector&#160;Table&#160;.......................................................................................&#160;42&#160;<br/>12.1.1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#42">Header&#160;Include Section&#160;....................................................................&#160;42&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#43">12.1.2&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#43">Core&#160;Exception&#160;Vector&#160;Table&#160;............................................................&#160;43&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#44">12.1.3&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#44">EIINT&#160;Vector&#160;Table&#160;...........................................................................&#160;44&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#45">12.1.4&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#45">CAT2&#160;ISR&#160;Wrappers&#160;.........................................................................&#160;45&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#46">12.2&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#46">Configuration Block&#160;..........................................................................................&#160;46&#160;<br/>12.2.1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#46">How&#160;to read back&#160;the&#160;ConfigBlock&#160;...................................................&#160;46&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#47">12.2.2&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#47">Additional&#160;Information&#160;......................................................................&#160;47&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#48">12.2.3&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#48">How&#160;to start&#160;the&#160;review&#160;.....................................................................&#160;48&#160;<br/></a><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#49">12.2.3.1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#49">Indexes of&#160;applications,&#160;task ,&#160;ISRs,&#160;trusted&#160;and non-<br/>trusted&#160;functions&#160;............................................................&#160;49&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#49">12.2.3.2&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#49">Review&#160;against&#160;User’s&#160;Design&#160;.......................................&#160;49&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#50">12.2.4&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#50">How&#160;to review&#160;the&#160;general&#160;information&#160;(block&#160;0)&#160;...............................&#160;50&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#52">12.2.5&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#52">How&#160;to review&#160;the&#160;task&#160;start&#160;addresses&#160;(block&#160;1)&#160;.............................&#160;52&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#53">12.2.6&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#53">How&#160;to review&#160;the&#160;task&#160;trusted&#160;information&#160;(block&#160;2)&#160;........................&#160;53&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#54">12.2.7&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#54">How&#160;to review&#160;the&#160;task&#160;preemptive information&#160;(block 3)&#160;..................&#160;54&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#55">12.2.8&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#55">How&#160;to review&#160;the&#160;task&#160;stack start&#160;and&#160;end addresses (block&#160;4 and&#160;<br/>5)&#160;.....................................................................................................&#160;55&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#56">12.2.9&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#56">How&#160;to review&#160;the&#160;task&#160;ownership information&#160;(block 6)&#160;...................&#160;56&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#57">12.2.10&#160;&#160;How&#160;to review&#160;the&#160;category&#160;2 ISR&#160;start&#160;addresses&#160;(block&#160;7)&#160;.............&#160;57&#160;<br/></a><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#58">12.2.11&#160;&#160;How&#160;to review&#160;the&#160;CAT2&#160;ISR&#160;trusted&#160;information&#160;(block 8)&#160;...............&#160;58&#160;<br/></a><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#59">12.2.12&#160;&#160;How&#160;to review&#160;the&#160;CAT2&#160;ISR&#160;nested&#160;information&#160;(block 9)&#160;...............&#160;59&#160;<br/></a><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#60">12.2.13&#160;&#160;How&#160;to review&#160;CAT2 ISR&#160;stack&#160;start&#160;and&#160;end&#160;addresses&#160;(block&#160;10&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#60">and 11)&#160;.............................................................................................&#160;60&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#62">12.2.14&#160;&#160;How&#160;to review&#160;the&#160;CAT2&#160;ISR&#160;ownership information&#160;(block&#160;12)&#160;........&#160;62&#160;<br/></a><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#63">12.2.15&#160;&#160;How&#160;to review&#160;the&#160;trusted&#160;functions&#160;start&#160;addresses (block&#160;13)&#160;........&#160;63&#160;<br/></a><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#64">12.2.16&#160;&#160;How&#160;to review&#160;the&#160;non-trusted&#160;functions&#160;start&#160;addresses&#160;(block&#160;14)&#160;.&#160;64&#160;<br/></a><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#65">12.2.17&#160;&#160;How&#160;to review&#160;the&#160;non-trusted&#160;functions&#160;ownership information&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#65">(block 15)&#160;.........................................................................................&#160;65&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#66">12.2.18&#160;&#160;How&#160;to review&#160;the&#160;application dynamic&#160;MPU&#160;settings&#160;(block&#160;16)&#160;......&#160;66&#160;<br/></a><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#67">12.2.19&#160;&#160;How&#160;to review&#160;the&#160;interrupt&#160;channel&#160;index&#160;(block&#160;17)&#160;.......................&#160;67&#160;<br/></a><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#68">12.2.20&#160;&#160;How&#160;to review&#160;the&#160;ISR&#160;interrupt&#160;priority&#160;level&#160;(block 18)&#160;...................&#160;68&#160;<br/></a><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#69">12.2.21&#160;&#160;How&#160;to review&#160;the&#160;peripheral&#160;regions&#160;configuration (block&#160;19)&#160;..........&#160;69&#160;<br/></a><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#70">12.2.22&#160;&#160;How&#160;to review&#160;the&#160;static&#160;MPU&#160;regions&#160;configuration&#160;(block&#160;20)&#160;........&#160;70&#160;<br/></a><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#71">12.2.23&#160;&#160;How&#160;to review&#160;the&#160;application trusted&#160;information&#160;(block 21)&#160;............&#160;71&#160;</a><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;6&#160;/&#160;80&#160;<br/>
<hr/>
<a name=7></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#72">12.2.24&#160;&#160;How&#160;to review&#160;the&#160;core control&#160;block&#160;address&#160;information&#160;(block&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#72">22)&#160;...................................................................................................&#160;72&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#73">12.3&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#73">Linker&#160;Memory&#160;Sections&#160;...................................................................................&#160;73&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#75">12.4&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#75">Linker&#160;Include Files&#160;..........................................................................................&#160;75&#160;<br/>12.4.1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#75">Review&#160;File osdata.dld&#160;.....................................................................&#160;75&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#76">12.4.2&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#76">Review&#160;File ossdata.dld&#160;...................................................................&#160;76&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#77">12.4.3&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#77">Review&#160;File osstacks.dld&#160;..................................................................&#160;77&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#78">12.4.4&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#78">Review&#160;File osrom.dld&#160;......................................................................&#160;78&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#78">12.4.5&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#78">Review&#160;File ostdata.dld&#160;....................................................................&#160;78&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#79">12.5&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#79">Stack&#160;Size Configuration&#160;..................................................................................&#160;79&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#79">12.6&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#79">Stack&#160;Monitoring&#160;..............................................................................................&#160;79&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#80">12.7&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#80">Usage&#160;of&#160;MPU&#160;Regions....................................................................................&#160;80&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#80">12.8&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#80">Usage&#160;of&#160;Peripheral&#160;Interrupt&#160;API&#160;.....................................................................&#160;80&#160;</a><br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;7&#160;/&#160;80&#160;<br/>
<hr/>
<a name=8></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>Illustrations&#160;</b><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#12">Figure&#160;2-1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#12">Quality&#160;Levels&#160;of&#160;SafeContext&#160;Functionalities&#160;...........................................&#160;12&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#14">Figure&#160;2-2&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#14">Stored&#160;and&#160;active contexts&#160;........................................................................&#160;14&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#21">Figure&#160;3-1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#21">Strategy&#160;for&#160;safety&#160;configuration&#160;...............................................................&#160;21&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#29">Figure&#160;7-1&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#29">Linking&#160;example&#160;........................................................................................&#160;29&#160;</a><br/>
<b>&#160;<br/>Tables&#160;<br/></b><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#15">Table&#160;2-1&#160;&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#15">Safety&#160;Functionality&#160;..................................................................................&#160;15&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#16">Table&#160;2-2&#160;&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#16">Silent&#160;Functionality....................................................................................&#160;16&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#17">Table&#160;2-3&#160;&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#17">Functionality&#160;–&#160;Not&#160;provided&#160;.....................................................................&#160;17&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#23">Table&#160;4-1&#160;&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#23">General&#160;SafeContext&#160;Assumptions&#160;...........................................................&#160;23&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#26">Table&#160;6-1&#160;&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#26">ElfConverter&#160;parameters&#160;...........................................................................&#160;26&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#31">Table&#160;8-1&#160;&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#31">HexConverter&#160;parameters.........................................................................&#160;31&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#31">Table&#160;8-2&#160;&#160;</a><br/>
<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#31">ConfigViewer&#160;parameters&#160;.........................................................................&#160;31&#160;</a><br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;8&#160;/&#160;80&#160;<br/>
<hr/>
<a name=9></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>1&#160;</b><br/>
<b>Purpose&#160;</b><br/>
<b>1.1&#160;</b><br/>
<b>Safety&#160;Element&#160;out of&#160;Context (SEooC)&#160;</b><br/>
MICROSAR&#160;OS&#160;SafeContext&#160;is&#160;a&#160;Safety&#160;Element&#160;out&#160;of&#160;Context&#160;(SEooC).&#160;It&#160;is&#160;developed&#160;<br/>based&#160;&#160;on&#160;&#160;assumptions&#160;&#160;on&#160;&#160;the&#160;&#160;intended&#160;&#160;functionality,&#160;&#160;use&#160;&#160;and&#160;&#160;context,&#160;&#160;including&#160;&#160;external&#160;<br/>interfaces.&#160;&#160;To&#160;&#160;have&#160;&#160;a&#160;&#160;complete&#160;&#160;safety&#160;&#160;case,&#160;&#160;the&#160;&#160;validity&#160;&#160;of&#160;&#160;these&#160;&#160;assumptions&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;<br/>checked&#160;in&#160;the&#160;context&#160;of&#160;the&#160;actual item&#160;after&#160;integration&#160;of&#160;the&#160;SEooC.&#160;<br/>The&#160;application&#160;conditions&#160;for&#160;SEooC&#160;provide&#160;the&#160;assumptions&#160;made&#160;on&#160;the&#160;requirements&#160;<br/>(including&#160;&#160;safety&#160;&#160;requirements)&#160;&#160;that&#160;&#160;are&#160;&#160;placed&#160;on&#160;the&#160;&#160;SEooC&#160;by&#160;&#160;higher&#160;&#160;levels&#160;&#160;of&#160;design&#160;<br/>and&#160;also&#160;on&#160;the&#160;design&#160;external&#160;to&#160;the&#160;SEooC&#160;and&#160;the&#160;assumed&#160;safety&#160;requirements&#160;and&#160;<br/>assumptions related&#160;to&#160;the&#160;design&#160;of&#160;the&#160;SEooC.&#160;<br/>Information&#160;&#160;given&#160;&#160;by&#160;&#160;this&#160;&#160;document&#160;&#160;helps&#160;&#160;to&#160;&#160;check&#160;&#160;whether&#160;&#160;the&#160;&#160;SEooC&#160;&#160;fulfills&#160;&#160;the&#160;&#160;item&#160;<br/>requirements,&#160;&#160;or&#160;&#160;whether&#160;&#160;a&#160;&#160;change&#160;&#160;to&#160;&#160;the&#160;&#160;SEooC&#160;&#160;is&#160;&#160;necessary&#160;&#160;in&#160;&#160;accordance&#160;&#160;with&#160;&#160;the&#160;<br/>requirements&#160;of&#160;ISO&#160;26262.&#160;<br/>
<b>1.2&#160;</b><br/>
<b>Standards&#160;and Legal&#160;requirements&#160;</b><br/>
Standards&#160;followed&#160;by&#160;the&#160;development&#160;of&#160;MICROSAR OS&#160;SafeContext:&#160;<br/>
<b>&gt;&#160;&#160;</b>ISO&#160;262623&#160;<br/>
<b>&gt;&#160;&#160;</b>OSEK&#160;OS4&#160;<br/>
<b>&gt;&#160;&#160;</b>AUTOSAR OS5&#160;<br/>
&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
3&#160;International Standard&#160;ISO 26262&#160;Road&#160;Vehicles&#160;-&#160;Functional&#160;Safety&#160;(all&#160;parts),&#160;2011&#160;<br/>4&#160;OSEK/VDX&#160;Operating&#160;System,&#160;v2.2.3&#160;<br/>5&#160;AUTOSAR&#160;Specification&#160;of&#160;Operating&#160;&#160;System&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;9&#160;/&#160;80&#160;<br/>
<hr/>
<a name=10></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>2&#160;</b><br/>
<b>Concept&#160;</b><br/>
This&#160;&#160;chapter&#160;&#160;provides&#160;&#160;a&#160;&#160;description&#160;&#160;of&#160;&#160;the&#160;&#160;assumed&#160;&#160;safety&#160;&#160;requirements&#160;&#160;and&#160;&#160;the&#160;&#160;main&#160;<br/>concept.&#160;<br/>
<b>2.1&#160;</b><br/>
<b>SafeContext Is&#160;One&#160;Part of&#160;a&#160;Whole&#160;</b><br/>
SafeContext&#160;&#160;is&#160;&#160;part&#160;&#160;of&#160;&#160;Vector&#160;&#160;SafeExecution.&#160;&#160;SafeExecution&#160;&#160;consists&#160;&#160;of&#160;&#160;SafeContext&#160;&#160;for&#160;<br/>prevention&#160;from&#160;corrupted&#160;data&#160;and&#160;SafeWatchdog&#160;for&#160;supervision&#160;of&#160;timing&#160;behavior.&#160;This&#160;<br/>document&#160;covers SafeContext&#160;only.&#160;[SPMF92:0050]&#160;<br/>
<b>2.2&#160;</b><br/>
<b>Safety&#160;Goal&#160;</b><br/>
The&#160;safety&#160;goal&#160;is&#160;to&#160;ensure&#160;context&#160;integrity&#160;for&#160;all&#160;safety&#160;critical&#160;parts.&#160;Whenever&#160;a&#160;safety&#160;<br/>critical&#160;&#160;code&#160;&#160;is&#160;&#160;executed,&#160;&#160;it&#160;&#160;is&#160;&#160;guaranteed&#160;&#160;that&#160;&#160;the&#160;&#160;code&#160;&#160;is&#160;&#160;executed&#160;&#160;with&#160;&#160;the&#160;&#160;correct&#160;<br/>context.&#160;After&#160;&#160;pre-emption&#160;&#160;or&#160;&#160;interruption,&#160;&#160;execution&#160;&#160;is&#160;&#160;resumed&#160;&#160;with&#160;&#160;the&#160;&#160;correct&#160;&#160;context.&#160;<br/>The&#160;&#160;integrity&#160;&#160;of&#160;&#160;the&#160;&#160;memory&#160;&#160;is&#160;&#160;ensured&#160;&#160;by&#160;&#160;usage&#160;&#160;of&#160;&#160;hardware&#160;&#160;(e.g.&#160;&#160;MPU)&#160;&#160;and&#160;&#160;software&#160;<br/>measures.&#160;<br/>
<b>2.3&#160;</b><br/>
<b>Safety&#160;Requirements&#160;</b><br/>
To&#160;&#160;achieve&#160;&#160;this&#160;&#160;safety&#160;&#160;goal,&#160;&#160;the&#160;&#160;following&#160;&#160;assumed&#160;&#160;safety&#160;&#160;requirements&#160;&#160;are&#160;&#160;provided&#160;&#160;by&#160;<br/>SafeContext:&#160;<br/><b>ASA_OS_1:&#160;&#160;</b>Non-trusted&#160;&#160;software&#160;&#160;must&#160;&#160;be&#160;&#160;prevented&#160;&#160;from&#160;&#160;overwriting&#160;&#160;data&#160;&#160;of&#160;&#160;safety&#160;<br/>relevant&#160;software.&#160;<br/><b>ASA_OS_2:&#160;</b>A&#160;<i>runtime&#160;context</i>&#160;(Task,&#160;Hook,&#160;(Non-)Trusted-Function&#160;and&#160;ISR)&#160;must&#160;not&#160;be&#160;<br/>destroyed&#160;by&#160;a&#160;switch&#160;(to&#160;another runtime&#160;context).&#160;<br/><b>ASA_OS_3:&#160;&#160;</b>A&#160;&#160;runtime&#160;&#160;context&#160;&#160;shall&#160;&#160;be&#160;&#160;set&#160;&#160;up&#160;&#160;according&#160;&#160;to&#160;&#160;compiler&#160;&#160;and&#160;&#160;processor&#160;<br/>specifications.&#160;<br/><b>ASA_OS_4:&#160;&#160;</b>Services&#160;&#160;to&#160;&#160;prevent&#160;&#160;data&#160;&#160;inconsistencies&#160;&#160;by&#160;&#160;racing&#160;&#160;conditions&#160;&#160;shall&#160;&#160;be&#160;<br/>provided.&#160;<br/><b>ASA_OS_5:&#160;</b>The&#160;OS&#160;never&#160;writes to&#160;unintended&#160;memory&#160;locations.&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;10&#160;/&#160;80&#160;<br/>
<hr/>
<a name=11></a><img src="ElectricPowerSteering_RH850_GM_G2KCA_website/content/en/docs/Os/doc/MicrosarOS_RH850_SafeContext_SafetyManual-11_1.png"/><br/>
Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
&#160;<br/>
<b>2.4&#160;</b><br/>
<b>SafeContext Functionality&#160;</b><br/>
MICROSAR&#160;OS&#160;SafeContext&#160;implements&#160;the&#160;AUTOSAR&#160;OS&#160;and&#160;OSEK&#160;OS&#160;standards&#160;of&#160;a&#160;<br/>real-time&#160;operating&#160;system&#160;with&#160;some&#160;restrictions.&#160;<br/>The&#160;functionality&#160;provided&#160;by&#160;MICROSAR&#160;OS&#160;is&#160;task&#160;switching,&#160;interrupt&#160;handling,&#160;memory&#160;<br/>protection&#160;handling,&#160;timer&#160;services&#160;and&#160;others.&#160;SafeContext&#160;provides&#160;an&#160;efficient&#160;solution&#160;<br/>also&#160;in&#160;respect&#160;of&#160;safety.&#160;Therefore&#160;the&#160;OSEK/AUTOSAR&#160;OS&#160;functionality&#160;is&#160;divided&#160;into&#160;3&#160;<br/>groups:&#160;<br/>
1.&#160;&#160;Functionality&#160;implemented&#160;according&#160;ISO&#160;26262&#160;to&#160;achieve&#160;ASIL.&#160;<br/>2.&#160;&#160;Functionality&#160;implemented&#160;according&#160;to&#160;“Silent”&#160;principle&#160;to&#160;prevent&#160;from&#160;safety&#160;data&#160;<br/>
overwritten&#160;by&#160;OS&#160;code.&#160;<br/>
3.&#160;&#160;Functionality&#160;&#160;which&#160;&#160;is&#160;&#160;not&#160;&#160;supported&#160;&#160;in&#160;&#160;SafeContext.&#160;&#160;It&#160;&#160;is&#160;&#160;assumed&#160;&#160;that&#160;&#160;this&#160;<br/>
functionality&#160;&#160;is&#160;&#160;not&#160;&#160;needed&#160;&#160;by&#160;&#160;a&#160;&#160;safety&#160;&#160;related&#160;ECU&#160;&#160;or&#160;&#160;it&#160;&#160;can&#160;&#160;be&#160;&#160;reached&#160;by&#160;&#160;other&#160;<br/>existing&#160;means.&#160;<br/>
&#160;<br/>This chapter describes&#160;which&#160;of&#160;the&#160;groups certain&#160;functionality&#160;falls into.&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Basic Knowledge&#160;<br/></b>The&#160;idea of&#160;“Silent”&#160;code&#160;is&#160;not&#160;to&#160;disturb other&#160;software&#160;by&#160;means&#160;of&#160;unintended&#160;<br/>
&#160;&#160;memory&#160;writes.&#160;To&#160;provide&#160;high&#160;performance,&#160;this&#160;is&#160;not&#160;achieved&#160;by&#160;a hardware&#160;<br/>
protection&#160;mechanism&#160;(which would require&#160;MPU&#160;reconfiguration&#160;for&#160;each&#160;API&#160;call)&#160;but&#160;<br/>by&#160;analysis&#160;of&#160;the&#160;OS&#160;code.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;11&#160;/&#160;80&#160;<br/>
<hr/>
<a name=12></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
Dispatcher<br/>
Scheduler<br/>
MPU&#160;management<br/>
Task&#160;management<br/>
Interrupt&#160;management<br/>
Alarm&#160;management<br/>
Event&#160;management<br/>
Resource&#160;management<br/>
Configuration&#160;(ASIL)<br/>
Configuration&#160;(QM)<br/>
ASIL<br/>
Silent<br/>
OS&#160;&#160;<br/>
Figure&#160;2-1&#160;&#160;Quality&#160;Levels&#160;of&#160;SafeContext&#160;Functionalities&#160;<br/>
AUTOSAR OS&#160;is&#160;a&#160;statically&#160;configured&#160;operating&#160;system.&#160;The&#160;configuration&#160;uses&#160;<br/>configuration&#160;editors and&#160;code&#160;generators to&#160;configure the&#160;OS.&#160;To&#160;ease&#160;the&#160;safety&#160;<br/>development&#160;the&#160;configuration&#160;is divided&#160;into&#160;two&#160;parts.&#160;<br/>
1.&#160;&#160;Configuration&#160;of&#160;Safety&#160;relevant&#160;functionality.&#160;The&#160;configuration&#160;is&#160;stored&#160;in&#160;the&#160;ECU&#160;<br/>
in&#160;a&#160;separate&#160;configuration&#160;block.&#160;<br/>
2.&#160;&#160;Configuration&#160;&#160;of&#160;&#160;silent&#160;&#160;functionality:&#160;&#160;This&#160;&#160;configuration&#160;&#160;is&#160;&#160;generated&#160;&#160;and&#160;&#160;compiled&#160;<br/>
into&#160;the&#160;OS&#160;code.&#160;<br/>
Additionally&#160;&#160;some&#160;&#160;safety&#160;&#160;relevant&#160;&#160;configuration&#160;&#160;parameters&#160;&#160;are&#160;&#160;generated&#160;&#160;and&#160;&#160;compiled&#160;<br/>into&#160;&#160;the&#160;&#160;OS&#160;&#160;code.&#160;&#160;Those&#160;&#160;have&#160;&#160;to&#160;&#160;be&#160;&#160;reviewed&#160;&#160;by&#160;&#160;the&#160;&#160;user&#160;&#160;according&#160;&#160;the&#160;&#160;rules&#160;&#160;in&#160;&#160;this&#160;<br/>document.&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;12&#160;/&#160;80&#160;<br/>
<hr/>
<a name=13></a><img src="ElectricPowerSteering_RH850_GM_G2KCA_website/content/en/docs/Os/doc/MicrosarOS_RH850_SafeContext_SafetyManual-13_1.png"/><br/>
Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
&#160;<br/>&#160;<br/><b>2.4.1&#160;&#160;Safety&#160;Part&#160;<br/></b>SafeContext&#160;provides the&#160;following&#160;functionality&#160;safely:&#160;<br/>
1.&#160;&#160;context&#160;switching&#160;<br/>2.&#160;&#160;MPU management&#160;<br/>3.&#160;&#160;Interrupt&#160;API&#160;<br/>4.&#160;&#160;no&#160;unintended&#160;overwriting&#160;of&#160;memory&#160;<br/>
&#160;<br/>The&#160;<i>context</i>&#160;is defined&#160;as:&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;set&#160;of&#160;registers, which&#160;is used&#160;by&#160;the&#160;compiler&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;stack&#160;pointer&#160;<br/>
<b>&gt;&#160;&#160;</b>CPU mode&#160;(including&#160;interrupt&#160;state&#160;and&#160;privilege&#160;mode)&#160;<br/>
<b>&gt;&#160;&#160;</b>Memory&#160;Access Rights&#160;<br/>
&#160;<br/>Explanations:&#160;<br/>
<b>&gt;&#160;&#160;</b>A&#160;context&#160;switch&#160;occurs in&#160;several situations.&#160;These&#160;are:&#160;Task&#160;start/switch,&#160;ISR&#160;<br/>
entry/exit,&#160;call&#160;of&#160;OS&#160;services,&#160;call&#160;of&#160;(Non-)Trusted&#160;Functions and&#160;Hook routines.&#160;<br/>
Conclusions:&#160;<br/>
<b>&gt;&#160;&#160;</b>If&#160;a&#160;user program&#160;is executed,&#160;it will always be&#160;executed&#160;with&#160;the&#160;correct&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>After interruptions it&#160;is&#160;guaranteed&#160;that&#160;execution&#160;is resumed&#160;with&#160;the&#160;correct&#160;context&#160;<br/>
<b>&gt;&#160;&#160;</b>Freedom&#160;from&#160;interference&#160;with&#160;respect&#160;to&#160;memory&#160;will&#160;be&#160;achieved&#160;by&#160;using&#160;memory&#160;<br/>
protection&#160;hardware (e.g.&#160;MPU)&#160;for&#160;non-trusted&#160;code.&#160;<br/>
<b>&gt;&#160;&#160;</b>Data&#160;inconsistency&#160;due&#160;to&#160;race&#160;conditions can&#160;be&#160;prevented&#160;by&#160;using&#160;the&#160;interrupt&#160;<br/>
API.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Other&#160;OS&#160;functionality&#160;follows&#160;the&#160;silent&#160;principle.&#160;For&#160;example&#160;the&#160;sequence of&#160;task&#160;<br/>
&#160;&#160;executions&#160;(scheduling)&#160;including&#160;the&#160;Task&#160;pre-emption&#160;is&#160;provided on&#160;QM&#160;level.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;13&#160;/&#160;80&#160;<br/>
<hr/>
<a name=14></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
The&#160;&#160;operating&#160;&#160;system&#160;&#160;provides&#160;&#160;safe&#160;&#160;switching&#160;&#160;of&#160;&#160;memory&#160;&#160;access&#160;&#160;rights&#160;&#160;during&#160;&#160;context&#160;<br/>switches&#160;to&#160;ensure&#160;that&#160;non-trusted&#160;code&#160;does&#160;not&#160;modify&#160;data&#160;of&#160;other&#160;OS-Applications&#160;(if&#160;<br/>not&#160;explicitly&#160;allowed).&#160;In&#160;addition&#160;the&#160;OS&#160;interrupts&#160;Tasks&#160;or ISRs to&#160;execute&#160;higher priority&#160;<br/>ISRs.&#160;By&#160;switching&#160;to&#160;another&#160;context&#160;the&#160;correct&#160;context&#160;is&#160;set&#160;up.&#160;By&#160;switching&#160;back&#160;to&#160;an&#160;<br/>interrupted&#160;Task&#160;or&#160;ISR,&#160;the&#160;correct&#160;and&#160;unchanged&#160;context&#160;is&#160;restored.&#160;To&#160;avoid&#160;change&#160;of&#160;<br/>a&#160;saved&#160;context&#160;of&#160;an&#160;interrupted&#160;or waiting&#160;task,&#160;memory&#160;protecting&#160;hardware is&#160;used.&#160;<br/>All&#160;points&#160;in&#160;the&#160;OS&#160;where&#160;context&#160;switches&#160;are&#160;performed&#160;or&#160;are necessary&#160;to&#160;perform&#160;are&#160;<br/>identified&#160;and&#160;developed&#160;according&#160;the&#160;safety&#160;standard.&#160;<br/>At&#160;each&#160;point&#160;in&#160;time&#160;only&#160;one&#160;context&#160;is&#160;active.&#160;All&#160;other&#160;contexts&#160;are&#160;saved&#160;and&#160;protected&#160;<br/>by&#160;hardware against&#160;accidental alterations.&#160;<br/>&#160;<br/>
&#160;<br/>
<b>inactive&#160;</b><br/>
<b>inactive&#160;</b><br/>
<b>active&#160;</b><br/>
<b>inactive&#160;</b><br/>
<b>inactive&#160;</b><br/>
<b>inactive&#160;</b><br/>
time&#160;<br/>
<b>MPU&#160;Protection&#160;</b><br/>
now&#160;<br/>
<b>MPU&#160;Protection&#160;</b><br/>
<b>Register&#160;</b><br/>
<b>Register&#160;</b><br/>
<b>Register&#160;</b><br/>
<b>Register&#160;</b><br/>
<b>Register&#160;</b><br/>
<b>Register&#160;</b><br/>
<b>Context&#160;</b><br/>
<b>Context&#160;</b><br/>
<b>Context&#160;</b><br/>
<b>Context&#160;</b><br/>
<b>Context&#160;</b><br/>
<b>Context&#160;</b><br/>
<b>Stack&#160;</b><br/>
<b>Stack&#160;</b><br/>
<b>Stack&#160;</b><br/>
<b>Stack&#160;</b><br/>
<b>Stack&#160;</b><br/>
<b>Stack&#160;</b><br/>
&#160;<br/>
Figure&#160;2-2&#160;&#160;Stored&#160;and&#160;active&#160;contexts&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;14&#160;/&#160;80&#160;<br/>
<hr/>
<a name=15></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>2.4.2&#160;&#160;Detailed&#160;List of&#160;Functionality&#160;<br/>2.4.2.1&#160;&#160;Safety&#160;<br/></b>The&#160;following&#160;OS&#160;services&#160;and&#160;there&#160;functionality&#160;is developed&#160;according&#160;to&#160;ASIL.&#160;<br/>
<b>Class&#160;</b><br/>
<b>Description&#160;</b><br/>
OS&#160;Service&#160;APIs&#160;<br/>
StartOS&#160;<br/>osInitialize&#160;<br/>osInitINTC&#160;<br/>ShutdownOS&#160;<br/>DisableAllInterrupts&#160;<br/>EnableAllInterrupts&#160;&#160;<br/>SuspendAllInterrupts&#160;<br/>ResumeAllInterrupts&#160;<br/>SuspendOSInterrupts&#160;<br/>ResumeOSInterrupts&#160;<br/>CallTrustedFunction&#160;<br/>CallNonTrustedFunction&#160;<br/>
osReadPeripheral8&#160;<br/>osReadPeripheral16&#160;<br/>osReadPeripheral32&#160;<br/>osWritePeripheral8&#160;<br/>osWritePeripheral16&#160;<br/>osWritePeripheral32&#160;<br/>osModifyPeripheral8&#160;<br/>osModifyPeripheral16&#160;<br/>osModifyPeripheral32&#160;<br/>osCheckMPUAccess&#160;<br/>osGetConfigBlockVersion&#160;<br/>GetApplicationID&#160;<br/>GetISRID&#160;&#160;<br/>GetTaskID&#160;&#160;<br/>osGetStackUsage&#160;<br/>osGetSystemStackUsage&#160;<br/>osGetISRStackUsage&#160;<br/>
OS&#160;System&#160;Hooks&#160;<br/>
StartupHook&#160;<br/>ErrorHook&#160;<br/>ProtectionHook&#160;<br/>ShutdownHook&#160;<br/>
Table&#160;2-1&#160;&#160;&#160;Safety&#160;Functionality&#160;<br/>
&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;15&#160;/&#160;80&#160;<br/>
<hr/>
<a name=16></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>2.4.2.2&#160;&#160;Silent&#160;<br/></b>The&#160;&#160;following&#160;&#160;API&#160;&#160;functions&#160;&#160;are&#160;&#160;developed&#160;&#160;according&#160;&#160;to&#160;&#160;Silent&#160;&#160;principle.&#160;&#160;SafeContext&#160;<br/>ensures&#160;that&#160;they&#160;do&#160;not&#160;violate&#160;the&#160;assumed&#160;safety&#160;goal&#160;mentioned.&#160;&#160;Exceptions&#160;may&#160;be&#160;<br/>possible,&#160;if&#160;one&#160;of&#160;these&#160;features&#160;has&#160;been&#160;explicitly&#160;ordered&#160;as&#160;safety&#160;relevant.&#160;Read&#160;the&#160;<br/>hardware specific part&#160;of&#160;this&#160;document&#160;if&#160;so.&#160;<br/>
<b>Class&#160;</b><br/>
<b>Description&#160;</b><br/>
OS&#160;service&#160;API&#160;<br/>
ActivateTask&#160;&#160;<br/>TerminateTask&#160;<br/>ChainTask&#160;<br/>Schedule&#160;<br/>GetTaskState&#160;<br/>GetResource&#160;<br/>ReleaseResource&#160;<br/>SetEvent&#160;&#160;<br/>ClearEvent&#160;&#160;<br/>GetEvent&#160;&#160;<br/>WaitEvent&#160;&#160;<br/>GetAlarm&#160;&#160;<br/>SetRelAlarm&#160;&#160;<br/>SetAbsAlarm&#160;&#160;<br/>CancelAlarm&#160;&#160;<br/>GetActiveApplicationMode&#160;<br/>CheckObjectAccess&#160;&#160;<br/>CheckObjectOwnership&#160;&#160;<br/>StartScheduleTableRel&#160;<br/>StartScheduleTableAbs&#160;&#160;<br/>StopScheduleTable&#160;&#160;<br/>NextScheduleTable&#160;&#160;<br/>GetScheduleTableStatus&#160;&#160;<br/>IncrementCounter&#160;<br/>GetElapsedValue/GetElapsedCounterValue&#160;<br/>GetCounterValue&#160;&#160;<br/>
Timer&#160;handling&#160;<br/>
The&#160;handling&#160;of&#160;timer&#160;hardware&#160;is&#160;realized&#160;as QM&#160;software.&#160;<br/>
Scheduling&#160;<br/>
The&#160;correct&#160;sequence&#160;of&#160;processing&#160;application&#160;programs&#160;is&#160;realized&#160;with&#160;<br/>QM-Software&#160;(priority&#160;handling,&#160;including&#160;Resources).&#160;<br/>
ORTI&#160;<br/>
ORTI&#160;is&#160;only&#160;supported&#160;in Silent&#160;part&#160;of&#160;the&#160;OS.&#160;<br/>
Table&#160;2-2&#160;&#160;&#160;Silent&#160;Functionality&#160;<br/>
&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;16&#160;/&#160;80&#160;<br/>
<hr/>
<a name=17></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>2.4.2.3&#160;&#160;Not&#160;provided&#160;<br/></b>The&#160;&#160;features&#160;&#160;listed&#160;&#160;in&#160;&#160;the&#160;&#160;following&#160;&#160;table&#160;&#160;are&#160;&#160;not&#160;&#160;supported&#160;&#160;in&#160;&#160;SafeContext&#160;&#160;per&#160;&#160;default.&#160;<br/>Exceptions&#160;may&#160;be&#160;possible,&#160;if&#160;one&#160;of&#160;these&#160;features&#160;has&#160;been&#160;explicitly&#160;ordered.&#160;Read&#160;the&#160;<br/>hardware specific part&#160;of&#160;this&#160;document&#160;if&#160;so.&#160;<br/>
<b>Class&#160;</b><br/>
<b>Description&#160;</b><br/>
OS&#160;service&#160;API&#160;<br/>
TerminateApplication&#160;<br/>CheckISRMemoryAccess&#160;<br/>CheckTaskMemoryAccess&#160;<br/><b>&gt;&#160;&#160;</b>For&#160;ShutdownOS&#160;the&#160;AUTOSAR&#160;OS&#160;requirement&#160;OS054 is not&#160;<br/>supported,&#160;i.e.&#160;non-trusted OS-Applications may&#160;successfully&#160;call&#160;<br/>ShutdownOS.&#160;<br/>StartScheduleTableSynchron&#160;<br/>SyncScheduleTable&#160;&#160;<br/>SetScheduleTableAsync&#160;<br/>
COM&#160;<br/>
OSEK&#160;COM&#160;inter&#160;task&#160;communication&#160;with messages&#160;is&#160;not&#160;supported&#160;<br/>
Interrupt&#160;resources&#160;&#160;Resources&#160;are only&#160;available at&#160;task&#160;level.&#160;<br/>Protection&#160;Reaction&#160;&#160;The&#160;only&#160;allowed&#160;protection&#160;reaction&#160;in&#160;the&#160;ProtectionHook&#160;is&#160;<br/>
PRO_SHUTDOWN.&#160;Other&#160;reactions&#160;will&#160;be&#160;interpreted&#160;as&#160;PRO_SHUTDOWN.&#160;&#160;<br/>[SPMF92:0020]&#160;<br/>
Killing&#160;<br/>
Forcible terminating&#160;Tasks&#160;or&#160;Applications is not&#160;supported.&#160;<br/>
OS&#160;Hooks&#160;<br/>
PreTaskHook&#160;(only&#160;for&#160;debugging!)&#160;<br/>PostTaskHook&#160;(only&#160;for&#160;debugging!)&#160;<br/>ISRHook&#160;<br/>PreAlarmHook&#160;<br/>
OS&#160;Application&#160;<br/>
StartupHook&lt;ApplName&gt;&#160;<br/>
specific&#160;Hooks&#160;<br/>
ErrorHook&lt;ApplName&gt;&#160;<br/>ShutdownHook&lt;ApplName&gt;&#160;<br/>
Address Parameter&#160;&#160;In case&#160;API&#160;functions&#160;with out-parameters&#160;are&#160;called&#160;with illegal&#160;address,&#160;<br/>Check&#160;<br/>
they&#160;do&#160;not&#160;return&#160;with the error&#160;code E_OS_ILLEGAL_ADDRESS&#160;as&#160;<br/>required&#160;by&#160;the&#160;AUTOSAR&#160;specification.&#160;Instead&#160;the&#160;out&#160;parameter&#160;is&#160;<br/>written&#160;with the&#160;access&#160;rights&#160;of&#160;the&#160;caller,&#160;which&#160;may&#160;lead to&#160;a&#160;memory&#160;<br/>protection&#160;violation in&#160;case&#160;the&#160;given&#160;pointer&#160;is&#160;invalid.&#160;&#160;<br/>
Stack&#160;optimization&#160;<br/>
Single stack&#160;model&#160;is&#160;not&#160;supported.&#160;<br/>
Internal&#160;Resources&#160;&#160;Internal&#160;Resources&#160;are not&#160;supported.&#160;<br/>Configuration&#160;<br/>
The&#160;following&#160;hooks&#160;must&#160;be&#160;enabled:&#160;<br/>
Aspects&#160;<br/>
StartupHook&#160;<br/>ErrorHook&#160;<br/>ShutdownHook&#160;<br/>ProtectionHook&#160;<br/>Only&#160;SCALABILITYCLASS SC3&#160;or&#160;SC4&#160;is&#160;supported.&#160;Memory&#160;protection&#160;<br/>must&#160;be&#160;active.&#160;<br/>STACKMONITORING&#160;must&#160;be&#160;enabled.&#160;<br/>OSInternalChecks&#160;must&#160;be&#160;configured&#160;to&#160;Additional.&#160;<br/>ORTIVersion = 2.0&#160;is&#160;not&#160;supported.&#160;<br/>ErrorInfoLevel = Modulenames&#160;is&#160;not&#160;supported.&#160;<br/>
Table&#160;2-3&#160;&#160;&#160;Functionality&#160;–&#160;Not&#160;provided&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;17&#160;/&#160;80&#160;<br/>
<hr/>
<a name=18></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>&#160;</b><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;18&#160;/&#160;80&#160;<br/>
<hr/>
<a name=19></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>2.5&#160;</b><br/>
<b>Safe State&#160;</b><br/>
The&#160;&#160;safe&#160;&#160;state&#160;&#160;in&#160;&#160;SafeContext&#160;&#160;is&#160;&#160;shutdown&#160;&#160;(endless&#160;&#160;loop&#160;&#160;with&#160;&#160;interrupts&#160;&#160;disabled).&#160;&#160;The&#160;<br/>safe&#160;&#160;state&#160;&#160;is&#160;&#160;entered&#160;&#160;whenever&#160;&#160;the&#160;&#160;OS&#160;&#160;detects&#160;&#160;a&#160;&#160;violation&#160;&#160;of&#160;&#160;its&#160;&#160;safety&#160;&#160;goal&#160;&#160;or&#160;&#160;even&#160;&#160;an&#160;<br/>attempt.&#160;&#160;Before&#160;&#160;the&#160;&#160;safe&#160;&#160;state&#160;&#160;is&#160;&#160;entered,&#160;&#160;the&#160;&#160;ShutdownHook&#160;&#160;is&#160;&#160;called.&#160;&#160;The&#160;<br/>ShutdownHook&#160;may&#160;contain&#160;user&#160;code&#160;which&#160;is&#160;necessary&#160;to&#160;reach&#160;the&#160;defined&#160;safe&#160;state&#160;<br/>of&#160;the&#160;system.&#160;This&#160;might&#160;lead&#160;to&#160;a&#160;reset&#160;in&#160;combination&#160;with&#160;a&#160;watchdog.&#160;&#160;<br/>&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;19&#160;/&#160;80&#160;<br/>
<hr/>
<a name=20></a><img src="ElectricPowerSteering_RH850_GM_G2KCA_website/content/en/docs/Os/doc/MicrosarOS_RH850_SafeContext_SafetyManual-20_1.jpg"/><br/>
Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>3&#160;</b><br/>
<b>Overview&#160;of&#160;Requirements&#160;to&#160;the&#160;OS&#160;User&#160;</b><br/>
For&#160;&#160;integration&#160;&#160;of&#160;&#160;the&#160;&#160;SafeContext&#160;&#160;into&#160;&#160;a&#160;&#160;particular&#160;&#160;context,&#160;&#160;the&#160;&#160;user&#160;&#160;has&#160;&#160;the&#160;&#160;following&#160;<br/>requirements&#160;to&#160;be&#160;fulfilled.&#160;They&#160;can&#160;be&#160;seen&#160;as&#160;steps&#160;to&#160;integrate&#160;the&#160;SEooC&#160;in&#160;the&#160;ECU&#160;<br/>without&#160;harming&#160;the&#160;assumed&#160;safety&#160;goal.&#160;&#160;<br/>The&#160;top&#160;level requirements&#160;are listed&#160;in&#160;the&#160;following&#160;table.&#160;They&#160;are considered&#160;in&#160;more&#160;<br/>detail&#160;later.&#160;If&#160;all&#160;sub-requirements&#160;are checked,&#160;you&#160;can&#160;check the&#160;according&#160;top&#160;level&#160;<br/>requirement&#160;too.&#160;<br/>&#160;<br/>
<b>Description&#160;of&#160;requirements&#160;to&#160;the&#160;OS&#160;user&#160;</b><br/>
<b>Fulfilled&#160;</b><br/>
Check&#160;that&#160;all&#160;assumptions&#160;made&#160;by&#160;SafeContext&#160;are&#160;valid&#160;&#160;<br/>
&#160;<br/>
(see&#160;chapter&#160;“General&#160;SafeContext&#160;Assumptions”)&#160;<br/>
Check&#160;code integrity&#160;of&#160;the&#160;used&#160;OS&#160;sources&#160;<br/>
&#160;<br/>
(see&#160;chapter&#160;“OS&#160;Source&#160;Checksum”)&#160;<br/>Add&#160;CRC&#160;into&#160;the&#160;configuration block&#160;after&#160;linkage&#160;<br/>
&#160;<br/>
(see&#160;chapter&#160;“Patching&#160;the&#160;Configuration&#160;Block”)&#160;<br/>Check&#160;general&#160;configuration&#160;guidelines&#160;<br/>
&#160;<br/>
(see&#160;chapter&#160;“General&#160;Configuration&#160;Guidelines”)&#160;<br/>Review&#160;the&#160;safety&#160;relevant&#160;configuration&#160;data&#160;<br/>
&#160;<br/>
(see&#160;chapter&#160;“Review&#160;General&#160;Part&#160;of&#160;Configuration Block”)&#160;<br/>Review&#160;the&#160;generated&#160;code&#160;&#160;<br/>
&#160;<br/>
(see&#160;chapter&#160;“Review&#160;Generated&#160;Code”)&#160;<br/>Review&#160;your&#160;software&#160;&#160;<br/>
&#160;<br/>
(see&#160;chapter&#160;“Review&#160;User&#160;Software”)&#160;<br/>Execute MICROSAR&#160;Safe&#160;Silence Verifier&#160;(MSSV)&#160;on&#160;silent&#160;OS&#160;part&#160;<br/>
&#160;<br/>
(see&#160;chapter&#160;“Qualifying&#160;Silent&#160;OS&#160;Part”)&#160;<br/>Check&#160;specific&#160;requirements&#160;to&#160;the&#160;user&#160;<br/>
&#160;<br/>
(see&#160;chapter&#160;“Hardware&#160;Specific&#160;Part”)&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>All&#160;requirements&#160;listed&#160;in this&#160;document&#160;must&#160;be&#160;checked&#160;and&#160;fulfilled&#160;by&#160;the user!&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;20&#160;/&#160;80&#160;<br/>
<hr/>
<a name=21></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
OS&#160;Configuration&#160;<br/>
(OIL&#160;or&#160;ECUC)&#160;<br/>
OS&#160;Generator&#160;<br/>
Static&#160;OS&#160;<br/>
Generated&#160;OS&#160;<br/>
Sources&#160;<br/>
Sources&#160;<br/>
&#160;&#160;<br/>
ConfigBlock&#160;<br/>
OS&#160;Source&#160;<br/>
Checksum&#160;<br/>
Qualify&#160;generated&#160;<br/>
Sources&#160;<br/>
Application&#160;<br/>
(MSSV)&#160;<br/>
Sources&#160;<br/>
User&#160;Review&#160;<br/>
Review&#160;User&#160;<br/>
Software&#160;<br/>
Compiling&#160;+&#160;<br/>
Configuration&#160;in&#160;<br/>
Linking&#160;<br/>
XML&#160;<br/>
&#160;&#160;<br/>
Executable&#160;<br/>
Intermediate&#160;<br/>
Read&#160;Back&#160;<br/>
Format&#160;<br/>
ConfigBlock&#160;<br/>
&#160;<br/>
In&#160;Human&#160;<br/>
Patching&#160;the&#160;<br/>
Readable&#160;<br/>
Configuration&#160;Block&#160;<br/>
Hex&#160;Converter&#160;<br/>
ConfigBlock&#160;<br/>
Executable&#160;<br/>
Hex&#160;File&#160;<br/>
Verify&#160;ConfigBlock&#160;<br/>
Flashing&#160;<br/>
Read&#160;Back&#160;<br/>
<b>ECU</b>&#160;<br/>
&#160;<br/>
Figure&#160;3-1&#160;&#160;Strategy&#160;for&#160;safety&#160;configuration&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;21&#160;/&#160;80&#160;<br/>
<hr/>
<a name=22></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>4&#160;</b><br/>
<b>General&#160;SafeContext&#160;Assumptions&#160;</b><br/>
All&#160;&#160;assumptions&#160;&#160;must&#160;&#160;be&#160;&#160;checked&#160;&#160;to&#160;&#160;be&#160;&#160;true.&#160;&#160;Assumptions&#160;&#160;concerning&#160;&#160;the&#160;&#160;focus&#160;&#160;of&#160;<br/>SafeContext&#160;&#160;are&#160;&#160;given&#160;&#160;by&#160;&#160;the&#160;&#160;safety&#160;&#160;goals&#160;&#160;and&#160;&#160;related&#160;&#160;safety&#160;&#160;requirements&#160;&#160;described&#160;&#160;in&#160;<br/>the&#160;safety&#160;case.&#160;Assumptions about&#160;the&#160;environment&#160;are described&#160;in&#160;this chapter.&#160;<br/>&#160;<br/>
<b>Description&#160;of&#160;requirements&#160;to&#160;the&#160;OS&#160;user&#160;</b><br/>
<b>Fulfilled&#160;</b><br/>
<i>Know&#160;the&#160;SafeContext&#160;concept&#160;</i><br/>
&#160;<br/>
The&#160;system&#160;safety&#160;concept&#160;must&#160;not&#160;rely&#160;on&#160;OS&#160;functionality&#160;developed&#160;according&#160;to&#160;<br/>the&#160;Silent&#160;principle.&#160;A&#160;complete&#160;list&#160;of&#160;API&#160;functions and&#160;the&#160;guarantees&#160;they&#160;give is&#160;<br/>provided in&#160;chapter&#160;“Detailed&#160;List&#160;of&#160;Functionality”.&#160;[SPMF92:0075]<i>&#160;<br/>Know&#160;your&#160;memory&#160;configuration&#160;&#160;</i><br/>
&#160;<br/>
Setup&#160;of&#160;memory&#160;sections&#160;must&#160;be&#160;planned by&#160;the system&#160;designer.&#160;Whether&#160;or&#160;not&#160;<br/>the&#160;planned&#160;setup&#160;is&#160;configured&#160;correctly&#160;must&#160;be&#160;verified&#160;by&#160;reading&#160;the&#160;configuration&#160;<br/>back&#160;from&#160;the&#160;ECU&#160;and&#160;reviewing&#160;it&#160;against&#160;system&#160;design&#160;and hardware&#160;manuals.&#160;<br/><i>Know&#160;the&#160;OS&#160;specifications&#160;</i><br/>
&#160;<br/>
The&#160;user&#160;shall&#160;read&#160;the&#160;OS&#160;specifications&#160;for&#160;OSEK&#160;OS&#160;and&#160;AUTOSAR&#160;OS.&#160;<br/><i>Know&#160;how&#160;to&#160;use&#160;the&#160;OS&#160;</i><br/>
&#160;<br/>
The&#160;user&#160;shall&#160;read&#160;the&#160;OS&#160;manuals:&#160;<br/><b>&gt;&#160;&#160;</b>General&#160;Technical&#160;Reference Manual<i>&#160;<br/></i><b>&gt;&#160;&#160;</b>Specific&#160;Technical&#160;Reference Manual<i>&#160;<br/></i>Versions are&#160;listed&#160;in&#160;the&#160;delivered&#160;safety&#160;case.<i>&#160;<br/>Correctness&#160;of&#160;processor&#160;&#160;</i><br/>
&#160;<br/>
The&#160;&#160;processor&#160;&#160;provides&#160;&#160;its&#160;&#160;functionality&#160;&#160;with&#160;&#160;sufficient&#160;&#160;safety,&#160;&#160;so&#160;&#160;that&#160;&#160;the&#160;&#160;OS&#160;&#160;needs&#160;<br/>not&#160;take&#160;care&#160;about&#160;potential&#160;hardware&#160;failure.&#160;This&#160;might&#160;be&#160;assured&#160;by&#160;usage&#160;of&#160;a&#160;<br/>lockstep&#160;processor.&#160;<br/>
<i>Correctness&#160;of&#160;memory&#160;</i><br/>
&#160;<br/>
The&#160;memory&#160;works&#160;with&#160;sufficient&#160;safety,&#160;so&#160;that&#160;the&#160;OS&#160;needs&#160;not&#160;to&#160;take&#160;care&#160;about&#160;<br/>potential&#160;hardware&#160;failure.&#160;<br/><i>Correctness&#160;of&#160;MPU&#160;</i><br/>
&#160;<br/>
The&#160;&#160;MPU&#160;&#160;provides&#160;&#160;its&#160;&#160;functionality&#160;&#160;with&#160;&#160;sufficient&#160;&#160;safety,&#160;&#160;so&#160;&#160;that&#160;&#160;the&#160;&#160;OS&#160;&#160;needs&#160;&#160;not&#160;<br/>take care about&#160;potential&#160;hardware&#160;failure.&#160;<br/>The&#160;&#160;OS&#160;&#160;provides&#160;&#160;an&#160;API&#160;&#160;(osCheckMPUAccess)&#160;&#160;which&#160;&#160;can&#160;&#160;be&#160;&#160;used&#160;&#160;by&#160;&#160;the&#160;&#160;user&#160;&#160;to&#160;<br/>check&#160;the&#160;MPU.&#160;<br/><i>Correctness&#160;of&#160;hardware&#160;manuals&#160;</i><br/>
&#160;<br/>
The&#160;Hardware&#160;manuals&#160;and&#160;the&#160;compiler&#160;manuals&#160;are&#160;sufficiently&#160;reliable,&#160;so&#160;that&#160;the&#160;<br/>OS&#160;&#160;needs&#160;&#160;not&#160;&#160;take&#160;&#160;care&#160;&#160;about&#160;&#160;potential&#160;&#160;deviations&#160;&#160;between&#160;&#160;hardware&#160;&#160;functionality&#160;<br/>and its&#160;description&#160;in the&#160;manuals.&#160;<br/>Versions of&#160;the&#160;used&#160;hardware&#160;manuals&#160;are&#160;listed&#160;in the&#160;delivered&#160;safety&#160;case.&#160;<br/>[SPMF92:0017]&#160;<br/><i>Correctness&#160;of&#160;compiler&#160;tool&#160;chain&#160;</i><br/>
&#160;<br/>
SafeContext&#160;assumes&#160;that&#160;the&#160;compiler,&#160;assembler&#160;and&#160;linker&#160;generate&#160;code&#160;with&#160;the&#160;<br/>required&#160;safety&#160;level.&#160;<br/><i>Correctness&#160;of&#160;compiler&#160;version and&#160;options&#160;</i><br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;22&#160;/&#160;80&#160;<br/>
<hr/>
<a name=23></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>Description&#160;of&#160;requirements&#160;to&#160;the&#160;OS&#160;user&#160;</b><br/>
<b>Fulfilled&#160;</b><br/>
The&#160;&#160;used&#160;&#160;compiler&#160;&#160;version&#160;&#160;and&#160;&#160;options&#160;&#160;are&#160;&#160;identical&#160;&#160;to&#160;&#160;them&#160;&#160;which&#160;&#160;are&#160;&#160;used&#160;&#160;during&#160;<br/>development.&#160;<br/>Used&#160;compiler&#160;version and&#160;options&#160;are&#160;listed&#160;in&#160;the delivered&#160;safety&#160;case.<i>&#160;<br/>Code integrity&#160;</i><br/>
&#160;<br/>
The&#160;source&#160;code&#160;and&#160;generated&#160;configuration&#160;of&#160;MICROSAR&#160;OS&#160;SafeContext&#160;is&#160;<br/>compiled,&#160;linked&#160;and&#160;downloaded to&#160;the&#160;ECU&#160;correctly&#160;and not&#160;modified&#160;afterwards.&#160;<br/>[SPMF92:0043]&#160;<br/><i>Context&#160;definition&#160;</i><br/>
&#160;<br/>
The&#160;user&#160;shall&#160;not&#160;rely&#160;on registers,&#160;which are not&#160;part&#160;of&#160;the&#160;context&#160;of&#160;the OS.&#160;<br/>&#160;The&#160;context&#160;definition&#160;is&#160;listed&#160;in&#160;chapter&#160;4.1&#160;<br/><i>Hardware handled&#160;by&#160;the OS&#160;shall&#160;not&#160;be&#160;manipulated&#160;by user&#160;code&#160;</i><br/>
&#160;<br/>
User&#160;code&#160;shall&#160;not&#160;handle hardware&#160;which is handled&#160;by&#160;the&#160;OS.&#160;This&#160;may&#160;include:&#160;<br/><b>&gt;&#160;&#160;</b>Interrupt&#160;Controller&#160;[SPMF92:0083]&#160;<br/><b>&gt;&#160;&#160;</b>MPU&#160;[SPMF92:0085]&#160;<br/><b>&gt;&#160;&#160;</b>Timer&#160;<br/><i>Don't&#160;manipulate&#160;short&#160;addressing&#160;base&#160;registers&#160;</i><br/>
&#160;<br/>
Do not&#160;manipulate&#160;registers&#160;which are used&#160;by&#160;the compiler&#160;for&#160;relative addressing&#160;of&#160;<br/>code or&#160;data.&#160;[SPMF92:0084]<i>&#160;</i><br/>
Table&#160;4-1&#160;&#160;&#160;General&#160;SafeContext&#160;Assumptions&#160;<br/>
<b>4.1&#160;</b><br/>
<b>Context Definition&#160;</b><br/>
The&#160;context&#160;which&#160;is&#160;used&#160;by&#160;the&#160;OS&#160;consists&#160;of&#160;the&#160;following&#160;registers:&#160;<br/>
<b>Register&#160;</b><br/>
<b>Size&#160;in Byte&#160;</b><br/>
R1&#160;<br/>
4&#160;<br/>
R2&#160;<br/>
4&#160;<br/>
R4&#160;<br/>
28&#160;*&#160;4&#160;=&#160;112&#160;<br/>
R5&#160;<br/>…&#160;<br/>R30&#160;<br/>R31&#160;<br/>EIPC&#160;<br/>
4&#160;<br/>
EIPSW&#160;<br/>
4&#160;<br/>
CTPC&#160;<br/>
4&#160;<br/>
CTPSW&#160;<br/>
4&#160;<br/>
MPLA0&#160;<br/>
4&#160;<br/>
MPUA0&#160;<br/>
4&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;23&#160;/&#160;80&#160;<br/>
<hr/>
<a name=24></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>5&#160;</b><br/>
<b>OS&#160;Source&#160;Checksum&#160;</b><br/>
The&#160;OS&#160;is&#160;delivered&#160;as&#160;source&#160;code.&#160;To&#160;assure&#160;that&#160;source&#160;code&#160;files&#160;are&#160;not&#160;altered&#160;after&#160;<br/>the&#160;testing&#160;and&#160;release&#160;a&#160;checksum&#160;is calculated.&#160;The&#160;user shall&#160;calculate&#160;the&#160;checksum&#160;to&#160;<br/>verify&#160;the&#160;correctness&#160;of&#160;the&#160;source&#160;code&#160;he&#160;is using.&#160;[SPMF92:0042]&#160;<br/>A&#160;checksum&#160;calculation&#160;program&#160;(CCodeSafe.exe)&#160;is&#160;provided&#160;to&#160;the&#160;user.&#160;It&#160;is&#160;called&#160;with&#160;<br/>the&#160;following&#160;argument:&#160;<br/>&#160;&#160;CCodeSafe &lt;config.ini&gt;&#160;<br/>&#160;<br/>This tool calculates a&#160;CRC32&#160;checksum&#160;over a&#160;given&#160;list of&#160;files given&#160;in&#160;&lt;config.ini&gt;.&#160;<br/>&#160;<br/>
<b>Description&#160;of&#160;requirements&#160;to&#160;the&#160;OS&#160;user&#160;</b><br/>
<b>Fulfilled&#160;</b><br/>
Use the&#160;delivered&#160;source&#160;files&#160;from&#160;Vector!&#160;Do&#160;not&#160;use&#160;changed copies&#160;in a&#160;productive&#160;&#160;&#160;<br/>system!&#160;Also consider&#160;header&#160;include order&#160;of&#160;the&#160;compiler.&#160;<br/>The&#160;&lt;config.ini&gt;&#160;shall&#160;contain the&#160;OS&#160;sources&#160;listed&#160;in&#160;the&#160;safety&#160;case.&#160;<br/>
&#160;<br/>
The&#160;calculated&#160;checksum&#160;returned by&#160;CCodeSafe&#160;is&#160;identical&#160;to&#160;the&#160;checksum&#160;given&#160;&#160;&#160;<br/>in the&#160;safety&#160;case.&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;24&#160;/&#160;80&#160;<br/>
<hr/>
<a name=25></a><img src="ElectricPowerSteering_RH850_GM_G2KCA_website/content/en/docs/Os/doc/MicrosarOS_RH850_SafeContext_SafetyManual-25_1.png"/><br/>
Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>An example&#160;for&#160;a&#160;&lt;config.ini&gt;&#160;file:&#160;<br/>
&#160;<br/>
# src directory:&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\atosappl.c&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\atostime.c&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\osek.c&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\osekasm.c&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\osekalrm.c&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\osekerr.c&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\osekevnt.c&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\osekrsrc.c&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\oseksched.c&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\osekstart.c&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\osektask.c&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\osektime.c&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\osSysCallTable.c&#160;<br/>&#160;<br/># include directory:&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\Os.h&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\Os_cfg.h&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\osek.h&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\osekasrt.h&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\osekcov.h&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\osekerr.h&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\osekext.h&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\osekasm.h&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\oseksched.h&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\emptymac.h&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\testmac1.h&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\vrm.h&#160;<br/>&lt;INSTALLATION_DIRECTORY&gt;\BSW\Os\osSysCallTable.dld&#160;<br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;25&#160;/&#160;80&#160;<br/>
<hr/>
<a name=26></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>6&#160;</b><br/>
<b>Patching&#160;the&#160;Configuration&#160;Block&#160;</b><br/>
Configuration&#160;&#160;information&#160;&#160;which&#160;&#160;is&#160;&#160;relevant&#160;&#160;to&#160;&#160;reach&#160;&#160;the&#160;&#160;safety&#160;&#160;goal&#160;&#160;is&#160;&#160;stored&#160;&#160;in&#160;&#160;a&#160;&#160;data&#160;<br/>structure&#160;&#160;called&#160;&#160;the&#160;&#160;configuration&#160;&#160;block.&#160;&#160;The&#160;&#160;integrity&#160;&#160;of&#160;&#160;this&#160;&#160;information&#160;&#160;is&#160;&#160;checked&#160;&#160;in&#160;<br/>StartOS&#160;using&#160;a&#160;CRC&#160;checksum.&#160;<br/>
The&#160;CRC&#160;must&#160;be&#160;calculated&#160;after compiling&#160;and&#160;linking&#160;the&#160;application.&#160;There&#160;are&#160;two&#160;<br/>programs provided&#160;to&#160;calculate&#160;and&#160;apply&#160;the&#160;CRC to&#160;the&#160;binary&#160;file:&#160;<br/>&#160;<br/>
<b>&gt;&#160;&#160;</b>ElfConverter&#160;<br/>
For&#160;patching&#160;the CRC&#160;into an&#160;ELF&#160;file and optionally&#160;create&#160;an&#160;<br/>intermediate&#160;file&#160;for&#160;reading&#160;back&#160;the&#160;configuration block.&#160;<br/>
<b>&gt;&#160;&#160;</b>ConfigBlockCRCPatch&#160;&#160;For&#160;patching&#160;the CRC&#160;into an&#160;Intel&#160;Hex&#160;or&#160;Motorola SREC&#160;file.&#160;<br/>
&#160;<br/>The&#160;following&#160;steps&#160;are necessary&#160;to&#160;patch&#160;the&#160;configuration&#160;block:&#160;<br/>&#160;<br/>
1.&#160;&#160;Compile&#160;and&#160;link&#160;your&#160;application&#160;<br/>2.&#160;&#160;Run&#160;CRC&#160;patch&#160;software&#160;<br/>3.&#160;&#160;Write&#160;modified&#160;executable&#160;into&#160;flash&#160;memory&#160;<br/>
&#160;<br/>&#160;<br/>
<b>Description&#160;of&#160;requirements&#160;to&#160;the&#160;OS&#160;user&#160;</b><br/>
<b>Fulfilled&#160;</b><br/>
Check&#160;&#160;that&#160;&#160;CRC&#160;&#160;is&#160;&#160;non-zero.&#160;&#160;If&#160;&#160;so,&#160;&#160;change&#160;&#160;user&#160;&#160;configuration&#160;&#160;version&#160;&#160;to&#160;&#160;avoid&#160;&#160;zero&#160;&#160;&#160;<br/>CRC.&#160;[SPMF92:0071]&#160;<br/>
&#160;<br/>&#160;<br/>
<b>6.1&#160;</b><br/>
<b>Using ElfConverter&#160;</b><br/>
The&#160;program&#160;ElfConverter.exe&#160;is called&#160;with&#160;the&#160;following&#160;parameters:&#160;<br/>
ElfConverter &lt;ELF File&gt; &lt;ConfigBlock Symbol&gt;&#160;--out &lt;Intermediate File&gt;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
<b>Description&#160;</b><br/>
--out &lt;file&gt; &#160; &#160; &#160;&#160;&#160;Dump&#160;the&#160;configuration&#160;block in&#160;intermediate&#160;format&#160;<br/>--patch_crc &#160; &#160; &#160;&#160;&#160;Calculate&#160;the&#160;configuration&#160;block's&#160;CRC&#160;and write it&#160;into&#160;the&#160;ELF&#160;file&#160;<br/>--print_header &#160;&#160;&#160;&#160;Print&#160;ELF&#160;header&#160;<br/>--print_sections &#160;&#160;&#160;Print&#160;ELF&#160;sections&#160;<br/>--print_symbols&#160; &#160;&#160;&#160;Print&#160;ELF&#160;symbols&#160;<br/>--print_hexdump&#160;<br/>
Print&#160;a&#160;hex&#160;dump&#160;of&#160;the&#160;configuration block&#160;<br/>
--help&#160;<br/>
Show&#160;help&#160;<br/>
Table&#160;6-1&#160;&#160;&#160;ElfConverter&#160;parameters&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;26&#160;/&#160;80&#160;<br/>
<hr/>
<a name=27></a><img src="ElectricPowerSteering_RH850_GM_G2KCA_website/content/en/docs/Os/doc/MicrosarOS_RH850_SafeContext_SafetyManual-27_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_GM_G2KCA_website/content/en/docs/Os/doc/MicrosarOS_RH850_SafeContext_SafetyManual-27_2.png"/><br/>
Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>Patching&#160;the&#160;configuration block&#160;in ELF&#160;file&#160;testappl.out:&#160;<br/>
&#160;<br/>
ElfConverter.exe testappl.out _osConfigBlock&#160;--out testcfg.hex&#160;<br/>--patch_crc&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>6.2&#160;</b><br/>
<b>Using ConfigBlockCRCPatch&#160;</b><br/>
The&#160;program&#160;ConfigBlockCRCPatch.exe&#160;is called&#160;with&#160;the&#160;following&#160;parameters:&#160;<br/>
ConfigBlockCRCPatch &lt;HEX File&gt; &lt;Output file&gt; &lt;ConfigBlock Address&gt;&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>Example (convert&#160;ELF&#160;file prj.out&#160;into&#160;prj.hex&#160;with&#160;modified&#160;CRC):&#160;<br/>
&#160;<br/>
ConfigBlockCRCPatch prj.out&#160;prj.hex 0x00800000&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
The&#160;address&#160;of&#160;the&#160;configuration&#160;block&#160;may&#160;be&#160;taken&#160;from&#160;symbol&#160;osConfigBlock&#160;in&#160;the&#160;<br/>linker generated&#160;map&#160;file.&#160;[SPMF92:0016]&#160;<br/>&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;27&#160;/&#160;80&#160;<br/>
<hr/>
<a name=28></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>7&#160;</b><br/>
<b>General&#160;Configuration&#160;Guidelines&#160;</b><br/>
<b>Description&#160;of&#160;requirements&#160;to&#160;the&#160;OS&#160;user&#160;</b><br/>
<b>Fulfilled&#160;</b><br/>
<i>Non-ASIL&#160;user&#160;code&#160;shall&#160;be&#160;part&#160;of&#160;Non-Trusted&#160;Applications&#160;</i><br/>
&#160;<br/>
All&#160;non-ASIL&#160;user&#160;code&#160;must&#160;be&#160;executed&#160;by&#160;Non-Trusted&#160;Applications&#160;with&#160;no&#160;write&#160;<br/>access&#160;&#160;to&#160;&#160;safety&#160;&#160;relevant&#160;&#160;data&#160;&#160;(including&#160;&#160;stacks)&#160;&#160;and&#160;&#160;no&#160;&#160;read&#160;&#160;or&#160;&#160;write&#160;&#160;access&#160;&#160;to&#160;<br/>safety&#160;relevant&#160;peripherals.&#160;[SPMF92:02.0034]&#160;<br/><i>ASIL&#160;user&#160;code&#160;shall&#160;not&#160;violate&#160;the&#160;SafeContext&#160;safety&#160;goal&#160;</i><br/>
&#160;<br/>
All&#160;user&#160;code,&#160;which has&#160;access&#160;to safety&#160;relevant&#160;data&#160;(including&#160;stacks,&#160;and&#160;OS&#160;<br/>data)&#160;or&#160;peripherals,&#160;must&#160;be&#160;implemented&#160;on&#160;ASIL&#160;level.&#160;This&#160;code shall&#160;never&#160;<br/>violate&#160;the&#160;safety&#160;goals&#160;of&#160;SafeContext.&#160;[SPMF92:0011]&#160;<br/>Code which typically&#160;has&#160;access&#160;to&#160;safety&#160;relevant&#160;data&#160;(depending&#160;on&#160;user&#160;<br/>configuration):&#160;<br/><b>&gt;&#160;&#160;</b>Trusted&#160;Functions&#160;[SPMF92:0080]&#160;[SPMF92:03.0008]&#160;<br/><b>&gt;&#160;&#160;</b>Trusted&#160;Tasks&#160;<br/><b>&gt;&#160;&#160;</b>Trusted&#160;ISRs&#160;<br/><b>&gt;&#160;&#160;</b>System&#160;Hooks&#160;<br/>
<b>&gt;&#160;&#160;</b>StartupHook&#160;[SPMF92:0040]&#160;[SPMF92:03.0007]&#160;<br/><b>&gt;&#160;&#160;</b>ErrorHook&#160;[SPMF92:0012]&#160;[SPMF92:03.0006]&#160;<br/><b>&gt;&#160;&#160;</b>ProtectionHook&#160;[SPMF92:0009]&#160;[SPMF92:03.0005]&#160;<br/><b>&gt;&#160;&#160;</b>ShutdownHook&#160;[SPMF92:0013]&#160;[SPMF92:03.0009]&#160;<br/>
<b>&gt;&#160;&#160;</b>Reset&#160;handler&#160;/&#160;Startup&#160;Code [SPMF92:0005]&#160;[SPMF92:03.0001]&#160;<br/><b>&gt;&#160;&#160;</b>Exception&#160;Handlers&#160;[SPMF92:0087]&#160;<br/><b>&gt;&#160;&#160;</b>Category&#160;1&#160;ISRs&#160;[SPMF92:0054]&#160;[SPMF92:03.0004]&#160;<br/><i>Alignment&#160;of&#160;data sections&#160;</i><br/>
&#160;<br/>
All&#160;data&#160;sections&#160;shall&#160;be&#160;linked&#160;with&#160;MPU&#160;alignment&#160;granularity&#160;(e.g.&#160;32&#160;bytes).&#160;See&#160;<br/>the&#160;&#160;controller’s&#160;&#160;reference&#160;&#160;manual&#160;&#160;to&#160;&#160;know&#160;&#160;what&#160;&#160;your&#160;&#160;MPU&#160;&#160;granularity&#160;&#160;is.&#160;<br/>[SPMF92:0065]&#160;<br/><i>Consider&#160;category&#160;1&#160;ISRs&#160;</i><br/>
&#160;<br/>
Category&#160;1&#160;ISRs&#160;are&#160;completely&#160;transparent&#160;to&#160;the&#160;OS.&#160;The&#160;OS&#160;does not&#160;perform&#160;<br/>stack&#160;switching&#160;for&#160;category&#160;1 ISRs!&#160;Consider&#160;this&#160;during&#160;configuration&#160;of&#160;stack&#160;<br/>sizes.&#160;[SPMF92:0086]&#160;<br/><i>NMIs&#160;shall&#160;be&#160;category&#160;1&#160;ISRs&#160;</i><br/>
&#160;<br/>
Non-maskable&#160;Interrupts&#160;(NMI)&#160;shall&#160;be&#160;configured to&#160;be&#160;category&#160;1&#160;ISRs.&#160;<br/>[SPMF92:0053]&#160;[SPMF92:03.0002]&#160;<br/><i>Link global&#160;safety&#160;data considering&#160;stack&#160;growing&#160;direction&#160;</i><br/>
&#160;<br/>
Link&#160;global&#160;safety&#160;data&#160;(all&#160;OS&#160;data&#160;and&#160;at&#160;least&#160;ASIL&#160;relevant&#160;application&#160;data)&#160;so&#160;<br/>that&#160;it&#160;cannot&#160;be&#160;corrupted by&#160;stack&#160;overflows&#160;(see Figure&#160;“Linking&#160;example”&#160;below&#160;<br/>for&#160;an&#160;example).&#160;[SPMF92:0091]&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;28&#160;/&#160;80&#160;<br/>
<hr/>
<a name=29></a><img src="ElectricPowerSteering_RH850_GM_G2KCA_website/content/en/docs/Os/doc/MicrosarOS_RH850_SafeContext_SafetyManual-29_1.png"/><br/>
Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
&#160;<br/>
Figure&#160;7-1&#160;&#160;Linking&#160;example&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;29&#160;/&#160;80&#160;<br/>
<hr/>
<a name=30></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>8&#160;</b><br/>
<b>Review&#160;General&#160;Part&#160;of&#160;Configuration&#160;Block&#160;</b><br/>
The&#160;configuration&#160;of&#160;MICROSAR&#160;OS&#160;SafeContext&#160;is&#160;generated&#160;into&#160;C-code.&#160;The&#160;generator&#160;<br/>itself&#160;&#160;has&#160;&#160;not&#160;&#160;been&#160;&#160;developed&#160;&#160;in&#160;&#160;accordance&#160;&#160;to&#160;&#160;ASIL.&#160;&#160;Therefore,&#160;&#160;the&#160;&#160;generated&#160;<br/>configuration&#160;&#160;information&#160;&#160;needs&#160;&#160;to&#160;&#160;be&#160;&#160;reviewed.&#160;&#160;The&#160;&#160;safety&#160;&#160;relevant&#160;&#160;configuration&#160;&#160;is&#160;<br/>generated&#160;&#160;into&#160;&#160;a&#160;&#160;structure&#160;&#160;called&#160;&#160;configuration&#160;&#160;block&#160;&#160;(or&#160;&#160;ConfigBlock).&#160;&#160;This&#160;&#160;chapter&#160;<br/>describes&#160;&#160;how&#160;&#160;to&#160;&#160;review&#160;&#160;this&#160;&#160;ConfigBlock.&#160;As&#160;&#160;the&#160;&#160;ConfigBlock&#160;&#160;is&#160;&#160;simply&#160;&#160;a&#160;&#160;constant&#160;&#160;data&#160;<br/>structure&#160;in&#160;the&#160;flash&#160;memory&#160;of&#160;an&#160;ECU,&#160;humans&#160;will&#160;have&#160;difficulties&#160;to&#160;read&#160;it.&#160;Therefore,&#160;<br/>the&#160;configuration&#160;viewer&#160;is&#160;able&#160;to&#160;transform&#160;the&#160;ECU&#160;internal&#160;representation&#160;into&#160;a&#160;human&#160;<br/>readable&#160;&#160;format.&#160;&#160;The&#160;&#160;process&#160;&#160;of&#160;&#160;reading&#160;&#160;the&#160;&#160;ConfigBlock&#160;&#160;and&#160;&#160;transforming&#160;&#160;it&#160;&#160;into&#160;&#160;the&#160;<br/>human&#160;readable&#160;format&#160;is described&#160;in&#160;the&#160;following&#160;subchapter.&#160;[SPMF92:0038]&#160;<br/>The&#160;setup&#160;of&#160;the&#160;memory&#160;protecting&#160;hardware&#160;depends&#160;on&#160;the&#160;correct&#160;configuration&#160;of&#160;the&#160;<br/>OS.&#160;&#160;All&#160;&#160;configuration&#160;&#160;parameters,&#160;&#160;which&#160;&#160;are&#160;&#160;necessary&#160;&#160;to&#160;&#160;ensure&#160;&#160;the&#160;&#160;safety&#160;&#160;goal,&#160;&#160;are&#160;<br/>stored&#160;in&#160;a&#160;contiguous&#160;memory&#160;block&#160;(configuration&#160;block).&#160;The&#160;configuration&#160;block&#160;can&#160;be&#160;<br/>located&#160;&#160;to&#160;&#160;a&#160;&#160;fix&#160;&#160;address&#160;&#160;and&#160;&#160;can&#160;&#160;be&#160;&#160;read&#160;&#160;back&#160;&#160;from&#160;&#160;the&#160;&#160;ECU,&#160;&#160;e.g.&#160;&#160;by&#160;&#160;XCP&#160;&#160;or&#160;&#160;a&#160;&#160;debug&#160;<br/>interface.&#160;[SPMF92:0034]&#160;&#160;<br/>The&#160;configuration&#160;block&#160;is&#160;secured&#160;by&#160;a&#160;16&#160;bit&#160;CRC.&#160;The&#160;way&#160;how&#160;the&#160;configuration&#160;block&#160;<br/>is&#160;read&#160;back&#160;does&#160;not&#160;need&#160;to&#160;be&#160;safe.&#160;The&#160;configuration&#160;block&#160;is&#160;translated&#160;into&#160;a&#160;human&#160;<br/>readable&#160;format&#160;to&#160;allow&#160;a&#160;review&#160;against&#160;the&#160;intended&#160;configuration.&#160;<br/>
<b>8.1&#160;</b><br/>
<b>How&#160;to Read&#160;Back&#160;the&#160;Configuration&#160;</b><br/>
The&#160;configuration&#160;is read&#160;back in&#160;two&#160;steps:&#160;<br/>1.&#160;&#160;Create&#160;intermediate&#160;ConfigBlock&#160;file&#160;format,&#160;by&#160;either using&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>ElfConverter&#160;with&#160;parameter&#160;–out&#160;<br/>
<b>&gt;&#160;&#160;</b>Or read&#160;back the&#160;ECU&#160;binary&#160;and&#160;convert it into&#160;the&#160;intermediate&#160;format&#160;(using&#160;the&#160;<br/>
HexConverter)&#160;<br/>
2.&#160;&#160;Conversion&#160;of&#160;the&#160;intermediate&#160;format&#160;into&#160;human&#160;readable&#160;output&#160;(using&#160;the&#160;<br/>
ConfigViewer)&#160;<br/>
The&#160;&#160;configuration&#160;&#160;block&#160;&#160;format&#160;&#160;is&#160;&#160;platform&#160;&#160;dependent.&#160;&#160;Also&#160;&#160;this&#160;&#160;information&#160;&#160;may&#160;&#160;be&#160;<br/>retrieved&#160;in&#160;different&#160;ways,&#160;e.g.&#160;as&#160;the&#160;HEX&#160;output&#160;of&#160;the&#160;linker&#160;or&#160;as&#160;an&#160;upload&#160;from&#160;the&#160;<br/>ECU&#160;via&#160;a&#160;protocol&#160;like&#160;XCP.&#160;As&#160;this&#160;may&#160;result&#160;in&#160;various&#160;file&#160;formats&#160;a&#160;conversion&#160;into&#160;an&#160;<br/>intermediate&#160;format&#160;is required.&#160;<br/>&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;30&#160;/&#160;80&#160;<br/>
<hr/>
<a name=31></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
&#160;<br/><b>8.1.1&#160;&#160;Using HexConverter&#160;<br/></b>The&#160;program&#160;HexConverter.exe&#160;is called&#160;with&#160;the&#160;following&#160;parameters:&#160;<br/>
HexConverter&#160;–i &lt;Input File&gt;&#160;-o &lt;Output File&gt;&#160;-b &lt;Base Address&gt;&#160;&#160;<br/>-s &lt;ConfigBlock Size&gt;&#160;<br/>&#160;<br/>All&#160;parameters are&#160;mandatory.&#160;<br/>
<b>Parameter&#160;&#160;Value&#160;</b><br/>
<b>Description&#160;</b><br/>
-i&#160;<br/>
Input&#160;File Path&#160;&amp;&#160;Name&#160;<br/>
File&#160;containing&#160;the&#160;HEX&#160;data produced by&#160;the&#160;linker&#160;<br/>
-o&#160;<br/>
Output&#160;File Path &amp;&#160;Name&#160;<br/>
File with intermediate&#160;format&#160;generated&#160;by&#160;<br/>HexConverter&#160;<br/>
-b&#160;<br/>
Base&#160;Address&#160;<br/>
Base&#160;address&#160;of&#160;the&#160;configuration&#160;block&#160;as&#160;defined in&#160;<br/>the&#160;linker&#160;map&#160;file.&#160;<br/>It&#160;is&#160;the&#160;address of&#160;the&#160;symbol&#160;‘osConfigBlock’.&#160;<br/>Value&#160;has&#160;to&#160;be&#160;given&#160;as&#160;HEX&#160;(e.g.&#160;0x8001f000).&#160;<br/>
-s&#160;<br/>
0xFFFF&#160;<br/>
This&#160;value&#160;must&#160;be&#160;at&#160;least&#160;the&#160;size of&#160;the&#160;configuration&#160;<br/>block in&#160;byte.&#160;Bigger&#160;values&#160;are&#160;also allowed.&#160;<br/>E.g.&#160;this&#160;value&#160;can&#160;be&#160;set&#160;to 0xFFFF&#160;<br/>
Table&#160;8-1&#160;&#160;&#160;HexConverter&#160;parameters&#160;<br/>
&#160;<br/><b>8.1.2&#160;&#160;Using ConfigViewer&#160;<br/></b>The&#160;program&#160;ConfigViewer.exe&#160;is called&#160;with&#160;the&#160;following&#160;parameters:&#160;<br/>
ConfigViewer&#160;–i &lt;Input File&gt;&#160;-o &lt;Output File&gt;&#160;-c&#160;&lt;XML&#160;File&gt;&#160;<br/>&#160;<br/>
<b>Parameter&#160;&#160;Value&#160;</b><br/>
<b>Description&#160;</b><br/>
-i&#160;<br/>
Input&#160;File Path&#160;&amp;&#160;Name&#160;<br/>
File containing&#160;the&#160;intermediate&#160;data&#160;produced&#160;by&#160;the&#160;<br/>HexConverter&#160;&#160;<br/>
-o&#160;<br/>
Output&#160;File Path &amp;&#160;Name&#160;<br/>
File with human&#160;readable configuration&#160;&#160;description&#160;<br/>generated&#160;by&#160;ConfigViewer&#160;<br/>
-c&#160;<br/>
XML-ConfigFile&#160;<br/>
XML&#160;file,&#160;generated&#160;by&#160;the OS&#160;generator&#160;describing&#160;the&#160;<br/>OS&#160;configuration&#160;<br/>
Table&#160;8-2&#160;&#160;&#160;ConfigViewer&#160;parameters&#160;<br/>
The&#160;configuration&#160;viewer&#160;expects&#160;the&#160;intermediate&#160;format&#160;to&#160;contain&#160;nothing&#160;else&#160;than&#160;the&#160;&#160;<br/>configuration&#160;block.&#160;<br/>&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;31&#160;/&#160;80&#160;<br/>
<hr/>
<a name=32></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>8.2&#160;</b><br/>
<b>General&#160;Configuration Information&#160;</b><br/>
The&#160;&#160;following&#160;&#160;subchapters&#160;&#160;concentrate&#160;&#160;on&#160;&#160;the&#160;&#160;output&#160;&#160;of&#160;&#160;the&#160;&#160;configuration&#160;&#160;viewer&#160;&#160;and&#160;&#160;on&#160;<br/>the&#160;&#160;rules&#160;&#160;to&#160;&#160;review&#160;&#160;it.&#160;&#160;The&#160;&#160;configuration&#160;&#160;viewer&#160;&#160;and&#160;&#160;the&#160;&#160;format&#160;&#160;converters&#160;&#160;are&#160;&#160;described&#160;<br/>separately.&#160;<br/>To&#160;minimize&#160;&#160;variants&#160;&#160;in&#160;&#160;code,&#160;&#160;the&#160;&#160;OS&#160;&#160;generator&#160;&#160;introduces&#160;dummies&#160;for&#160;&#160;each&#160;&#160;OS&#160;&#160;object&#160;<br/>type.&#160;These&#160;dummies&#160;can&#160;be&#160;identified&#160;by&#160;the&#160;prefix&#160;“osSystem”&#160;and&#160;are&#160;handled&#160;the&#160;same&#160;<br/>way&#160;like&#160;other OS&#160;objects.&#160;None&#160;of&#160;these&#160;objects&#160;is active&#160;at&#160;runtime.&#160;<br/>
<b>Description&#160;of&#160;requirements&#160;to&#160;the&#160;OS&#160;user&#160;</b><br/>
<b>Fulfilled&#160;</b><br/>
Check&#160;that&#160;the&#160;listed&#160;configuration&#160;block&#160;address&#160;and&#160;length&#160;is&#160;correct&#160;and&#160;matches&#160;&#160;&#160;<br/>the&#160;map&#160;file.&#160;<br/>Check&#160;that&#160;the&#160;listed&#160;configuration block&#160;format&#160;is&#160;2.00&#160;<br/>
&#160;<br/>
Check&#160;&#160;that&#160;&#160;the&#160;&#160;listed&#160;&#160;version&#160;&#160;of&#160;&#160;MICROSAR&#160;&#160;OS&#160;&#160;SafeContext&#160;&#160;matches&#160;&#160;your&#160;&#160;&#160;<br/>delivered&#160;version.&#160;<br/>If&#160;&#160;you&#160;&#160;are&#160;&#160;using&#160;&#160;the&#160;&#160;user&#160;&#160;configuration&#160;&#160;version,&#160;&#160;check&#160;&#160;that&#160;&#160;the&#160;&#160;listed&#160;&#160;one&#160;&#160;matches&#160;&#160;&#160;<br/>your&#160;configured&#160;value.&#160;<br/>Check&#160;&#160;that&#160;the&#160;&#160;listed&#160;&#160;number&#160;&#160;of&#160;&#160;OS&#160;&#160;objects&#160;matches&#160;&#160;your&#160;&#160;configuration.&#160;&#160;(Consider&#160;&#160;&#160;<br/>that&#160;dummy&#160;OS&#160;objects&#160;are&#160;generated,&#160;to&#160;minimize variants&#160;in the&#160;OS&#160;code.)&#160;<br/>Check&#160;&#160;number&#160;&#160;of&#160;&#160;listed&#160;&#160;OS&#160;&#160;objects&#160;&#160;matches&#160;&#160;the&#160;&#160;elements&#160;&#160;in&#160;&#160;the&#160;&#160;sub&#160;&#160;containers.&#160;&#160;&#160;<br/>[SPMF92:0074]&#160;<br/>Check&#160;that&#160;the&#160;listed&#160;specific&#160;stack&#160;start&#160;and end&#160;addresses&#160;match your&#160;<br/>
&#160;<br/>
configuration.&#160;(The&#160;stack&#160;end addresses&#160;in the&#160;configuration block&#160;point&#160;to&#160;the&#160;first&#160;<br/>address&#160;outside&#160;the&#160;stack.)&#160;<br/>
&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;32&#160;/&#160;80&#160;<br/>
<hr/>
<a name=33></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>9&#160;</b><br/>
<b>Review&#160;Generated&#160;Code&#160;</b><br/>
MICROSAR&#160;OS&#160;is&#160;a&#160;massively&#160;configurable&#160;software&#160;component.&#160;As&#160;a&#160;result,&#160;the&#160;analysis&#160;<br/>of&#160;the&#160;OS&#160;modules&#160;cannot&#160;be&#160;completely&#160;performed&#160;until&#160;the&#160;user’s&#160;configuration&#160;data&#160;is&#160;<br/>available.&#160;&#160;The&#160;&#160;user&#160;&#160;shall&#160;&#160;use&#160;&#160;MICROSAR&#160;&#160;Safe&#160;&#160;Silence&#160;&#160;Verifier&#160;&#160;(MSSV)&#160;&#160;to&#160;&#160;qualify&#160;&#160;the&#160;<br/>generated&#160;part&#160;of&#160;the&#160;OS,&#160;which&#160;depends&#160;on&#160;user’s&#160;configuration.&#160;&#160;MSSV&#160;is&#160;a&#160;Vector&#160;tool,&#160;<br/>which&#160;performs&#160;checks&#160;of&#160;potential&#160;dangerous&#160;code&#160;constructs.&#160;[SPMF92:0049]&#160;For&#160;more&#160;<br/>information&#160;about&#160;MSSV&#160;see&#160;the&#160;Technical Reference&#160;Manual&#160;of&#160;MSSV6.&#160;<br/>
<b>Description&#160;of&#160;requirements&#160;to&#160;the&#160;OS&#160;user&#160;</b><br/>
<b>Fulfilled&#160;</b><br/>
The&#160;user&#160;must&#160;not&#160;modify&#160;a generated&#160;module configuration&#160;code&#160;file&#160;manually&#160;<br/>
&#160;<br/>
unless explicitly&#160;required&#160;by&#160;the&#160;technical&#160;reference manual&#160;or&#160;explicitly&#160;direction&#160;<br/>formulated&#160;by&#160;Vector.&#160;<br/>All&#160;generated&#160;files&#160;of&#160;a&#160;software&#160;project&#160;shall&#160;be&#160;generated&#160;based&#160;on&#160;the same&#160;<br/>
&#160;<br/>
configuration.&#160;Generated&#160;files of&#160;several&#160;configurations&#160;must&#160;not&#160;be&#160;mixed&#160;up&#160;unless&#160;<br/>explicitly&#160;allowed&#160;by&#160;Vector.&#160;<br/>The&#160;user&#160;shall&#160;apply&#160;steps&#160;for&#160;qualifying&#160;the&#160;generated&#160;sources&#160;on&#160;the&#160;final&#160;<br/>
&#160;<br/>
configuration&#160;which is used&#160;for&#160;the&#160;production.&#160;If&#160;the&#160;configuration&#160;changes,&#160;source&#160;<br/>qualification&#160;steps&#160;shall&#160;be reapplied.&#160;<br/>
&#160;<br/>
<b>9.1&#160;</b><br/>
<b>Manual&#160;Reviews&#160;</b><br/>
Some&#160;generated&#160;code&#160;parts&#160;currently&#160;cannot&#160;be&#160;checked&#160;automatically.&#160;Therefore&#160;the&#160;user&#160;<br/>has to&#160;check&#160;them&#160;manually.&#160;<br/>&#160;<br/><b>9.1.1&#160;&#160;Review&#160;generated file&#160;tcb.h&#160;</b><br/>
<b>Description&#160;of&#160;requirements&#160;to&#160;the&#160;OS&#160;user&#160;</b><br/>
<b>Fulfilled&#160;</b><br/>
If&#160;interrupt&#160;level&#160;support&#160;is&#160;supported&#160;in&#160;your&#160;delivery,&#160;you&#160;shall&#160;review&#160;the&#160;system&#160;<br/>
&#160;<br/>
level&#160;(osdSystemLevel)&#160;to be&#160;the&#160;maximum&#160;of&#160;all&#160;category&#160;2&#160;ISR&#160;priorities and&#160;<br/>osdSystemLevelMask&#160;to be&#160;the&#160;corresponding value,&#160;which has&#160;to be&#160;stored&#160;in&#160;<br/>PMR&#160;register&#160;to&#160;mask&#160;(disable)&#160;all&#160;category&#160;2 interrupts.&#160;&#160;[SPMF92:02.0019]&#160;<br/>[SPMF92:04.0017]&#160;&#160;[SPMF92:02.0033]&#160;<br/>
#define osdSystemLevel &lt;MAXIMUM_OF_ALL_CAT2_ISR_PRIORITIES&gt;&#160;<br/>#define osdSystemLevelMask &lt;PMR_VALUE_MASK_ALL_CAT2_ISR&gt;&#160;<br/>
&#160;<br/>
Check&#160;that&#160;osdExceptionDetails&#160;is&#160;defined&#160;=&#160;1&#160;&#160;<br/>
&#160;<br/>
#define osdExceptionDetails&#160;1&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
6&#160;TechnicalReference_MSSV.pdf,&#160;v1.3&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;33&#160;/&#160;80&#160;<br/>
<hr/>
<a name=34></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>10&#160;&#160;Qualifying&#160;Silent&#160;OS&#160;Part&#160;</b><br/>
MICROSAR&#160;OS&#160;is&#160;a&#160;massively&#160;configurable&#160;software&#160;component.&#160;As&#160;a&#160;result,&#160;the&#160;analysis&#160;<br/>of&#160;the&#160;OS&#160;modules&#160;cannot&#160;be&#160;completely&#160;performed&#160;until&#160;the&#160;user’s&#160;configuration&#160;data&#160;is&#160;<br/>available.&#160;&#160;The&#160;&#160;user&#160;&#160;shall&#160;&#160;use&#160;&#160;MICROSAR&#160;&#160;Safe&#160;&#160;Silence&#160;&#160;Verifier&#160;&#160;(MSSV)&#160;&#160;to&#160;&#160;qualify&#160;&#160;the&#160;<br/>generated&#160;part of&#160;the&#160;OS,&#160;which&#160;dependent&#160;on&#160;user’s&#160;configuration.&#160;MSSV&#160;is&#160;a&#160;Vector&#160;tool,&#160;<br/>which&#160;performs&#160;checks&#160;of&#160;potential&#160;dangerous&#160;code&#160;constructs&#160;inside&#160;BSW&#160;modules&#160;which&#160;<br/>depend&#160;on&#160;user&#160;configuration&#160;data.&#160;[SPMF92:0049]&#160;For more&#160;information&#160;about&#160;MSSV&#160;see&#160;<br/>the&#160;Technical Reference&#160;Manual of&#160;MSSV7.&#160;[SPMF92:0088]&#160;<br/>&#160;<br/>
<b>10.1&#160;&#160;Using MICROSAR Safe Silence&#160;Verifier (MSSV)&#160;<br/></b>The&#160;following&#160;chapter tells how&#160;you&#160;shall&#160;apply&#160;MSSV&#160;on&#160;the&#160;OS&#160;sources.&#160;&#160;<br/>MSSV&#160;is called&#160;with&#160;the&#160;following&#160;parameters:&#160;<br/>
MSSV.exe&#160;--inputDir&#160;&lt;PATH_TO_TCB&gt;&#160;--inputDir&#160;&lt;PATH_TO_OS_INCLUDE&gt;&#160;&#160;<br/>--reportFile &lt;REPORT.html&gt; &#160;--define osdNOASM&#160;<br/>&#160;<br/>
<b>Parameter&#160;</b><br/>
<b>Description&#160;</b><br/>
&lt;PATH_TO_TCB&gt;&#160;<br/>
Path&#160;to&#160;generated&#160;OS&#160;files (typically&#160;contained in&#160;the&#160;tcb&#160;folder).&#160;<br/>
&lt;PATH_TO_OS_INCLUDE&gt;&#160;&#160;Path&#160;to&#160;OS&#160;header&#160;files&#160;(typically&#160;contained&#160;in the&#160;implementation&#160;<br/>
folder).&#160;<br/>
&lt;REPORT.html&gt;&#160;<br/>
File name which shall&#160;be&#160;used&#160;to&#160;save the&#160;MSSV&#160;report.&#160;<br/>
--define osdNOASM&#160;<br/>
Disable assembler&#160;parts.&#160;<br/>
&#160;<br/>
<b>Description&#160;of&#160;requirements&#160;to&#160;the&#160;OS&#160;user&#160;</b><br/>
<b>Fulfilled&#160;</b><br/>
The&#160;MICROSAR&#160;Safe&#160;Silence Verifier&#160;shall&#160;only&#160;be&#160;executed&#160;on&#160;Windows&#160;XP&#160;SP3+&#160;&#160;&#160;<br/>(32Bit)&#160;or&#160;Windows&#160;7 (32Bit&#160;or&#160;64Bit).&#160;<br/>The&#160;user&#160;must&#160;not&#160;modify&#160;the&#160;MICROSAR&#160;Safe Silence Verifier&#160;report.&#160;<br/>
&#160;<br/>
The&#160;user&#160;shall&#160;verify&#160;that&#160;the&#160;used&#160;OS&#160;sources&#160;are checked&#160;by&#160;verifying&#160;the names&#160;<br/>
&#160;<br/>
and paths&#160;of&#160;the&#160;modules within the&#160;report.&#160;<br/>The&#160;user&#160;shall&#160;verify&#160;that&#160;the&#160;evaluated&#160;report&#160;matches&#160;to&#160;the&#160;execution&#160;of&#160;the&#160;<br/>
&#160;<br/>
MICROSAR&#160;Safe Silence Verifier&#160;by&#160;verifying&#160;the&#160;name,&#160;creation&#160;date&#160;and&#160;time,&#160;<br/>path and&#160;folder&#160;of&#160;the&#160;report.&#160;<br/>Check&#160;that&#160;MSSV&#160;returns&#160;with no&#160;errors,&#160;no&#160;warnings&#160;and&#160;the&#160;final&#160;verdict&#160;of&#160;the&#160;<br/>
&#160;<br/>
report&#160;is&#160;“pass”.&#160;If&#160;MSSV&#160;did not&#160;pass&#160;contact&#160;OS&#160;support.&#160;[SPMF92:0088]&#160;<br/>
&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>
7&#160;TechnicalReference_MSSV.pdf,&#160;v1.3&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;34&#160;/&#160;80&#160;<br/>
<hr/>
<a name=35></a><img src="ElectricPowerSteering_RH850_GM_G2KCA_website/content/en/docs/Os/doc/MicrosarOS_RH850_SafeContext_SafetyManual-35_1.png"/><br/>
Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Example&#160;<br/></b>An example&#160;for&#160;qualifying&#160;generated&#160;OS&#160;sources:&#160;<br/>
&#160;<br/>
MSSV.exe&#160;-i &#34;tcb&#34;&#160;-i&#34;..\..\include&#34;&#160;--define osdNOASM&#160;<br/>
The&#160;output&#160;of&#160;MSSV&#160;should look like:&#160;<br/>
note: MICROSAR Safe Silence Verifier Version 1.01.02&#160;<br/>note: Copyright (C) 2012-2013 Vector Informatik GmbH&#160;<br/>note: License &lt;CBD0900253&gt;&#160;VDO&#160;AUTOMOTIVE AG&#160;<br/>&#160;<br/>
note: MSSV.exe started at 09:39:55 2014-02-19&#160;<br/>…&#160;<br/>
note: MSSV.exe finished at 09:39:57 2014-02-19&#160;<br/>
note: 0&#160;Errors&#160;<br/>
note: 0 Warnings&#160;<br/>note: the final verdict of the report is 'pass'&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;35&#160;/&#160;80&#160;<br/>
<hr/>
<a name=36></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>11&#160;&#160;Review&#160;User&#160;Software&#160;</b><br/>
Some&#160;&#160;code&#160;&#160;parts&#160;&#160;run&#160;&#160;in&#160;&#160;supervisor&#160;&#160;mode&#160;&#160;without&#160;&#160;any&#160;&#160;memory&#160;&#160;protection&#160;&#160;active&#160;&#160;or&#160;&#160;with&#160;<br/>high&#160;memory&#160;access&#160;granted.&#160;Therefore,&#160;freedom&#160;from&#160;interference&#160;is&#160;not&#160;&#160;guaranteed&#160;by&#160;<br/>the&#160;OS&#160;and&#160;the&#160;hardware.&#160;Trusted&#160;software has to&#160;guarantee&#160;freedom&#160;from&#160;interference&#160;on&#160;<br/>its&#160;&#160;own.&#160;&#160;The&#160;&#160;application&#160;&#160;programmer&#160;&#160;typically&#160;&#160;knows&#160;&#160;best,&#160;&#160;what&#160;&#160;is&#160;&#160;to&#160;&#160;do&#160;&#160;in&#160;&#160;order&#160;&#160;to&#160;<br/>guarantee&#160;&#160;freedom&#160;&#160;from&#160;&#160;interference.&#160;&#160;Anyhow,&#160;&#160;there&#160;&#160;are&#160;&#160;few&#160;&#160;additional&#160;&#160;points&#160;&#160;to&#160;&#160;be&#160;<br/>covered&#160;when&#160;an&#160;OS&#160;is used.&#160;<br/>The&#160;&#160;following&#160;&#160;requirements&#160;&#160;shall&#160;&#160;generally&#160;&#160;be&#160;&#160;fulfilled&#160;&#160;by&#160;&#160;trusted&#160;&#160;software&#160;&#160;(also&#160;&#160;valid&#160;&#160;for&#160;<br/>software which&#160;runs in&#160;supervisor mode&#160;or with&#160;access&#160;to&#160;safety&#160;relevant&#160;memory&#160;areas):&#160;<br/>
<b>Description&#160;of&#160;requirements&#160;to&#160;the&#160;OS&#160;user&#160;</b><br/>
<b>Fulfilled&#160;</b><br/>
<i>OS&#160;code&#160;coverage shall&#160;be&#160;disabled&#160;</i><br/>
&#160;<br/>
Check&#160;&#160;that&#160;&#160;osdEnableCoverage&#160;&#160;is&#160;&#160;not&#160;&#160;defined&#160;&#160;when&#160;&#160;you&#160;&#160;compile&#160;&#160;the&#160;&#160;OS.&#160;<br/>[SPMF92:0077]&#160;<br/><i>FPU&#160;usage&#160;shall&#160;be&#160;disabled&#160;</i><br/>
&#160;<br/>
Check&#160;that&#160;osdRH850_FPU&#160;is&#160;<b>not</b>&#160;defined via compiler&#160;option&#160;–DosdRH850_FPU&#160;<br/>Check&#160;that&#160;osdRH850_FPU&#160;is&#160;only&#160;defined&#160;in&#160;file&#160;osekext.h&#160;<br/><i>Unhandled&#160;exception&#160;details&#160;shall&#160;be&#160;enabled&#160;</i><br/>
&#160;<br/>
Check&#160;that&#160;osdExceptionDetails&#160;is&#160;defined&#160;=&#160;1&#160;(see tcb.h)&#160;<br/>Check&#160;that&#160;OS&#160;attribute&#160;EnumeratedUnhandledISRs&#160;is&#160;set&#160;TRUE&#160;<br/><i>No usage&#160;of&#160;system&#160;call&#160;instructions&#160;in&#160;the&#160;user&#160;software&#160;</i><br/>
&#160;<br/>
Any&#160;system&#160;call&#160;causes&#160;the&#160;CPU&#160;to&#160;change into supervisor&#160;mode.&#160;Therefore,&#160;the&#160;<br/>application (trusted&#160;and&#160;non-trusted&#160;parts)&#160;shall&#160;not&#160;use&#160;system&#160;calls&#160;directly.&#160;<br/>Instead,&#160;system&#160;calls&#160;shall&#160;only&#160;be&#160;used by&#160;using&#160;OS&#160;APIs.&#160;<br/><i>User&#160;header&#160;usrostyp.h&#160;</i><br/>
&#160;<br/>
If&#160;trusted&#160;functions&#160;are&#160;configured,&#160;ensure&#160;that&#160;usrostyp.h&#160;does not&#160;endanger&#160;<br/>SafeContext&#160;safety&#160;requirements.&#160;<br/><i>Enabling&#160;interrupts&#160;where it&#160;is&#160;not&#160;allowed&#160;</i><br/>
&#160;<br/>
Interrupts&#160;&#160;shall&#160;&#160;not&#160;&#160;be&#160;&#160;enabled&#160;&#160;by&#160;&#160;the&#160;&#160;application&#160;&#160;where&#160;&#160;Category&#160;&#160;2&#160;&#160;ISRs&#160;&#160;are&#160;<br/>disabled&#160;by&#160;default&#160;(e.g.&#160;in&#160;Hooks).&#160;This&#160;applies&#160;not&#160;to&#160;ISRs.&#160;In&#160;ISRs&#160;it&#160;is&#160;allowed&#160;to&#160;<br/>enable interrupts.&#160;[SPMF92:0066]&#160;<br/><i>Use only&#160;documented&#160;APIs&#160;</i><br/>
&#160;<br/>
Trusted&#160;&#160;software&#160;&#160;shall&#160;&#160;only&#160;&#160;call&#160;&#160;documented&#160;&#160;API&#160;&#160;functions,&#160;&#160;which&#160;&#160;are&#160;&#160;listed&#160;&#160;in&#160;<br/>chapter&#160;“Detailed&#160;List&#160;of&#160;Functionality”.&#160;[SPMF92:0068]&#160;<br/><i>Stack usage&#160;measurement&#160;is&#160;not&#160;exact&#160;</i><br/>
&#160;<br/>
Stack&#160;&#160;usage&#160;&#160;measurement&#160;&#160;is&#160;&#160;implemented&#160;&#160;by&#160;&#160;counting&#160;&#160;magic&#160;&#160;patterns&#160;<br/>(osdStackCheckPattern)&#160;&#160;on&#160;&#160;the&#160;&#160;stack&#160;&#160;which&#160;&#160;have&#160;&#160;been&#160;&#160;written&#160;&#160;there&#160;&#160;during&#160;<br/>startup.&#160;The&#160;returned&#160;value&#160;may&#160;not&#160;be&#160;correct,&#160;if&#160;the&#160;magic&#160;pattern&#160;did&#160;not&#160;change&#160;<br/>(e.g.&#160;the&#160;user&#160;application&#160;uses&#160;the&#160;same&#160;value).&#160;[SPMF92:0072]&#160;<br/><i>Usage of&#160;osCheckMPUAccess&#160;API&#160;</i><br/>
&#160;<br/>
If&#160;&#160;you&#160;&#160;are&#160;&#160;using&#160;&#160;the&#160;&#160;osCheckMPUAccess&#160;API,&#160;&#160;the&#160;&#160;destination&#160;&#160;address&#160;&#160;parameter&#160;<br/>shall&#160;&#160;point&#160;&#160;to&#160;&#160;an&#160;&#160;address,&#160;&#160;where&#160;&#160;reading&#160;&#160;and&#160;&#160;writing&#160;&#160;does&#160;&#160;not&#160;&#160;produce&#160;&#160;other&#160;<br/>exceptions&#160;than MPU&#160;exceptions.<i>&#160;</i><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;36&#160;/&#160;80&#160;<br/>
<hr/>
<a name=37></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>Description&#160;of&#160;requirements&#160;to&#160;the&#160;OS&#160;user&#160;</b><br/>
<b>Fulfilled&#160;</b><br/>
<i>Usage of&#160;osCheckMPUAccess&#160;API&#160;</i><br/>
&#160;<br/>
If&#160;&#160;you&#160;&#160;are&#160;using&#160;the&#160;&#160;osCheckMPUAccess&#160;API,&#160;&#160;Check&#160;&#160;that&#160;the&#160;API&#160;function&#160;&#160;is&#160;&#160;only&#160;<br/>called&#160;&#160;with&#160;&#160;addresses&#160;&#160;which,&#160;&#160;reading&#160;&#160;and&#160;&#160;writing&#160;&#160;does&#160;&#160;not&#160;&#160;have&#160;&#160;any&#160;&#160;side&#160;&#160;effects&#160;<br/>(e.g.&#160;potentially&#160;not&#160;true&#160;for&#160;peripheral&#160;registers).&#160;[SPMF92:02.0017].<i>&#160;<br/>If&#160;you&#160;have&#160;write&#160;access&#160;to stacks,&#160;stack&#160;overflows&#160;cannot&#160;be&#160;detected&#160;by&#160;hardware&#160;&#160;</i>&#160;<br/>The&#160;OS&#160;cannot&#160;safely&#160;detect&#160;stack&#160;overflows&#160;in&#160;software&#160;which&#160;has&#160;write&#160;access&#160;to&#160;<br/>all&#160;stacks.&#160;If&#160;write&#160;access&#160;to&#160;all&#160;stacks&#160;is&#160;really&#160;needed&#160;(e.g.&#160;for&#160;RAM&#160;checking),&#160;the&#160;<br/>user&#160;&#160;has&#160;&#160;to&#160;&#160;ensure&#160;&#160;that&#160;&#160;the&#160;&#160;software&#160;&#160;does&#160;&#160;not&#160;&#160;produce&#160;&#160;a&#160;&#160;stack&#160;&#160;overflow!&#160;<br/>[SPMF92:0078]&#160;<br/>
<i>APIs&#160;in exception&#160;handlers&#160;</i><br/>
&#160;<br/>
Exception&#160;handlers&#160;must&#160;not&#160;call&#160;any&#160;OS&#160;API&#160;function&#160;beside:&#160;<br/><b>&gt;&#160;&#160;</b>DisableAllInterrupts&#160;<br/><b>&gt;&#160;&#160;</b>EnableAllInterrupts&#160;<br/><b>&gt;&#160;&#160;</b>SuspendAllInterrupts&#160;<br/><b>&gt;&#160;&#160;</b>ResumeAllInterrupts&#160;<br/><b>&gt;&#160;&#160;</b>SuspendOSInterrupts<i>&#160;<br/></i><b>&gt;&#160;&#160;</b>ResumeOSInterrupts<i>&#160;<br/></i>[SPMF92:0067]<i>&#160;<br/>Category&#160;1&#160;ISRs&#160;shall&#160;be&#160;transparent&#160;</i><br/>
&#160;<br/>
All&#160;&#160;ISRs&#160;&#160;of&#160;&#160;category&#160;&#160;1&#160;&#160;must&#160;&#160;be&#160;&#160;implemented&#160;&#160;such&#160;&#160;that&#160;&#160;they&#160;&#160;are&#160;&#160;transparent&#160;&#160;with&#160;<br/>respect&#160;&#160;to&#160;&#160;the&#160;&#160;processor&#160;&#160;state&#160;&#160;for&#160;&#160;the&#160;&#160;code&#160;&#160;they&#160;&#160;interrupt.&#160;&#160;This&#160;&#160;includes&#160;&#160;core&#160;<br/>registers,&#160;MPU&#160;settings&#160;and the&#160;current&#160;interrupt&#160;priority.<i>&#160;<br/>APIs&#160;in category&#160;1&#160;ISRs&#160;</i><br/>
&#160;<br/>
Category&#160;1&#160;ISRs&#160;shall&#160;not&#160;call&#160;any&#160;OS&#160;API&#160;function beside:&#160;<br/><b>&gt;&#160;&#160;</b>DisableAllInterrupts&#160;<br/><b>&gt;&#160;&#160;</b>EnableAllInterrupts&#160;<br/><b>&gt;&#160;&#160;</b>SuspendAllInterrupts&#160;<br/><b>&gt;&#160;&#160;</b>ResumeAllInterrupts&#160;<br/>&#160;[SPMF92:0067]&#160;[SPMF92:02.0018]<i>&#160;<br/>Check&#160;out-parameters&#160;in Trusted&#160;Functions&#160;</i><br/>
&#160;<br/>
Trusted&#160;functions&#160;which get&#160;a&#160;pointer&#160;shall&#160;check&#160;the&#160;pointer&#160;address&#160;to&#160;be&#160;in an&#160;<br/>expected&#160;range&#160;before&#160;they&#160;write to the&#160;pointer&#160;address.&#160;This&#160;shall&#160;prevent&#160;<br/>overwriting&#160;of&#160;safety&#160;relevant&#160;data when writing&#160;to&#160;the&#160;pointer&#160;address.&#160;<br/>[SPMF92:0001]<i>&#160;<br/>Check&#160;caller&#160;in Trusted&#160;Functions&#160;</i><br/>
&#160;<br/>
Trusted&#160;functions&#160;shall&#160;validate whether&#160;they&#160;are&#160;called&#160;by&#160;an&#160;authorized&#160;caller&#160;only.&#160;<br/>This&#160;may&#160;be&#160;done&#160;by&#160;using&#160;the&#160;API&#160;function&#160;GetApplicationID.&#160;<br/>[SPMF92:0047]<i>&#160;<br/>No (Non-)Trusted&#160;Functions&#160;in Hooks&#160;</i><br/>
&#160;<br/>
Hook&#160;routines&#160;shall&#160;not&#160;call&#160;any&#160;trusted&#160;function&#160;or&#160;non-trusted&#160;function.<i>&#160;<br/>No&#160;APIs&#160;in NMIs&#160;</i><br/>
&#160;<br/>
Non-maskable interrupts&#160;shall&#160;not&#160;use&#160;any&#160;OS&#160;APIs.&#160;&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;37&#160;/&#160;80&#160;<br/>
<hr/>
<a name=38></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>Description&#160;of&#160;requirements&#160;to&#160;the&#160;OS&#160;user&#160;</b><br/>
<b>Fulfilled&#160;</b><br/>
[SPMF92:0019],&#160;[SPMF92:0067]<i>&#160;</i><br/>
<i>Using&#160;Interrupt&#160;API&#160;before calling&#160;StartOS&#160;</i><br/>
&#160;<br/>
If&#160;the&#160;user&#160;needs&#160;to&#160;use&#160;the&#160;interrupt&#160;API&#160;before he calls&#160;StartOS,&#160;he&#160;shall&#160;call&#160;<br/>osInitialize&#160;and&#160;osInitINTC.&#160;&#160;<br/>After&#160;calling&#160;these&#160;functions&#160;interrupt&#160;API&#160;works&#160;only&#160;for&#160;the&#160;straight&#160;forward&#160;case.&#160;<br/>OS&#160;error&#160;handling&#160;and&#160;MPU&#160;won’t&#160;be&#160;initialized,&#160;so the&#160;OS&#160;won’t&#160;be&#160;able&#160;to handle&#160;<br/>any&#160;user&#160;errors&#160;or&#160;detect&#160;stack&#160;overflows.<i>&#160;</i><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;38&#160;/&#160;80&#160;<br/>
<hr/>
<a name=39></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12&#160;&#160;Hardware&#160;Specific&#160;Part&#160;</b><br/>
For&#160;RH850&#160;SafeContext&#160;the&#160;following&#160;safety&#160;relevant&#160;requirements&#160;must&#160;be checked&#160;by&#160;the&#160;user:&#160;<br/>&#160;<br/>
&#160;&#160;All&#160;assembly&#160;code&#160;(outside&#160;the&#160;SafeContext)&#160;shall&#160;be&#160;reviewed,&#160;not&#160;to&#160;change&#160;the&#160;content&#160;<br/>
of&#160;registers&#160;of&#160;R4&#160;and&#160;R5&#160;after&#160;StartOS&#160;is&#160;called&#160;&#160;[SPMF92:04.0001].&#160;Check&#160;in&#160;list&#160;files&#160;that&#160;<br/>only&#160;the&#160;startup&#160;module&#160;and the&#160;OS&#160;modules&#160;do&#160;modify&#160;registers&#160;R4 and&#160;R5.&#160;<br/>
&#160;&#160;The&#160;user&#160;has&#160;to&#160;review&#160;that&#160;each&#160;ISR&#160;is&#160;called&#160;at&#160;least&#160;once&#160;(coverage&#160;of&#160;application).&#160;The&#160;<br/>
tests&#160;shall&#160;cover&#160;the&#160;activation&#160;of&#160;all&#160;ISRs&#160;and&#160;verify&#160;that&#160;the&#160;correct&#160;ISR&#160;was&#160;started.&#160;This&#160;<br/>measure&#160;&#160;shall&#160;&#160;prevent&#160;&#160;the&#160;&#160;activation&#160;&#160;of&#160;&#160;wrong&#160;&#160;ISRs&#160;&#160;because&#160;&#160;of&#160;&#160;a&#160;&#160;mix&#160;&#160;up&#160;&#160;in&#160;&#160;the&#160;&#160;interrupt&#160;<br/>vector&#160;table&#160;[SPMF92:0008].&#160;<br/>
&#160;&#160;The&#160;user&#160;has&#160;to&#160;review&#160;the&#160;configuration&#160;by&#160;means&#160;of&#160;the&#160;ConfigBlock&#160;in accordance&#160;&#160;to&#160;the&#160;<br/>
review&#160;rules which&#160;are&#160;defined in&#160;chapter&#160;12.2&#160;[SPMF92:0014],[SPMF92:05.0008].&#160;<br/>
&#160;&#160;The&#160;&#160;user&#160;&#160;has&#160;to&#160;&#160;review&#160;&#160;that&#160;&#160;all&#160;&#160;libraries&#160;fit&#160;to&#160;the&#160;&#160;used&#160;&#160;compiler&#160;&#160;options.&#160;All&#160;&#160;used&#160;&#160;libraries&#160;<br/>
need&#160;&#160;to&#160;&#160;be&#160;&#160;checked&#160;&#160;for&#160;&#160;using&#160;&#160;the&#160;&#160;correct&#160;&#160;compiler&#160;&#160;options&#160;&#160;(e.g.&#160;&#160;SDA&#160;&#160;usage&#160;&#160;need&#160;&#160;to&#160;&#160;be&#160;<br/>identical&#160;to&#160;the&#160;specified&#160;options&#160;for&#160;the&#160;OS)&#160;[SPMF92:0010].&#160;<br/>
&#160;&#160;The&#160;&#160;PreTaskHook&#160;&#160;and&#160;&#160;the&#160;&#160;PostTaskHook&#160;&#160;must&#160;&#160;not&#160;&#160;be&#160;&#160;used&#160;&#160;in&#160;&#160;safety&#160;&#160;code&#160;&#160;which&#160;&#160;is&#160;<br/>
released&#160;for&#160;serial&#160;production.&#160;Pre/PostTaskHook&#160;shall&#160;only&#160;be&#160;used&#160;for&#160;debugging&#160;or&#160;test&#160;<br/>purposes.&#160;&#160;Absence&#160;&#160;of&#160;&#160;Pre/PostTaskHook&#160;&#160;must&#160;&#160;be&#160;&#160;reviewed&#160;&#160;in&#160;&#160;generated&#160;&#160;file&#160;&#160;tcb.h:&#160;<br/>[SPMF92:02.0022],[SPMF92:02.0023],[SPMF92:05.0011]&#160;<br/>
The&#160;user&#160;must&#160;check&#160;that&#160;the&#160;following&#160;defines&#160;are set&#160;in the&#160;generated&#160;file&#160;tcb.h:&#160;<br/><b>#define osdPreTaskHook 0&#160;<br/>#define osdPostTaskHook 0&#160;</b><br/>
&#160;&#160;The&#160;&#160;complete&#160;&#160;config&#160;&#160;block&#160;&#160;content&#160;&#160;must&#160;&#160;be&#160;&#160;reviewed&#160;&#160;by&#160;&#160;the&#160;&#160;means&#160;&#160;of&#160;&#160;the&#160;&#160;BackReader&#160;<br/>
[SPMF92:04.0002],&#160;[SPMF92:04.0006].&#160;<br/>
&#160;&#160;The&#160;address&#160;value&#160;of&#160;the&#160;application&#160;specific&#160;linker&#160;symbols&#160;for&#160;MPU&#160;region&#160;start&#160;and&#160;end&#160;<br/>
address&#160;&#160;must&#160;&#160;be&#160;&#160;checked&#160;&#160;that&#160;&#160;between&#160;&#160;them&#160;&#160;only&#160;&#160;the&#160;&#160;corresponding&#160;&#160;application&#160;&#160;data&#160;<br/>sections are&#160;mapped&#160;[SPMF92:04.0004],&#160;[SPMF92:04.0010],&#160;[SPMF92:04.0011].&#160;<br/>
&#160;&#160;The&#160;&#160;address&#160;&#160;value&#160;&#160;of&#160;&#160;the&#160;&#160;linker&#160;&#160;symbols&#160;&#160;_osGlobalShared_StartAddr&#160;&#160;and&#160;<br/>
_osGlobalShared_EndAddr&#160;&#160;must&#160;&#160;be&#160;&#160;checked&#160;&#160;that&#160;&#160;between&#160;&#160;them&#160;&#160;only&#160;&#160;the&#160;&#160;global&#160;&#160;shared&#160;&#160;<br/>data sections&#160;are&#160;mapped&#160;[SPMF92:04.0013].&#160;<br/>
&#160;&#160;The&#160;CPU&#160;must&#160;run&#160;in&#160;supervisor&#160;mode&#160;when StartOS&#160;is&#160;called&#160;[SPMF92:04.0007].&#160;<br/>
&#160;&#160;The&#160;&#160;application&#160;&#160;shall&#160;&#160;check&#160;&#160;the&#160;&#160;config&#160;&#160;block&#160;&#160;version&#160;&#160;by&#160;&#160;using&#160;&#160;OS&#160;&#160;API&#160;&#160;function&#160;<br/>
osGetConfigBlockVersion&#160;[SPMF92:0045],[SPMF92:05.0010].&#160;<br/>
&#160;&#160;The&#160;user&#160;has&#160;to&#160;review&#160;that&#160;all&#160;task&#160;stacks,&#160;all&#160;ISR&#160;stacks&#160;and&#160;the&#160;system&#160;stack&#160;have&#160;4&#160;Byte&#160;<br/>
alignment&#160;[SPMF92:04.0008].&#160;<br/>
&#160;&#160;The&#160;user&#160;has&#160;to&#160;review&#160;the&#160;generated&#160;linker&#160;include&#160;files&#160;osdata.dld,&#160;osrom.dld,&#160;ossdata.dld&#160;<br/>
osstacks.dld&#160;and&#160;ostdata.dld&#160;if&#160;they&#160;are&#160;used&#160;for&#160;serial&#160;production&#160;[SPMF92:04.0014].&#160;See&#160;<br/>chapter<a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#75">&#160;12.4.</a>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;39&#160;/&#160;80&#160;<br/>
<hr/>
<a name=40></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
&#160;&#160;The&#160;user&#160;has&#160;to&#160;review&#160;that&#160;coverage&#160;is&#160;disabled&#160;[SPMF92:04.0015].&#160;osdEnableCoverage&#160;<br/>
shall&#160;&#160;not&#160;&#160;be&#160;&#160;defined&#160;&#160;in&#160;&#160;header&#160;&#160;and&#160;&#160;source&#160;&#160;files&#160;&#160;and&#160;&#160;it&#160;&#160;shall&#160;&#160;not&#160;&#160;be&#160;&#160;defined&#160;&#160;via&#160;&#160;compiler&#160;<br/>option&#160;–DosdEnableCoverage.&#160;<br/>
&#160;&#160;The&#160;&#160;user&#160;&#160;has&#160;&#160;to&#160;&#160;consider&#160;&#160;DMA&#160;&#160;controller&#160;&#160;usage.&#160;&#160;The&#160;&#160;RH850&#160;&#160;P1M&#160;&#160;series&#160;&#160;incorporates&#160;&#160;a&#160;<br/>
DMA&#160;controller&#160;(DMAC).&#160;The&#160;DMA&#160;controller&#160;has&#160;direct&#160;access&#160;to&#160;the&#160;data&#160;bus.&#160;Therefore&#160;<br/>DMA&#160;access&#160;to&#160;memory&#160;is&#160;not&#160;&#160;controlled&#160;&#160;by&#160;&#160;MPU&#160;&#160;protection.&#160;&#160;This&#160;&#160;must&#160;&#160;be&#160;&#160;considered&#160;&#160;<br/>especially&#160;&#160;for&#160;&#160;safety&#160;&#160;OS&#160;systems&#160;if&#160;any&#160;DMA&#160;access is wanted.&#160;[SPMF92:01.0002]&#160;<br/>
&#160;&#160;The&#160;user&#160;has&#160;to&#160;review&#160;that&#160;osInitialize&#160;and&#160;osInitINTC&#160;are&#160;called&#160;before&#160;StartOS&#160;is&#160;called&#160;if&#160;<br/>
OS&#160;interrupt&#160;API&#160;functions&#160;or&#160;OS&#160;peripheral&#160;interrupt&#160;API&#160;functions&#160;are&#160;used&#160;before&#160;StartOS&#160;<br/>[SPMF92:0058],&#160;[SPMF92:0070].&#160;<br/>
&#160;&#160;Interrupt&#160;priority&#160;level&#160;ceiling&#160;is&#160;not&#160;supported&#160;by&#160;MICROSAR&#160;OS&#160;RH850&#160;SafeContext.&#160;The&#160;<br/>
user&#160;&#160;has&#160;&#160;to&#160;&#160;check&#160;&#160;that&#160;&#160;before&#160;&#160;StartOS&#160;&#160;is&#160;&#160;called&#160;&#160;the&#160;&#160;interrupt&#160;&#160;priority&#160;&#160;mask&#160;&#160;register&#160;&#160;PMR&#160;<br/>must&#160;&#160;have&#160;&#160;the&#160;&#160;value&#160;&#160;0x00000000&#160;&#160;and&#160;&#160;it&#160;&#160;shall&#160;&#160;not&#160;&#160;be&#160;&#160;changed&#160;&#160;after&#160;&#160;StartOS.&#160;<br/>[SPMF92:0059],[SPMF92:0060].&#160;This&#160;is&#160;not&#160;checked&#160;by&#160;RH850 SafeContext.&#160;<br/>
&#160;&#160;The&#160;&#160;user&#160;&#160;has&#160;&#160;to&#160;&#160;review&#160;&#160;that&#160;&#160;all&#160;&#160;generated&#160;&#160;files&#160;&#160;belong&#160;&#160;together&#160;&#160;[SPMF92:0064].&#160;&#160;Each&#160;<br/>
generated&#160;header&#160;and source&#160;file&#160;must&#160;start&#160;with the&#160;following&#160;comment&#160;block:&#160;<br/><i><b>/* file:&#160;&lt;file_path&gt;&lt;file_name&gt;&#160;*/&#160;<br/>/* automatically generated by genRH850SCTX.exe, Version: 6.11&#160;*/&#160;<br/>/* from: &lt;configuration_file_name&gt;&#160;*/&#160;<br/>/* Generation time:&#160;&lt;date&gt; &lt;time&gt; &lt;year&gt;&#160;*/&#160;<br/>/*&#160;&lt;license_and_licensee_information&gt;&#160;*/&#160;<br/>/* Implementation: RenesasRH850_P1M&#160;*/&#160;<br/>/* Version of general&#160;code: 6.16&#160;*/&#160;<br/>/* Dcf-file semantic version: 2.00 */&#160;<br/>/* Dcf-file content version: 2.01 */&#160;<br/>&#160;</b></i><br/>
&#160;&#160;The&#160;user&#160;has&#160;to&#160;review&#160;that&#160;all&#160;generated&#160;files are compiled&#160;and&#160;linked&#160;[SPMF92:0064]:&#160;<br/>
-&#160;&#160;intvect.c&#160;<br/>-&#160;&#160;osConfigBlock.c&#160;<br/>-&#160;&#160;osStacks.c&#160;<br/>-&#160;&#160;tcb.c&#160;<br/>-&#160;&#160;trustfct.c&#160;<br/>
&#160;&#160;The&#160;&#160;user&#160;&#160;has&#160;&#160;to&#160;&#160;check&#160;&#160;that&#160;&#160;the&#160;&#160;application&#160;&#160;does&#160;&#160;not&#160;&#160;modify&#160;&#160;interrupt&#160;&#160;controller&#160;&#160;registers&#160;<br/>
EBASE,&#160;INTBP,&#160;INTCFG,&#160;SCBP&#160;and SCCFG&#160;after&#160;StartOS&#160;is&#160;called&#160;[SPMF92:0069].&#160;<br/>
&#160;&#160;The&#160;&#160;application&#160;&#160;shall&#160;&#160;not&#160;&#160;modify&#160;&#160;any&#160;&#160;register&#160;&#160;in&#160;&#160;interrupt&#160;&#160;controller&#160;&#160;unit&#160;&#160;INTC&#160;&#160;by&#160;&#160;own&#160;<br/>
functions&#160;&#160;or&#160;&#160;routines&#160;&#160;after&#160;&#160;StartOS&#160;&#160;is&#160;&#160;called.&#160;&#160;The&#160;&#160;application&#160;&#160;shall&#160;&#160;only&#160;&#160;use&#160;&#160;the&#160;&#160;OS&#160;&#160;API&#160;<br/>functions&#160;for&#160;changing registers&#160;in unit&#160;INTC.&#160;[SPMF92:0083]&#160;<br/>
&#160;&#160;The&#160;&#160;user&#160;&#160;has&#160;&#160;to&#160;&#160;check&#160;&#160;validity&#160;&#160;and&#160;&#160;type&#160;&#160;of&#160;&#160;the&#160;&#160;reference&#160;&#160;parameter&#160;&#160;when&#160;&#160;calling&#160;&#160;the&#160;<br/>
following&#160;OS&#160;API&#160;functions&#160;[SPMF92:05.0001]:&#160;<br/>
-&#160;&#160;GetTaskID&#160;<br/>-&#160;&#160;GetTaskState&#160;<br/>-&#160;&#160;GetEvent&#160;<br/>-&#160;&#160;GetAlarm&#160;<br/>-&#160;&#160;GetScheduleTableStatus&#160;<br/>-&#160;&#160;GetCounterValue&#160;<br/>-&#160;&#160;GetElapsedValue/GetElapsedCounterValue&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;40&#160;/&#160;80&#160;<br/>
<hr/>
<a name=41></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
&#160;&#160;The&#160;&#160;user&#160;&#160;has&#160;&#160;to&#160;&#160;review&#160;&#160;that&#160;&#160;the&#160;&#160;size&#160;&#160;of&#160;&#160;array&#160;&#160;oskAlarmHeaps&#160;&#160;is&#160;&#160;same&#160;&#160;as&#160;&#160;<br/>
osdNumberOfCounters&#160;<br/>
and&#160;<br/>
that&#160;<br/>
each&#160;<br/>
entry&#160;<br/>
of&#160;<br/>
the&#160;<br/>
array&#160;<br/>
looks&#160;<br/>
like&#160;&#160;&#160;<br/>
[SPMF92:05.0002],[SPMF92:05.0004]:&#160;<br/>
<b>&#160;&#160;{&#160;<br/>&#160; &#160;&#160;os&lt;CounterName&gt;Heap,&#160;<br/>&#160; &#160;&#160;&amp;osAlarmHeapCount[&lt;CounterName&gt;]&#160;<br/>&#160;&#160;},&#160;</b><br/>
&#160;&#160;The&#160;user&#160;has&#160;to review&#160;that&#160;the&#160;values&#160;of&#160;the&#160;counter&#160;defines&#160;are&#160;an&#160;adjoining&#160;set&#160;from&#160;zero&#160;<br/>
to osdNumberOfCounters-1 in&#160;the&#160;generated&#160;file&#160;tcbpost.h&#160;[SPMF92:05.0003]:&#160;<br/>
example&#160;<br/>
tcb.h:&#160;<br/><b>#define osdNumberOfCounters 8&#160;</b><br/>
tcbpost.h:&#160;<br/><b>#define &lt;CounterName0&gt; ((CounterType) 0)&#160;<br/>#define &lt;CounterName1&gt; ((CounterType) 1)&#160;<br/>#define &lt;CounterName2&gt; ((CounterType) 2)&#160;<br/>...&#160;<br/>#define &lt;CounterName7&gt; ((CounterType) 7)&#160;<br/></b>&#160;<br/>
&#160;&#160;The&#160;user&#160;has&#160;to review&#160;that&#160;the&#160;size of&#160;the&#160;heap&#160;arrays&#160;&#160;os&lt;CounterName&gt;Heap[&#160;]&#160;&#160;must&#160;be&#160;<br/>
equal&#160;to&#160;1&#160;plus&#160;the&#160;number&#160;of&#160;alarms&#160;that&#160;are&#160;related&#160;to&#160;the&#160;counter&#160;&lt;CounterName&gt;&#160;plus&#160;<br/>the&#160;&#160;number&#160;&#160;of&#160;&#160;schedule&#160;&#160;tables&#160;&#160;that&#160;&#160;are&#160;&#160;related&#160;&#160;to&#160;&#160;the&#160;&#160;counter&#160;&#160;&lt;CounterName&gt;.&#160;<br/>[SPMF92:05.0005]&#160;<br/>
&#160;&#160;The&#160;&#160;user&#160;&#160;has&#160;&#160;to&#160;&#160;review&#160;&#160;that&#160;&#160;the&#160;&#160;first&#160;&#160;parameter&#160;&#160;of&#160;&#160;all&#160;&#160;calls&#160;&#160;of&#160;&#160;osSysSetEvent&#160;&#160;in&#160;&#160;tcb.c&#160;&#160;is&#160;&#160;a&#160;<br/>
task&#160;identifier&#160;which&#160;must&#160;be&#160;defined&#160;in&#160;tcbpost.h&#160;and&#160;that&#160;the&#160;value&#160;of&#160;the&#160;define&#160;is&#160;smaller&#160;<br/>than osdNumberOfExtendedTasks.&#160;[SPMF92:05.0006]&#160;<br/>
&#160;&#160;The&#160;&#160;user&#160;&#160;has&#160;&#160;to&#160;&#160;review&#160;&#160;that&#160;&#160;all&#160;&#160;calls&#160;&#160;of&#160;&#160;osWorkHeap&#160;&#160;in&#160;&#160;Timer&#160;&#160;ISR&#160;&#160;look&#160;&#160;like&#160;&#160;followed:&#160;<br/>
[SPMF92:05.0007]&#160;<br/>
<b>osWorkHeap(&amp;oskAlarmHeaps[&lt;CounterDefineName&gt;], &lt;CounterDefineName&gt;);&#160;</b><br/>
&#160;&#160;The&#160;user&#160;has&#160;to&#160;review&#160;&#160;that&#160;the&#160;parameter&#160;of&#160;each&#160;call&#160;of&#160;osSysActivateTask&#160;in&#160;tcb.c&#160;is&#160;a&#160;<br/>
task&#160;identifier&#160;which must&#160;be&#160;defined in&#160;tcbpost.h&#160;[SPMF92:05.0009].&#160;&#160;<br/>
&#160;&#160;The&#160;user&#160;has&#160;to&#160;review&#160;&#160;that&#160;the&#160;values&#160;of&#160;the&#160;task&#160;defines&#160;are&#160;adjoining&#160;set&#160;from&#160;zero&#160;to&#160;<br/>
osdNumberOfAllTasks-1 in&#160;the&#160;generated&#160;file&#160;tcbpost.h&#160;[SPMF92:05.0010].&#160;&#160;<br/>
&#160;&#160;The&#160;&#160;user&#160;&#160;has&#160;&#160;to&#160;&#160;review&#160;&#160;that&#160;&#160;the&#160;&#160;size&#160;&#160;of&#160;&#160;the&#160;&#160;task&#160;&#160;activation&#160;&#160;arrays&#160;<br/>
osQTaskActivation_&lt;index&gt;&#160;which&#160;are&#160;listed&#160;in&#160;oskQActivationQueues&#160;is&#160;the&#160;same&#160;value&#160;as&#160;&#160;<br/>oskQMaxActivations+1&#160;[SPMF92:05.0012].&#160;<br/>
&#160;&#160;The&#160;user&#160;has&#160;to&#160;review&#160;that&#160;the&#160;values&#160;of&#160;the&#160;Alarm&#160;defines&#160;are&#160;adjoining&#160;set&#160;from&#160;zero&#160;to&#160;<br/>
osdNumberOfAlarms-1 in&#160;the&#160;generated&#160;file&#160;tcbpost.h&#160;[SPMF92:05.0013].&#160;<br/>
&#160;&#160;The&#160;&#160;user&#160;&#160;has&#160;&#160;to&#160;&#160;review&#160;&#160;that&#160;&#160;the&#160;&#160;array&#160;&#160;oskAlarmCounterRef[]&#160;&#160;contains&#160;&#160;exactly&#160;<br/>
osdNumberOfAlarms&#160;&#160;elements&#160;&#160;and&#160;&#160;that&#160;&#160;each&#160;&#160;element&#160;&#160;contains&#160;&#160;the&#160;&#160;index&#160;&#160;of&#160;&#160;the&#160;&#160;counter&#160;<br/>related&#160;to&#160;that&#160;alarm&#160;[SPMF92:05.0014].&#160;<br/>
&#160;&#160;The&#160;&#160;user&#160;&#160;has&#160;&#160;to&#160;&#160;review&#160;&#160;that&#160;&#160;the&#160;&#160;PMR&#160;&#160;register&#160;&#160;is&#160;&#160;not&#160;&#160;manipulated&#160;&#160;by&#160;&#160;his&#160;&#160;code&#160;<br/>
[SPMF92:04.0018].&#160;&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;41&#160;/&#160;80&#160;<br/>
<hr/>
<a name=42></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.1&#160;&#160;Interrupt&#160;Vector Table&#160;</b><br/>
Basically&#160;the&#160;interrupt&#160;vector&#160;tables must&#160;be&#160;provided by&#160;the&#160;application.&#160;An example vector&#160;table is&#160;<br/>generated&#160;into&#160;file&#160;intvect.c.&#160;This&#160;file&#160;is&#160;generated&#160;by&#160;QM&#160;software&#160;and must&#160;not&#160;be&#160;used&#160;directly&#160;as&#160;<br/>ASIL&#160;code.&#160;It&#160;must&#160;be&#160;reviewed&#160;carefully&#160;for&#160;compliance&#160;to&#160;the&#160;description&#160;below&#160;because&#160;the&#160;code&#160;<br/>which&#160;&#160;is&#160;&#160;called&#160;&#160;by&#160;&#160;the&#160;&#160;interrupt&#160;&#160;vector&#160;&#160;table&#160;&#160;runs&#160;&#160;automatically&#160;&#160;in&#160;&#160;supervisor&#160;&#160;mode&#160;&#160;and&#160;&#160;therefore&#160;<br/>this&#160;&#160;code&#160;&#160;must&#160;&#160;be&#160;&#160;developed&#160;&#160;according&#160;&#160;to&#160;&#160;ASIL&#160;&#160;level&#160;&#160;[SPMF92:0004],&#160;&#160;[SPMF92:02.0020],&#160;<br/>[SPMF92:02.0021],&#160;[SPMF92:04.0012].&#160;<br/>
The&#160;file&#160;intvect.c&#160;consists&#160;of&#160;the&#160;following&#160;parts:&#160;<br/>
&#160;&#160;Header&#160;Include Section&#160;<br/>&#160;&#160;Core&#160;Exception&#160;Vector&#160;Table&#160;<br/>&#160;&#160;EIINT&#160;Vector&#160;Table&#160;<br/>&#160;&#160;CAT2&#160;ISR&#160;Wrappers&#160;<br/>
The&#160;following&#160;subchapters&#160;describe&#160;these&#160;parts&#160;and&#160;do&#160;intentionally&#160;not&#160;describe&#160;any&#160;comments.&#160;<br/>
<b>12.1.1&#160;Header&#160;Include&#160;Section&#160;</b><br/>
This&#160;part&#160;of&#160;the&#160;code&#160;must&#160;be&#160;exactly&#160;like:&#160;<br/><b>#if defined USE_QUOTE_INCLUDES&#160;<br/>&#160;#include &#34;vrm.h&#34;&#160;<br/>#else&#160;<br/>&#160;#include &lt;vrm.h&gt;&#160;<br/>#endif&#160;<br/>#define osdVrmGenMajRelNum 6&#160;<br/>#define osdVrmGenMinRelNum&#160;11&#160;<br/>#if defined USE_QUOTE_INCLUDES&#160;<br/>&#160;#include &#34;vrm.h&#34;&#160;<br/>#else&#160;<br/>&#160;#include &lt;vrm.h&gt;&#160;<br/>#endif&#160;<br/>&#160;<br/>#if defined USE_QUOTE_INCLUDES&#160;<br/>#include &#34;Os.h&#34;&#160;<br/>#else&#160;<br/>#include &lt;Os.h&gt;&#160;<br/>#endif&#160;<br/>&#160;<br/>#if defined USE_QUOTE_INCLUDES&#160;<br/>#include &#34;osekext.h&#34;&#160;<br/>#else&#160;<br/>#include &lt;osekext.h&gt;&#160;<br/>#endif&#160;<br/></b>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;42&#160;/&#160;80&#160;<br/>
<hr/>
<a name=43></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.1.2&#160;Core&#160;Exception Vector Table&#160;</b><br/>
The&#160;core&#160;exception&#160;vector&#160;table section&#160;starts&#160;exactly&#160;with the&#160;following&#160;lines:&#160;<br/><b>#pragma asm&#160;</b><br/>
<b>.align 512&#160;<br/>.section ”.osExceptionVectortable”, ax&#160;<br/>.globl _osExceptionVectorTable&#160;</b><br/>
<b>_osExceptionVectorTable:&#160;<br/></b>&#160;<br/>
That&#160;part&#160;is&#160;followed&#160;by&#160;32&#160;vector&#160;table entries:&#160;<br/>
<b>.offset&#160;&#160;&lt;offset_addr&gt;&#160;<br/>.globl&#160;&#160;&#160;_osCoreException_&lt;offset_addr&gt;&#160;</b><br/>
<b>_osCoreException_&lt;offset_addr&gt;:&#160;<br/>&#160;</b><br/>
<b>jr&#160;&#160;&#160;</b><br/>
<b>&#160;&lt;handler_function&gt;&#160;</b><br/>
&#160;<br/>
&lt;offset_addr&gt;&#160;is&#160;the&#160;hexadecimal&#160;address&#160;offset&#160;for&#160;each&#160;exception&#160;interrupt&#160;vector.&#160;&#160;<br/>
The&#160;valid range&#160;is&#160;0x0000, 0x0010,&#160;0x0020&#160;...&#160;0x01F0&#160;<br/>
&#160;<br/>
&lt;handler_function&gt;&#160;is&#160;the name&#160;of&#160;the&#160;function&#160;which is called&#160;when an&#160;exception&#160;occurs.&#160;&#160;<br/>
If&#160;no&#160;handler&#160;function&#160;is&#160;configured&#160;then osUnhandledCoreException&#160;is&#160;called.&#160;<br/>
The&#160;sequence&#160;of&#160;vector&#160;table&#160;entries starts&#160;at&#160;vector&#160;address&#160;0x0000,&#160;increases&#160;in&#160;steps&#160;of&#160;0x0010&#160;<br/>and ends with vector&#160;address 0x01F0.&#160;<br/>
&#160;<br/>
The&#160;core&#160;exception&#160;vector&#160;table section&#160;ends&#160;exactly&#160;&#160;with the&#160;following&#160;lines:&#160;<br/>
<b>.globl _osExceptionVectorTableEnd&#160;</b><br/>
<b>_osExceptionVectorTableEnd:&#160;</b><br/>
<b>#pragma endasm&#160;<br/></b>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;43&#160;/&#160;80&#160;<br/>
<hr/>
<a name=44></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.1.3&#160;EIINT Vector Table&#160;</b><br/>
The&#160;EIINT&#160;vector&#160;table section starts&#160;exactly&#160;with the&#160;following&#160;lines:&#160;<br/><b>#pragma&#160;asm&#160;</b><br/>
<b>.align 512&#160;</b><br/>
<b>.section ”.osEIINTVectortable”, ax&#160;</b><br/>
<b>.globl _osEIINTVectorTable&#160;</b><br/>
<b>_osEIINTVectorTable:&#160;</b><br/>
&#160;<br/>
For&#160;each&#160;unused&#160;interrupt&#160;source&#160;the&#160;following&#160;table entry&#160;must&#160;be&#160;generated:&#160;<br/>
<b>.word&#160;</b><br/>
<b>&#160;_osUnhandledEIINT_&lt;index&gt;&#160;</b><br/>
&lt;index&gt;&#160;is&#160;the&#160;channel&#160;index&#160;of&#160;the&#160;corresponding interrupt&#160;source.&#160;The&#160;valid&#160;range is&#160;0&#160;...&#160;383.&#160;<br/>
&#160;<br/>
For&#160;each&#160;interrupt&#160;source&#160;used as&#160;category&#160;1&#160;ISR&#160;the&#160;following&#160;table entry&#160;must&#160;be&#160;generated:&#160;<br/>
<b>.word&#160;</b><br/>
<b>&#160;_&lt;cat1_EIINT_handler&gt;&#160;</b><br/>
&lt;cat1_EIINT_handler&gt;&#160;is&#160;the&#160;name&#160;of&#160;the&#160;application&#160;specific&#160;EIINT&#160;handler&#160;which&#160;is&#160;called&#160;when&#160;<br/>an&#160;interrupt&#160;on&#160;the&#160;corresponding&#160;source&#160;occurs.&#160;<br/>
&#160;<br/>
For&#160;each&#160;interrupt&#160;source&#160;used as&#160;category&#160;2&#160;ISR&#160;the&#160;following&#160;table entry&#160;must&#160;be&#160;generated:&#160;<br/>
<b>.word&#160;</b><br/>
<b>&#160;_&lt;cat2_EIINT_handler&gt;_CAT2&#160;</b><br/>
&lt;cat2_EIINT_handler&gt;&#160;is&#160;the&#160;name&#160;of&#160;the&#160;OS&#160;ISR&#160;wrapper&#160;which&#160;is&#160;called&#160;when&#160;an&#160;interrupt&#160;on&#160;the&#160;<br/>corresponding source&#160;occurs.&#160;The&#160;CAT2&#160;ISR&#160;wrapper&#160;section&#160;is&#160;described&#160;in the&#160;next&#160;chapter.&#160;<br/>
&#160;<br/>
The&#160;EIINT&#160;vector&#160;table section ends&#160;exactly&#160;with the&#160;following&#160;lines:&#160;<br/>
<b>.globl _osExceptionVectorTableEnd&#160;</b><br/>
<b>_osExceptionVectorTableEnd:&#160;</b><br/>
<b>#pragma endasm&#160;</b><br/>
&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;44&#160;/&#160;80&#160;<br/>
<hr/>
<a name=45></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.1.4&#160;CAT2&#160;ISR Wrappers&#160;</b><br/>
The&#160;category&#160;2&#160;ISR&#160;wrapper&#160;section&#160;starts&#160;exactly&#160;with the&#160;following&#160;line:&#160;<br/><b>#pragma ghs section text=&#34;.os_text&#34;&#160;</b><br/>
&#160;<br/>
Each&#160;category&#160;2&#160;ISR&#160;handler&#160;must&#160;be&#160;generated&#160;exactly&#160;like&#160;the&#160;following&#160;line&#160;[SPMF92:0044]:&#160;<br/><b>osCAT2ISR(&lt;ISR_Function_Name&gt;,&#160;&lt;ISR_Priority_Level&gt;)&#160;<br/></b>This&#160;macro is&#160;defined in&#160;osek.h.&#160;It&#160;defines&#160;the&#160;CAT2&#160;ISR&#160;prologue&#160;for&#160;each interrupt&#160;priority&#160;level.&#160;<br/>
&lt;ISR_Function_Name&gt;&#160;is&#160;the&#160;unique&#160;name&#160;of&#160;the&#160;ISR&#160;function.&#160;This&#160;must&#160;be&#160;the&#160;same&#160;name&#160;as&#160;<br/>used in&#160;the&#160;EIINT&#160;vector&#160;table at&#160;the&#160;corresponding channel&#160;index&#160;position&#160;with postfix&#160;_CAT2.&#160;<br/>
&lt;ISR_Priority_Level&gt;&#160;&#160;is&#160;&#160;the&#160;&#160;value&#160;&#160;of&#160;&#160;the&#160;&#160;interrupt&#160;&#160;priority&#160;&#160;level&#160;&#160;which&#160;&#160;is&#160;&#160;configured&#160;&#160;for&#160;&#160;the&#160;<br/>corresponding&#160;ISR.&#160;The&#160;valid range of&#160;&lt;ISR_Priority_Level&gt;&#160;is&#160;0 ...&#160;15&#160;<br/>
&#160;<br/>
The&#160;category&#160;2&#160;ISR&#160;wrapper&#160;section&#160;ends&#160;exactly&#160;with the&#160;following&#160;line:&#160;<br/><b>#pragma ghs section text=default&#160;<br/></b>&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;45&#160;/&#160;80&#160;<br/>
<hr/>
<a name=46></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2&#160;&#160;Configuration Block&#160;</b><br/>
This&#160;chapter&#160;defines&#160;the&#160;rules to&#160;review&#160;and interpret&#160;the&#160;entries of&#160;the&#160;configuration block.&#160;&#160;<br/>
The&#160;configuration&#160;of&#160;MICROSAR&#160;OS&#160;RH850&#160;SafeContext&#160;is&#160;generated&#160;into&#160;C-Code.&#160;The&#160;generator&#160;<br/>itself&#160;&#160;has&#160;&#160;not&#160;&#160;been&#160;&#160;developed&#160;&#160;in&#160;&#160;accordance&#160;&#160;to&#160;&#160;safety&#160;&#160;requirements.&#160;&#160;Therefore,&#160;&#160;the&#160;&#160;generated&#160;<br/>configuration&#160;information&#160;needs&#160;to&#160;be&#160;reviewed.&#160;The&#160;safety&#160;relevant&#160;configuration&#160;is&#160;generated&#160;into&#160;<br/>a&#160;&#160;structure&#160;&#160;called&#160;&#160;ConfigBlock.&#160;&#160;This&#160;&#160;chapter&#160;&#160;describes&#160;&#160;how&#160;&#160;to&#160;&#160;review&#160;&#160;the&#160;&#160;ConfigBlock.&#160;&#160;As&#160;&#160;the&#160;<br/>ConfigBlock&#160;is&#160;simply&#160;a&#160;constant&#160;structure&#160;in&#160;the&#160;memory&#160;of&#160;an&#160;ECU,&#160;users&#160;will&#160;have&#160;difficulties&#160;to&#160;<br/>read&#160;it.&#160;Therefore,&#160;the&#160;configuration&#160;viewer&#160;is&#160;able&#160;to transform&#160;the&#160;ECU&#160;internal&#160;representation&#160;into&#160;<br/>a&#160;user&#160;readable&#160;format.&#160;The&#160;process&#160;of&#160;reading&#160;the&#160;ConfigBlock&#160;and&#160;transforming&#160;it&#160;into&#160;the&#160;user&#160;<br/>readable&#160;format&#160;is&#160;described in&#160;the&#160;following&#160;subchapter.&#160;<br/>
&#160;<br/>
<b>12.2.1&#160;How&#160;to read back&#160;the&#160;ConfigBlock&#160;</b><br/>
The&#160;&#160;ConfigBlock&#160;&#160;is&#160;&#160;internal&#160;&#160;information&#160;&#160;of&#160;&#160;a&#160;&#160;program&#160;&#160;to&#160;&#160;control&#160;&#160;an&#160;&#160;ECU.&#160;&#160;It&#160;&#160;might&#160;&#160;be&#160;&#160;available&#160;&#160;in&#160;<br/>different&#160;formats.&#160;Therefore&#160;it&#160;is&#160;difficult&#160;to&#160;provide&#160;one&#160;single&#160;configuration&#160;viewer&#160;program&#160;to&#160;read&#160;<br/>the&#160;information&#160;and&#160;transform&#160;it&#160;into&#160;a human&#160;readable&#160;format.&#160;<br/>
So&#160;the&#160;configuration&#160;viewer&#160;is&#160;a&#160;console&#160;application&#160;which&#160;reads&#160;configuration&#160;information&#160;from&#160;a&#160;<br/>proprietary&#160;intermediate&#160;file&#160;and&#160;writes&#160;it&#160;into&#160;a&#160;text&#160;file.&#160;Different&#160;reader&#160;programs&#160;are&#160;available&#160;to&#160;<br/>transform&#160;&#160;the&#160;&#160;ConfigBlock&#160;&#160;from&#160;&#160;standard&#160;&#160;formats&#160;&#160;into&#160;&#160;the&#160;&#160;intermediate&#160;&#160;format.&#160;&#160;In&#160;&#160;addition,&#160;&#160;the&#160;<br/>intermediate&#160;&#160;format&#160;&#160;is&#160;&#160;quite&#160;&#160;simple,&#160;&#160;so&#160;&#160;it&#160;&#160;may&#160;&#160;also&#160;&#160;be&#160;&#160;produced&#160;&#160;by&#160;&#160;manual&#160;&#160;adaptation&#160;&#160;of&#160;&#160;a&#160;<br/>debugger&#160;output&#160;(hex&#160;dump)&#160;with any&#160;text&#160;editor.&#160;<br/>
The&#160;&#160;configuration&#160;&#160;viewer&#160;&#160;expects&#160;&#160;the&#160;&#160;intermediate&#160;&#160;format&#160;&#160;to&#160;&#160;contain&#160;&#160;nothing&#160;&#160;else&#160;&#160;than&#160;&#160;the&#160;<br/>ConfigBlock.&#160;Therefore,&#160;the&#160;transformation&#160;programs&#160;need&#160;the&#160;information,&#160;where&#160;the&#160;ConfigBlock&#160;<br/>is&#160;located.&#160;That&#160;information&#160;is&#160;passed&#160;to&#160;the&#160;transformation&#160;program&#160;by&#160;means&#160;of&#160;the&#160;parameter&#160;‘–<br/>b’.&#160;<br/>
The&#160;&#160;address&#160;&#160;of&#160;&#160;the&#160;&#160;ConfigBlock&#160;is&#160;&#160;easily&#160;&#160;taken&#160;&#160;out&#160;&#160;of&#160;the&#160;&#160;linker&#160;&#160;map&#160;file.&#160;&#160;It&#160;&#160;is&#160;the&#160;&#160;address&#160;&#160;of&#160;the&#160;<br/>constant&#160;<i>osConfigBlock</i>&#160;[SPMF92:0016].&#160;<br/>
The&#160;following&#160;subchapters&#160;concentrate&#160;on&#160;the&#160;output&#160;of&#160;the&#160;configuration viewer&#160;and on&#160;the&#160;rules to&#160;<br/>review&#160;it.&#160;The&#160;configuration&#160;viewer&#160;and the&#160;format&#160;converters&#160;are described&#160;separately.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;46&#160;/&#160;80&#160;<br/>
<hr/>
<a name=47></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.2&#160;Additional&#160;Information&#160;</b><br/>
The&#160;&#160;operating&#160;&#160;system&#160;&#160;and&#160;&#160;therefore&#160;&#160;also&#160;&#160;the&#160;&#160;ConfigBlock&#160;&#160;typically&#160;&#160;use&#160;&#160;indexes&#160;&#160;instead&#160;&#160;of&#160;&#160;the&#160;<br/>names&#160;of&#160;tasks,&#160;ISRs,&#160;applications&#160;and&#160;so&#160;on.&#160;Each&#160;index&#160;value&#160;is&#160;related&#160;to&#160;exactly&#160;one&#160;object&#160;in&#160;<br/>the&#160;&#160;configuration&#160;&#160;of&#160;&#160;the&#160;&#160;OS.&#160;&#160;However,&#160;&#160;the&#160;&#160;relation&#160;&#160;to&#160;&#160;the&#160;&#160;configured&#160;&#160;object&#160;&#160;is&#160;&#160;typically&#160;&#160;not&#160;&#160;so&#160;<br/>obvious.&#160;<br/>
Therefore,&#160;&#160;the&#160;&#160;configuration&#160;&#160;viewer&#160;&#160;provides&#160;&#160;the&#160;&#160;possibility&#160;&#160;to&#160;&#160;add&#160;&#160;the&#160;&#160;names&#160;&#160;of&#160;&#160;configuration&#160;<br/>objects&#160;to&#160;its&#160;output.&#160;That&#160;information&#160;is&#160;taken&#160;from&#160;the&#160;so&#160;called&#160;XML&#160;config-file.&#160;The&#160;OS-generator&#160;<br/>produces&#160;this&#160;file&#160;together&#160;with the&#160;source&#160;files it&#160;generates.&#160;<br/>
The&#160;&#160;configuration&#160;&#160;viewer&#160;&#160;outputs&#160;&#160;the&#160;&#160;object&#160;&#160;names&#160;&#160;in&#160;&#160;case&#160;&#160;a&#160;&#160;parameter&#160;&#160;is&#160;&#160;set&#160;&#160;to&#160;&#160;use&#160;&#160;the&#160;<br/>information&#160;from&#160;the&#160;XML&#160;config-file.&#160;All&#160;information&#160;taken&#160;from&#160;the&#160;XML&#160;config-file&#160;is&#160;represented&#160;<br/>between ‘(‘ and ‘)’&#160;to&#160;mark&#160;it&#160;as&#160;unsafe additional&#160;information.&#160;<br/>
The&#160;reviewer&#160;of&#160;the&#160;ConfigBlock&#160;has&#160;the&#160;possibility&#160;to&#160;make&#160;use&#160;of&#160;the&#160;information&#160;taken&#160;from&#160;the&#160;<br/>XML&#160;&#160;config-file&#160;&#160;or&#160;&#160;to&#160;&#160;skip&#160;&#160;that&#160;&#160;information&#160;&#160;completely.&#160;&#160;The&#160;&#160;review&#160;&#160;rules&#160;&#160;in&#160;&#160;the&#160;&#160;chapters&#160;&#160;below&#160;<br/>describe&#160;for&#160;both&#160;cases&#160;how&#160;the&#160;review&#160;shall&#160;be&#160;performed.&#160;The&#160;examples&#160;of&#160;configuration&#160;viewer&#160;<br/>output&#160;below&#160;always&#160;contain the&#160;information&#160;from&#160;XML&#160;config-file.&#160;<br/>
Although&#160;the&#160;information&#160;taken&#160;from&#160;the&#160;XML&#160;config-file&#160;(information&#160;in&#160;parentheses)&#160;is&#160;unsafe,&#160;the&#160;<br/>relation&#160;&#160;between&#160;&#160;index&#160;&#160;and&#160;&#160;name&#160;&#160;of&#160;&#160;an&#160;&#160;object&#160;&#160;is&#160;&#160;guaranteed&#160;&#160;to&#160;&#160;be&#160;&#160;fix.&#160;&#160;This&#160;&#160;means,&#160;&#160;once&#160;&#160;the&#160;<br/>configuration&#160;&#160;viewer&#160;&#160;has&#160;&#160;read&#160;&#160;in&#160;&#160;the&#160;&#160;object&#160;&#160;names&#160;&#160;from&#160;&#160;the&#160;&#160;XML&#160;&#160;config-file,&#160;&#160;it&#160;&#160;always&#160;&#160;translates&#160;<br/>each&#160;certain&#160;index&#160;to&#160;the&#160;exact&#160;same&#160;object&#160;name.&#160;So&#160;the&#160;relation&#160;between&#160;object&#160;index&#160;and&#160;object&#160;<br/>name&#160;&#160;needs&#160;&#160;to&#160;&#160;be&#160;&#160;reviewed&#160;&#160;only&#160;&#160;once&#160;&#160;and&#160;&#160;can&#160;&#160;be&#160;&#160;seen&#160;&#160;as&#160;&#160;reliable&#160;&#160;everywhere&#160;&#160;else&#160;&#160;in&#160;&#160;the&#160;<br/>configuration&#160;viewer&#160;output.&#160;<br/>
The&#160;review&#160;rules&#160;below&#160;already&#160;contain&#160;rules&#160;to&#160;validate&#160;the&#160;information taken&#160;from&#160;XML&#160;config-file,&#160;<br/>so that&#160;information&#160;can&#160;safely&#160;be&#160;used although&#160;it&#160;is&#160;taken&#160;from&#160;an&#160;unsafe&#160;source.&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;47&#160;/&#160;80&#160;<br/>
<hr/>
<a name=48></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.3&#160;How&#160;to start the&#160;review&#160;</b><br/>
The&#160;configuration&#160;viewer&#160;starts&#160;the&#160;output&#160;with something&#160;like&#160;[SPMF92:0063]:&#160;<br/><b>OS Configuration Viewer V3.00 (General) V1.02 (HW Specific) (Apr 24 2014 15:42:59)&#160;<br/>(c) 2013 Vector Informatik GmbH&#160;<br/>&#160;<br/>Started at:Tue May 13 16:23:24 2014&#160;<br/>&#160;<br/>Remark: Text between '(' and ')' shall be treated as unsafe additional information</b>&#160;<br/>&#160;<br/><b>===================================================&#160;<br/>Start of Config Block &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x00002000 &#160;&#160;<br/>Length &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;588 &#160; &#160; &#160; &#160;&#160;&#160;<br/>CRC &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0x9622 &#160; &#160; &#160;&#160;<br/>Config Block Format Version &#160; &#160; &#160; &#160; &#160; &#160; 02.00 &#160; &#160; &#160;&#160;&#160;<br/>MICROSAR OS RH850 &#160;SafeContext Version &#160;06.05 &#160; &#160; &#160;&#160;&#160;<br/>User Config Version &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 2 &#160; &#160; &#160; &#160;&#160;<br/>===================================================&#160;<br/>&#160;<br/></b>The&#160;user&#160;should start&#160;with some&#160;consistency&#160;checks&#160;like:&#160;<br/>
&#160;&#160;Is&#160;the&#160;date&#160;(Started&#160;at)&#160;equal&#160;to&#160;the&#160;date/time&#160;when the&#160;configuration viewer&#160;was&#160;started&#160;<br/>&#160;&#160;Do the&#160;start&#160;address&#160;(Start&#160;of&#160;configuration&#160;block),&#160;length&#160;(Length)&#160;and&#160;CRC&#160;fit&#160;to&#160;the&#160;<br/>
configuration&#160;block&#160;which shall&#160;be&#160;reviewed&#160;<br/>
&#160;&#160;Check&#160;&#160;that&#160;&#160;the&#160;&#160;listed&#160;&#160;version&#160;&#160;of&#160;&#160;MICROSAR&#160;&#160;OS&#160;&#160;RH850&#160;SafeContext&#160;&#160;matches&#160;&#160;your&#160;<br/>
delivered&#160;version.&#160;<br/>
&#160;&#160;Review&#160;that&#160;the&#160;user&#160;config version represents&#160;the number&#160;which was configured&#160;by&#160;means&#160;<br/>
of&#160;the&#160;configuration&#160;attribute&#160;UserConfigurationVersion&#160;[SPMF92:0045].&#160;<br/>
&#160;&#160;Is&#160;the&#160;output&#160;complete&#160;(see&#160;below)?&#160;<br/>
&#160;<br/>
The&#160;output&#160;is&#160;complete when it&#160;ends&#160;on:&#160;<br/>
<b>=======================================================&#160;<br/>&#160; &#160; &#160; &#160; &#160;&#160;End of configuration block reached &#160; &#160; &#160; &#160; &#160;&#160;&#160;<br/>=======================================================&#160;<br/></b>&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;48&#160;/&#160;80&#160;<br/>
<hr/>
<a name=49></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.3.1&#160;Indexes&#160;of applications,&#160;task&#160;,&#160;ISRs,&#160;trusted&#160;and&#160;non-trusted&#160;functions&#160;</b><br/>
<b>&#160;<br/></b>Check&#160;indexes of&#160;listed&#160;applications:&#160;<br/>The&#160;indexes must&#160;begin&#160;with 0&#160;<br/>The&#160;indexes must&#160;be&#160;consecutive.&#160;Gaps&#160;are not&#160;allowed&#160;<br/>The&#160;indexes must&#160;end&#160;at&#160;&lt;Number&#160;of&#160;applications&gt;-1&#160;<br/>&#160;<br/>Check&#160;indexes of&#160;listed&#160;tasks:&#160;<br/>The&#160;indexes must&#160;begin&#160;with 0&#160;<br/>The&#160;indexes must&#160;be&#160;consecutive.&#160;Gaps&#160;are not&#160;allowed&#160;<br/>The&#160;indexes must&#160;end&#160;at&#160;&lt;Number&#160;of&#160;tasks&gt;-1&#160;<br/>&#160;<br/>Check&#160;indexes of&#160;listed&#160;category&#160;2&#160;ISRs:&#160;<br/>The&#160;indexes must&#160;begin&#160;with 0&#160;<br/>The&#160;indexes must&#160;be&#160;consecutive.&#160;Gaps&#160;are not&#160;allowed&#160;<br/>The&#160;indexes must&#160;end&#160;at&#160;&lt;Number&#160;of&#160;category&#160;2&#160;ISRs&gt;&#160;-&#160;1&#160;<br/>&#160;<br/>Check&#160;indexes of&#160;listed&#160;trusted&#160;functions:&#160;<br/>The&#160;indexes must&#160;begin&#160;with 0&#160;<br/>The&#160;indexes must&#160;be&#160;consecutive.&#160;Gaps&#160;are not&#160;allowed&#160;<br/>The&#160;indexes must&#160;end&#160;at&#160;&lt;Number&#160;of&#160;trusted&#160;functions&gt;&#160;-&#160;1&#160;<br/>&#160;<br/>Check&#160;indexes of&#160;listed&#160;non-trusted&#160;functions:&#160;<br/>The&#160;indexes must&#160;begin&#160;with 0&#160;<br/>The&#160;indexes must&#160;be&#160;consecutive.&#160;Gaps&#160;are not&#160;allowed&#160;<br/>The&#160;indexes must&#160;end&#160;at&#160;&lt;Number&#160;of&#160;non-trusted&#160;functions&gt;&#160;-&#160;1&#160;<br/>&#160;<br/>Note:&#160;The&#160;table items&#160;in&#160;the&#160;configuration&#160;viewer&#160;output&#160;may&#160;not&#160;be&#160;sorted&#160;by&#160;index.&#160;<br/>&#160;<br/>&#160;<br/>
<b>12.2.3.2&#160;Review&#160;against&#160;User’s&#160;Design&#160;</b><br/>
The&#160;&#160;chapters&#160;&#160;below&#160;&#160;describe,&#160;&#160;how&#160;&#160;the&#160;&#160;configuration&#160;&#160;viewer&#160;&#160;output&#160;&#160;can&#160;&#160;be&#160;&#160;reviewed&#160;&#160;against&#160;&#160;the&#160;<br/>OS-configuration.&#160;However,&#160;the&#160;review&#160;shall&#160;be&#160;performed&#160;against&#160;the&#160;user’s&#160;design of&#160;the&#160;system.&#160;&#160;<br/>
The&#160;reason&#160;is&#160;that&#160;OS&#160;developers&#160;can&#160;only&#160;describe,&#160;where the&#160;respective information&#160;can&#160;be&#160;<br/>found&#160;in&#160;the&#160;configuration&#160;but&#160;have only&#160;limited&#160;knowledge about&#160;the&#160;system&#160;design.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;49&#160;/&#160;80&#160;<br/>
<hr/>
<a name=50></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.4&#160;How&#160;to review&#160;the&#160;general&#160;information (block&#160;0)&#160;</b><br/>
The&#160;configuration&#160;viewer&#160;generates&#160;the&#160;general&#160;information as&#160;followed&#160;[SPMF92:0063]:&#160;<br/><b>0. General&#160;Information&#160;<br/>------------------------------------------------------&#160;<br/>Property &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; Value &#160; &#160; &#160; Checked?&#160;&#160;<br/>------------------------------------------------------&#160;<br/>Number of Tasks &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;4 &#160; &#160; &#160; &#160; &#160; &#160; [ &#160;] &#160;&#160;&#160;<br/>Number of Cat2 ISRs &#160; &#160;&#160; &#160; &#160; &#160; &#160;&#160;3 &#160; &#160; &#160; &#160; &#160; &#160; [ &#160;] &#160;&#160;&#160;<br/>Number of All ISRs &#160; &#160; &#160; &#160; &#160; &#160; &#160; 4 &#160; &#160; &#160; &#160; &#160; &#160; [ &#160;] &#160;&#160;&#160;<br/>Number of Trusted Functions &#160; &#160; &#160;1 &#160; &#160; &#160; &#160; &#160; &#160; [ &#160;] &#160;&#160;&#160;<br/>Number of Non-Trusted Functions &#160;0 &#160; &#160; &#160; &#160; &#160; &#160; [ &#160;] &#160;&#160;&#160;<br/>Number of Applications &#160; &#160; &#160; &#160; &#160; 3 &#160; &#160; &#160; &#160; &#160; &#160; [ &#160;] &#160;&#160;&#160;<br/>Number of Peripheral Regions &#160; &#160; 0 &#160; &#160; &#160; &#160; &#160; &#160; [ &#160;] &#160;&#160;&#160;<br/>Stack Usage Measurement &#160; &#160; &#160; &#160; &#160;Yes &#160; &#160; &#160; &#160; &#160; [ &#160;] &#160;&#160;&#160;<br/>Number of MPU Regions &#160; &#160; &#160; &#160; &#160; &#160;12 &#160; &#160; &#160; &#160; &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>Number of Dynamic MPU Regions &#160; &#160;2 &#160; &#160; &#160; &#160; &#160; &#160; [ &#160;] &#160;&#160;&#160;<br/>Number of Static MPU Regions &#160; &#160; 4 &#160; &#160; &#160;&#160; &#160; &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>Number of Available Cores &#160; &#160; &#160; &#160;1 &#160; &#160; &#160; &#160; &#160; &#160; [ &#160;] &#160;&#160;&#160;<br/>System Stack Start-Address &#160; &#160; &#160; 0xfedf04b0 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>System Stack End-Address &#160; &#160; &#160; &#160; 0xfedf0640 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>------------------------------------------------------&#160;<br/>&#160;<br/></b>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this:&#160;<br/>
&#160;&#160;Count&#160;the&#160;number&#160;of&#160;configured&#160;tasks&#160;and&#160;compare it&#160;against&#160;the&#160;number&#160;of&#160;tasks&#160;<br/>
presented&#160;by&#160;the&#160;configuration viewer&#160;in the&#160;part&#160;about&#160;general&#160;information&#160;<br/>
&#160;&#160;Check&#160;the&#160;number&#160;of&#160;Cat2 ISRs:&#160;<br/>
o&#160;&#160;Count&#160;the&#160;number&#160;of&#160;configured&#160;ISRs&#160;with CATEGORY&#160;=&#160;2 and&#160;compare&#160;it&#160;against&#160;<br/>
the&#160;number&#160;of&#160;Cat2&#160;ISRs&#160;presented&#160;by&#160;the&#160;configuration viewer&#160;in the&#160;part&#160;about&#160;<br/>general&#160;information.&#160;<br/>
o&#160;&#160;Consider&#160;that&#160;the&#160;OS&#160;internally&#160;uses&#160;a&#160;further&#160;Cat2&#160;ISR&#160;for&#160;alarm&#160;and schedule table&#160;<br/>
handling.&#160;That&#160;ISR&#160;is&#160;only&#160;available in&#160;case&#160;at&#160;least&#160;one&#160;alarm&#160;or&#160;a&#160;schedule table&#160;<br/>has&#160;been&#160;configured&#160;that&#160;uses&#160;the&#160;system&#160;timer.&#160;<br/>
&#160;&#160;Check&#160;the&#160;number&#160;of&#160;all&#160;ISRs:&#160;<br/>
o&#160;&#160;Count&#160;the&#160;number&#160;of&#160;configured&#160;EIINT&#160;ISRs&#160;with&#160;CATEGORY&#160;=&#160;1&#160;and 2&#160;and&#160;<br/>
compare&#160;it&#160;against&#160;the&#160;number&#160;of&#160;all&#160;ISRs&#160;presented&#160;by&#160;the&#160;configuration&#160;viewer&#160;in&#160;<br/>the&#160;part&#160;about&#160;general&#160;information.&#160;<br/>
&#160;&#160;Count&#160;the&#160;number&#160;of&#160;configured&#160;trusted&#160;functions&#160;and compare it&#160;against&#160;the&#160;number&#160;of&#160;<br/>
trusted&#160;functions&#160;presented&#160;by&#160;the&#160;configuration&#160;viewer&#160;in the&#160;part&#160;about&#160;general&#160;<br/>information.&#160;Trusted&#160;function&#160;configurations&#160;may&#160;be&#160;found&#160;in the&#160;configuration&#160;of&#160;any&#160;OS-<br/>applications with&#160;TRUSTED&#160;=&#160;TRUE.&#160;<br/>
&#160;&#160;Count&#160;the&#160;number&#160;of&#160;configured&#160;non-trusted&#160;functions&#160;and compare it&#160;against&#160;the&#160;number&#160;of&#160;<br/>
non-trusted&#160;functions&#160;presented&#160;by&#160;the&#160;configuration&#160;viewer&#160;in the&#160;part&#160;about&#160;general&#160;<br/>information.&#160;Non-trusted&#160;function&#160;configurations&#160;may&#160;be&#160;found&#160;in&#160;the&#160;configuration of&#160;any&#160;<br/>OS-applications with&#160;TRUSTED&#160;=&#160;FALSE.&#160;<br/>
&#160;&#160;Count&#160;the&#160;number&#160;of&#160;configured&#160;OS-applications&#160;and compare it&#160;against&#160;the&#160;number&#160;of&#160;OS-<br/>
applications presented&#160;by&#160;the&#160;configuration viewer&#160;in&#160;the&#160;chapter&#160;about&#160;general&#160;information.&#160;<br/>
&#160;&#160;Count&#160;the&#160;number&#160;of&#160;peripheral&#160;regions&#160;configured over&#160;all&#160;non-trusted&#160;applications and&#160;<br/>
compare&#160;it&#160;against&#160;the&#160;number&#160;of&#160;peripheral&#160;regions&#160;presented&#160;by&#160;the&#160;configuration viewer.&#160;<br/>
&#160;&#160;Compare&#160;the&#160;configuration&#160;of&#160;stack&#160;usage&#160;measurement&#160;against&#160;the&#160;respective output&#160;of&#160;<br/>
the&#160;configuration&#160;viewer&#160;in the&#160;chapter&#160;about&#160;general&#160;information.&#160;The&#160;configuration of&#160;stack&#160;<br/>usage&#160;measurement&#160;is&#160;found&#160;in the&#160;general&#160;configuration of&#160;the&#160;OS.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;50&#160;/&#160;80&#160;<br/>
<hr/>
<a name=51></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
&#160;&#160;Check&#160;the&#160;number&#160;of&#160;MPU&#160;regions&#160;which are provided by&#160;the&#160;used&#160;CPU&#160;derivative.&#160;<br/>&#160;&#160;Check&#160;the&#160;number&#160;of&#160;dynamic&#160;MPU&#160;regions&#160;which must&#160;be&#160;same as&#160;the&#160;number&#160;of&#160;MPU&#160;<br/>
regions&#160;configured&#160;in&#160;the&#160;application with most&#160;dynamic&#160;MPU&#160;regions.&#160;<br/>
&#160;&#160;Check&#160;the&#160;number&#160;of&#160;static&#160;MPU&#160;regions&#160;configured&#160;for&#160;the&#160;OS.&#160;<br/>&#160;&#160;Check&#160;the&#160;number&#160;of&#160;CPU&#160;cores&#160;which are provided by&#160;the&#160;used&#160;CPU&#160;derivative.&#160;<br/>&#160;&#160;Review&#160;of&#160;system&#160;stack&#160;addresses&#160;&#160;[SPMF92:0056],[SPMF92:04.0003]:&#160;<br/>
o&#160;&#160;Compare&#160;the&#160;system&#160;stack&#160;start&#160;address in&#160;the&#160;configuration viewer&#160;output&#160;against&#160;<br/>
the&#160;label&#160;&#160;<i>_osSystemStack_StartAddr</i>&#160;in the&#160;linker&#160;map-file.&#160;&#160;<br/>
o&#160;&#160;Compare&#160;the&#160;system&#160;stack&#160;end address&#160;in&#160;the&#160;configuration viewer&#160;output&#160;against&#160;<br/>
the&#160;label&#160;<i>_osSystemStack_EndAddr</i>&#160;in&#160;the&#160;linker&#160;map-file.&#160;<br/>
o&#160;&#160;Check&#160;that&#160;both labels&#160;are 4&#160;Byte aligned&#160;[SPMF92:04.0002].&#160;This&#160;prevents&#160;that&#160;any&#160;<br/>
data of&#160;other&#160;sections&#160;is&#160;accessible by&#160;the&#160;same&#160;MPU&#160;region.&#160;<br/>
o&#160;&#160;Check&#160;that&#160;only&#160;the&#160;array&#160;variable osSystemStack&#160;is&#160;located&#160;between&#160;the&#160;labels&#160;<br/>
described above.&#160;&#160;<br/>
o&#160;&#160;Check&#160;the&#160;difference between the&#160;system&#160;stack&#160;start-&#160;and end-address&#160;against&#160;the&#160;<br/>
designed&#160;(and&#160;therefore&#160;also configured)&#160;system&#160;stack&#160;size.&#160;<br/>
&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;51&#160;/&#160;80&#160;<br/>
<hr/>
<a name=52></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.5&#160;How&#160;to review&#160;the&#160;task&#160;start addresses&#160;(block&#160;1)&#160;</b><br/>
The&#160;configuration&#160;viewer&#160;generates&#160;the&#160;task&#160;start&#160;addresses&#160;as&#160;followed&#160;[SPMF92:0063]:&#160;<br/><b>1. Task start addresses:&#160;<br/>------------------------------------------------------&#160;<br/>Task-ID &#160;Task-Name &#160; &#160; &#160; &#160; &#160; &#160; &#160; Value &#160; &#160; &#160; Checked? &#160;&#160;<br/>------------------------------------------------------&#160;<br/>0 &#160; &#160; &#160; &#160;(eTask1) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0x000030cc &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>1 &#160; &#160; &#160; &#160;(osSystemExtendedTask) &#160;0x000059a2 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>2 &#160; &#160; &#160; &#160;(bTask1) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0x00003052 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>3 &#160; &#160; &#160; &#160;(osSystemBasicTask) &#160; &#160; 0x000059a0 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>------------------------------------------------------&#160;<br/>&#160;</b><br/>
The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this:&#160;<br/>
&#160;&#160;Check&#160;&#160;the&#160;&#160;linker-map-file&#160;&#160;of&#160;&#160;the&#160;&#160;project&#160;&#160;for&#160;&#160;a&#160;&#160;function&#160;&#160;called&#160;&#160;&lt;TaskName&gt;func.&#160;&#160;This&#160;<br/>
function&#160;must&#160;be&#160;linked&#160;to&#160;the&#160;address&#160;value&#160;as&#160;specified&#160;in&#160;the&#160;configuration&#160;viewer&#160;output&#160;<br/>[SPMF92:02.0025].&#160;&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;52&#160;/&#160;80&#160;<br/>
<hr/>
<a name=53></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.6&#160;How&#160;to review&#160;the&#160;task&#160;trusted information&#160;(block&#160;2)&#160;</b><br/>
The&#160;configuration&#160;viewer&#160;generates&#160;the&#160;task&#160;trusted&#160;information&#160;as&#160;followed:&#160;<br/>[SPMF92:0061],[SPMF92:0063],&#160;[SPMF92:02.0027]&#160;<br/>
<b>2. Task trustedness information:&#160;<br/>-------------------------------------------------------&#160;<br/>Task-ID &#160;Task-Name &#160; &#160; &#160; &#160; &#160; &#160; &#160; Value &#160; &#160; &#160; &#160;Checked?&#160;&#160;<br/>-------------------------------------------------------&#160;<br/>0 &#160; &#160; &#160; &#160;(eTask1) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;non-trusted &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>1 &#160; &#160; &#160; &#160;(osSystemExtendedTask) &#160;trusted &#160; &#160; &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>2 &#160; &#160; &#160; &#160;(bTask1) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;non-trusted &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>3 &#160; &#160; &#160; &#160;(osSystemBasicTask) &#160; &#160; trusted &#160; &#160; &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>-------------------------------------------------------&#160;<br/>&#160;<br/></b>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this:&#160;<br/>
&#160;&#160;Check&#160;for&#160;each&#160;task,&#160;that&#160;the&#160;setting&#160;of&#160;the&#160;attribute&#160;TRUSTED&#160;of&#160;the&#160;owner&#160;application&#160;fits&#160;<br/>
to&#160;the&#160;value&#160;of&#160;the&#160;task&#160;trustedness&#160;information.&#160;In case&#160;the&#160;owner&#160;application has&#160;the&#160;<br/>configuration&#160;TRUSTED=TRUE,&#160;the&#160;task&#160;must&#160;be trusted.&#160;In&#160;case&#160;the&#160;owner&#160;application&#160;<br/>has&#160;the&#160;configuration&#160;TRUSTED=FALSE,&#160;the&#160;task&#160;must&#160;be&#160;non-trusted.&#160;<br/>
&#160;&#160;osSystemExtendedTask&#160;and osSystemBasicTask&#160;must&#160;always&#160;be&#160;trusted.&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;53&#160;/&#160;80&#160;<br/>
<hr/>
<a name=54></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.7&#160;How&#160;to&#160;review&#160;the&#160;task&#160;preemptive&#160;information (block&#160;3)&#160;</b><br/>
The&#160;configuration&#160;viewer&#160;generates&#160;the&#160;task&#160;preemptive information&#160;as&#160;followed&#160;[SPMF92:0063]:&#160;<br/><b>3. Task preemptiveness information:&#160;<br/>-------------------------------------------------------------&#160;<br/>Task-ID &#160;Task-Name &#160; &#160; &#160; &#160; &#160; &#160; &#160; Value &#160; &#160; &#160; &#160; &#160; &#160; &#160;Checked?&#160;&#160;<br/>-------------------------------------------------------------&#160;<br/>0 &#160; &#160; &#160; &#160;(eTask1) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;fully-preemptible &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>1 &#160; &#160; &#160; &#160;(osSystemExtendedTask) &#160;fully-preemptible &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>2 &#160; &#160; &#160; &#160;(bTask1) &#160; &#160; &#160;&#160; &#160; &#160; &#160; &#160;&#160;fully-preemptible &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>3 &#160; &#160; &#160; &#160;(osSystemBasicTask) &#160; &#160; non-preemptible &#160; &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>-------------------------------------------------------------&#160;<br/>&#160;<br/></b>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this:&#160;<br/>
&#160;&#160;Take&#160;the&#160;task&#160;name&#160;(as&#160;printed)&#160;and check&#160;whether&#160;this&#160;respective task&#160;preemptive setting&#160;<br/>
was really&#160;configured&#160;as&#160;printed.&#160;If&#160;preemptive is&#160;printed&#160;here,&#160;the&#160;task&#160;configuration&#160;must&#160;<br/>contain SCHEDULE&#160;=&#160;FULL,&#160;if&#160;non-preemptive is printed&#160;here,&#160;the&#160;task&#160;configuration&#160;must&#160;<br/>contain SCHEDULE=NON.&#160;The&#160;OS&#160;generator&#160;assures&#160;that&#160;each&#160;task&#160;has&#160;the&#160;attribute&#160;<br/>SCHEDULE&#160;exactly&#160;once with possible values&#160;FULL&#160;or&#160;NON.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;54&#160;/&#160;80&#160;<br/>
<hr/>
<a name=55></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.8&#160;How&#160;to review&#160;the&#160;task&#160;stack&#160;start and end&#160;addresses&#160;(block&#160;4&#160;and 5)&#160;</b><br/>
The&#160;configuration&#160;viewer&#160;generates&#160;the&#160;task&#160;stack&#160;start&#160;addresses as&#160;followed&#160;[SPMF92:0063]:&#160;<br/>
<b>4. Task stack lower boundary addresses:&#160;<br/>------------------------------------------------------&#160;<br/>Task-ID &#160;Task-Name &#160; &#160; &#160; &#160; &#160; &#160; &#160; Value &#160; &#160; &#160; Checked?&#160;&#160;<br/>------------------------------------------------------&#160;<br/>0 &#160; &#160; &#160; &#160;(eTask1) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0xfedf0640&#160;&#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>1 &#160; &#160; &#160; &#160;(osSystemExtendedTask) &#160;0x00000010 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>2 &#160; &#160; &#160; &#160;(bTask1) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0xfedf07d0 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>3 &#160; &#160; &#160; &#160;(osSystemBasicTask) &#160; &#160; 0x00000010 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>------------------------------------------------------</b>&#160;<br/>&#160;<br/>The&#160;configuration&#160;viewer&#160;generates&#160;the&#160;task&#160;stack&#160;end addresses&#160;as&#160;followed:&#160;<br/>
<b>5. Task stack upper boundary addresses:&#160;<br/>------------------------------------------------------&#160;<br/>Task-ID &#160;Task-Name &#160; &#160; &#160; &#160; &#160; &#160; &#160; Value &#160; &#160; &#160; Checked?&#160;&#160;<br/>------------------------------------------------------&#160;<br/>0 &#160; &#160; &#160; &#160;(eTask1) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0xfedf07d0 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>1 &#160; &#160; &#160; &#160;(osSystemExtendedTask) &#160;0x00000000 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>2 &#160; &#160; &#160; &#160;(bTask1) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0xfedf0960 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>3 &#160; &#160; &#160; &#160;(osSystemBasicTask) &#160; &#160; 0x00000000 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>------------------------------------------------------&#160;<br/>&#160;<br/></b>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this&#160;[SPMF92:0056]:&#160;<br/>
&#160;&#160;Check&#160;that&#160;the&#160;difference&#160;between stack&#160;start&#160;and&#160;stack&#160;end address&#160;fits&#160;to&#160;the&#160;configured&#160;<br/>
size of&#160;the&#160;task&#160;stack&#160;<br/>
&#160;&#160;Check&#160;that&#160;the&#160;stacks&#160;do&#160;not&#160;overlap&#160;<br/>&#160;&#160;Compare&#160;printed&#160;address&#160;value of&#160;each&#160;stack&#160;with the&#160;address&#160;given&#160;in the linker&#160;map&#160;file.&#160;<br/>&#160;&#160;Check&#160;that&#160;all&#160;task&#160;stack&#160;sizes are a&#160;multiple of&#160;4&#160;Bytes [SPMF92:04.0008].&#160;This&#160;prevents&#160;<br/>
that&#160;any&#160;data of&#160;another&#160;section is accessible in&#160;the&#160;same&#160;MPU&#160;region.&#160;<br/>
&#160;&#160;Check&#160;that&#160;each defined&#160;address&#160;region&#160;(task&#160;stack&#160;start&#160;address,&#160;task&#160;stack&#160;end address)&#160;<br/>
only&#160;covers&#160;exactly&#160;one array&#160;variable named&#160;osTaskStack&lt;StackIndex&gt;.&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;55&#160;/&#160;80&#160;<br/>
<hr/>
<a name=56></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.9&#160;How&#160;to review&#160;the&#160;task&#160;ownership information (block&#160;6)&#160;</b><br/>
The&#160;configuration&#160;viewer&#160;generates&#160;the&#160;task&#160;ownership information&#160;as&#160;followed&#160;[SPMF92:0063]:&#160;<br/>
<b>6. Task to application mapping:&#160;<br/>-------------------------------------------------------------------------------&#160;<br/>Task-ID &#160;Task-Name &#160; &#160; &#160; &#160; &#160; &#160; &#160; Appl-ID &#160;Appl-Name &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; Checked?&#160;&#160;<br/>-------------------------------------------------------------------------------&#160;<br/>0 &#160; &#160; &#160; &#160;(eTask1) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;2 &#160; &#160; &#160; &#160;(xyzAppl) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; [ &#160;] &#160;&#160;&#160;<br/>1 &#160; &#160; &#160; &#160;(osSystemExtendedTask) &#160;1 &#160; &#160; &#160; &#160;(osSystemApplicationCore0) &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>2 &#160; &#160; &#160; &#160;(bTask1) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;2 &#160; &#160; &#160; &#160;(xyzAppl) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; [ &#160;] &#160;&#160;&#160;<br/>3 &#160; &#160; &#160; &#160;(osSystemBasicTask) &#160; &#160; 1 &#160; &#160; &#160; &#160;(osSystemApplicationCore0) &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>-------------------------------------------------------------------------------&#160;<br/>&#160;<br/></b>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this&#160;[SPMF92:0062]:&#160;<br/>
&#160;&#160;The&#160;configuration&#160;of&#160;each&#160;application&#160;contains&#160;a&#160;list&#160;of&#160;the&#160;tasks&#160;which&#160;it&#160;owns.&#160;Check&#160;for&#160;<br/>
each&#160;of&#160;the&#160;named&#160;applications&#160;that&#160;it&#160;owns&#160;exactly&#160;those&#160;tasks&#160;listed&#160;in&#160;the&#160;configuration&#160;<br/>viewer&#160;output.&#160;The&#160;OS&#160;generator&#160;assures&#160;that&#160;each task&#160;has&#160;exactly&#160;one&#160;owner&#160;application.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;56&#160;/&#160;80&#160;<br/>
<hr/>
<a name=57></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.10&#160;&#160;How&#160;to review&#160;the&#160;category&#160;2&#160;ISR start addresses&#160;(block&#160;7)&#160;</b><br/>
The&#160;configuration&#160;viewer&#160;generates category&#160;2 ISR&#160;start&#160;addresses&#160;as&#160;followed&#160;[SPMF92:0063]:&#160;<br/>
<b>7. Category 2 ISR function start address:&#160;<br/>-------------------------------------------------&#160;<br/>ISR-ID &#160;ISR-Name &#160; &#160; &#160; &#160; &#160; &#160;Value &#160; &#160; &#160; Checked?&#160;&#160;<br/>-------------------------------------------------&#160;<br/>0 &#160; &#160; &#160; (ISR1) &#160; &#160; &#160; &#160; &#160; &#160; &#160;0x000030f4 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>1 &#160; &#160; &#160; (osSystemCat2ISR) &#160; 0x000059a4 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>2 &#160; &#160; &#160; (osTimerInterrupt)&#160;&#160;0x00009b9c &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>-------------------------------------------------&#160;<br/>&#160;<br/></b>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this:&#160;<br/>
&#160;&#160;Check&#160;the&#160;linker&#160;map&#160;file of&#160;the&#160;project&#160;for&#160;symbol&#160;_&lt;ISRName&gt;func.&#160;This&#160;ISR&#160;function&#160;<br/>
must&#160;be&#160;linked&#160;to&#160;the&#160;address&#160;value&#160;as&#160;specified&#160;in the configuration&#160;viewer&#160;output&#160;<br/>[SPMF92:02.0026].&#160;&#160;<br/>
&#160;&#160;In case&#160;the&#160;ISR&#160;has&#160;a configured&#160;SpecialFunctionName,&#160;search&#160;for&#160;the&#160;symbol&#160;<br/>
_&lt;SpecialFunctionName&gt;func&#160;instead,&#160;which is located&#160;at&#160;the&#160;address,&#160;shown in&#160;the&#160;<br/>configuration&#160;block.&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;57&#160;/&#160;80&#160;<br/>
<hr/>
<a name=58></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.11&#160;&#160;How&#160;to review&#160;the&#160;CAT2&#160;ISR&#160;trusted&#160;information (block&#160;8)&#160;</b><br/>
The&#160;&#160;configuration&#160;&#160;viewer&#160;&#160;generates&#160;&#160;CAT2&#160;&#160;ISR&#160;&#160;trusted&#160;&#160;information&#160;&#160;as&#160;&#160;followed:&#160;<br/>[SPMF92:0061],[SPMF92:0063],&#160;[SPMF92:02.0027]&#160;<br/>
<b>8. Category 2 ISR trustedness:&#160;<br/>--------------------------------------------------&#160;<br/>ISR-ID &#160;ISR-Name &#160; &#160; &#160; &#160; &#160; &#160;Value &#160; &#160; &#160; &#160;Checked?&#160;&#160;<br/>--------------------------------------------------&#160;<br/>0 &#160; &#160; &#160; (ISR1) &#160; &#160; &#160; &#160; &#160; &#160; &#160;non-trusted &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>1 &#160; &#160; &#160; (osSystemCat2ISR) &#160; trusted &#160; &#160; &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>2 &#160; &#160; &#160; (osTimerInterrupt) &#160;trusted &#160; &#160; &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>--------------------------------------------------&#160;<br/>&#160;<br/></b>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this:&#160;<br/>
&#160;&#160;Check&#160;for&#160;each&#160;cat2&#160;ISR,&#160;that&#160;the&#160;setting of&#160;the&#160;attribute&#160;TRUSTED&#160;of&#160;the&#160;owner&#160;application&#160;<br/>
fits&#160;to&#160;the&#160;value&#160;of&#160;the&#160;ISR&#160;trusted&#160;information.&#160;In&#160;case&#160;the&#160;owner&#160;application has&#160;the&#160;<br/>configuration&#160;TRUSTED=TRUE,&#160;the&#160;ISR&#160;must&#160;be&#160;trusted.&#160;In&#160;case&#160;the&#160;owner&#160;application has&#160;<br/>the&#160;configuration&#160;TRUSTED=FALSE,&#160;the&#160;ISR&#160;must&#160;be&#160;non-trusted.&#160;The&#160;trustedness&#160;of&#160;the&#160;<br/>system&#160;timer&#160;ISR&#160;osTimerInterrupt&#160;cannot&#160;be&#160;configured&#160;and&#160;is&#160;always&#160;a trusted&#160;ISR.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;58&#160;/&#160;80&#160;<br/>
<hr/>
<a name=59></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.12&#160;&#160;How&#160;to review&#160;the&#160;CAT2&#160;ISR nested information (block&#160;9)&#160;</b><br/>
The&#160;configuration&#160;viewer&#160;generates&#160;the&#160;CAT2&#160;ISR&#160;nested&#160;information&#160;as&#160;followed&#160;[SPMF92:0063]:&#160;<br/>
<b>9. Category 2 ISR nesting:&#160;<br/>-------------------------------------------------&#160;<br/>ISR-ID &#160;ISR-Name &#160; &#160; &#160; &#160; &#160; &#160;Value &#160; &#160; &#160; Checked?&#160;&#160;<br/>-------------------------------------------------&#160;<br/>0 &#160; &#160; &#160; (ISR1) &#160; &#160; &#160; &#160; &#160; &#160; &#160;nested &#160; &#160; &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>1 &#160; &#160; &#160; (osSystemCat2ISR) &#160; non-nested &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>2 &#160; &#160; &#160; (osTimerInterrupt) &#160;nested &#160; &#160; &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>-------------------------------------------------&#160;<br/>&#160;<br/></b>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this:&#160;<br/>
&#160;&#160;Check&#160;for&#160;each&#160;cat2&#160;ISR,&#160;that&#160;the&#160;setting of&#160;the&#160;attribute EnableNesting&#160;fits&#160;to&#160;the&#160;value&#160;of&#160;<br/>
the&#160;ISR&#160;nested&#160;information&#160;[SPMF92:02.0031].&#160;In&#160;case&#160;the&#160;cat2&#160;ISR&#160;has&#160;the&#160;configuration&#160;<br/>EnableNesting&#160;=TRUE,&#160;the&#160;ISR&#160;must&#160;be&#160;nested.&#160;In case&#160;the&#160;cat2&#160;ISR&#160;has&#160;the&#160;configuration&#160;<br/>EnableNesting&#160;=FALSE,&#160;the&#160;ISR&#160;must&#160;be&#160;not&#160;nested.&#160;This&#160;setting&#160;for&#160;the&#160;system&#160;timer&#160;ISR&#160;<br/>osTimerInterrupt&#160;is&#160;configured&#160;via OS&#160;attribute&#160;SystemTimerNestable.&#160;Check that&#160;the&#160;<br/>setting&#160;of&#160;attribute&#160;SystemTimerNestable&#160;fits&#160;to&#160;the ISR&#160;nested&#160;information&#160;of&#160;ISR&#160;<br/>osTimerInterrupt.&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;59&#160;/&#160;80&#160;<br/>
<hr/>
<a name=60></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.13&#160;&#160;How&#160;to review&#160;CAT2&#160;ISR stack&#160;start&#160;and end addresses&#160;(block&#160;10&#160;and 11)&#160;</b><br/>
The&#160;&#160;configuration&#160;&#160;viewer&#160;&#160;generates&#160;&#160;the&#160;&#160;CAT2&#160;&#160;ISR&#160;&#160;stack&#160;&#160;start&#160;&#160;addresses&#160;&#160;as&#160;&#160;followed&#160;<br/>[SPMF92:0063]:&#160;<br/>
<b>10. Category 2 ISR stack start address:&#160;<br/>----------------------------&#160;<br/>Level &#160;Value &#160; &#160; &#160; Checked? &#160;&#160;<br/>----------------------------&#160;<br/>0 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>1 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>2 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>3 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>4 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>5 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>6 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>7 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>8 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>9 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>10 &#160; &#160; 0xfedf0000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>11 &#160; &#160; 0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>12 &#160; &#160; 0xfedf0320 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>13 &#160; &#160; 0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>14 &#160; &#160; 0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>15 &#160; &#160; 0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>----------------------------&#160;<br/>&#160;</b><br/>
The&#160;&#160;configuration&#160;&#160;viewer&#160;&#160;generates&#160;&#160;the&#160;&#160;CAT2&#160;&#160;ISR&#160;&#160;stack&#160;&#160;end&#160;&#160;addresses&#160;&#160;as&#160;&#160;followed&#160;<br/>[SPMF92:0063]:&#160;<br/>
<b>11. Category 2 ISR stack end address:&#160;<br/>----------------------------&#160;<br/>Level &#160;Value &#160; &#160; &#160; Checked? &#160;&#160;<br/>----------------------------&#160;<br/>0 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>1 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>2 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>3 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>4 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>5 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>6 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>7 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>8 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>9 &#160; &#160; &#160;0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>10 &#160; &#160; 0xfedf0320 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>11 &#160; &#160; 0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>12 &#160; &#160; 0xfedf04b0 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>13 &#160; &#160; 0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>14 &#160; &#160; 0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>15 &#160; &#160; 0x00000000 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>----------------------------&#160;<br/>&#160;<br/></b>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this&#160;[SPMF92:0056]:&#160;<br/>
&#160;&#160;Check&#160;that&#160;the&#160;difference&#160;between stack&#160;start&#160;and&#160;stack&#160;end address&#160;fits&#160;to&#160;the&#160;configured&#160;<br/>
size of&#160;the&#160;ISR&#160;stack&#160;<br/>
&#160;&#160;Check&#160;that&#160;the&#160;stacks&#160;do&#160;not&#160;overlap&#160;<br/>&#160;&#160;Compare&#160;printed&#160;address&#160;value&#160;of&#160;each&#160;stack&#160;with the&#160;address&#160;given&#160;in the linker&#160;map&#160;file.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;60&#160;/&#160;80&#160;<br/>
<hr/>
<a name=61></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
&#160;&#160;Check&#160;that&#160;all&#160;ISR&#160;stack&#160;sizes are a&#160;multiple of&#160;4&#160;Bytes [SPMF92:04.0008].&#160;This&#160;prevents&#160;<br/>
that&#160;any&#160;data of&#160;another&#160;section is accessible in&#160;the&#160;same&#160;MPU&#160;region.&#160;<br/>
&#160;&#160;Check&#160;that&#160;each defined&#160;address&#160;region&#160;(ISR&#160;stack&#160;start&#160;address,&#160;ISR&#160;stack&#160;end address)&#160;<br/>
only&#160;covers&#160;exactly&#160;one array&#160;variable named&#160;osIntStackLevel&lt;PriorityLevel&gt;.&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;61&#160;/&#160;80&#160;<br/>
<hr/>
<a name=62></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.14&#160;&#160;How&#160;to review&#160;the&#160;CAT2&#160;ISR ownership information (block&#160;12)&#160;</b><br/>
The&#160;&#160;configuration&#160;&#160;viewer&#160;&#160;generates&#160;&#160;the&#160;&#160;CAT2&#160;&#160;ISR&#160;&#160;ownership&#160;&#160;information&#160;&#160;as&#160;&#160;followed&#160;<br/>[SPMF92:0063]:&#160;<br/>
<b>12. Category 2 ISR to application assignment:&#160;<br/>--------------------------------------------------------------------------&#160;<br/>ISR-ID &#160;ISR-Name &#160; &#160; &#160; &#160; &#160; &#160;Appl-ID &#160;Appl-Name &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; Checked? &#160;&#160;<br/>--------------------------------------------------------------------------&#160;<br/>0 &#160; &#160; &#160; (ISR1) &#160; &#160; &#160; &#160; &#160; &#160; &#160;2 &#160; &#160; &#160; &#160;(xyzAppl) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; [ &#160;] &#160; &#160;&#160;<br/>1 &#160; &#160; &#160; (osSystemCat2ISR) &#160; 1 &#160;&#160; &#160; &#160;&#160;(osSystemApplicationCore0) &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>2 &#160; &#160; &#160; (osTimerInterrupt) &#160;1 &#160; &#160; &#160; &#160;(osSystemApplicationCore0) &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>--------------------------------------------------------------------------&#160;<br/>&#160;<br/></b>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this:&#160;<br/>
&#160;&#160;The&#160;configuration&#160;of&#160;each application contains&#160;a list&#160;of&#160;the&#160;cat2&#160;ISRs&#160;which it&#160;owns.&#160;Check&#160;<br/>
for&#160;each of&#160;the&#160;named&#160;applications that&#160;it&#160;owns exactly&#160;those&#160;ISRs&#160;listed&#160;in the&#160;configuration&#160;<br/>viewer&#160;output&#160;[SPMF92:02.0028].&#160;The&#160;OS&#160;generator&#160;assures&#160;that&#160;each&#160;ISR&#160;has&#160;exactly&#160;one&#160;<br/>owner&#160;application.&#160;The&#160;owner&#160;of&#160;the&#160;ISR&#160;osTimerInterrupt&#160;is&#160;the&#160;OS&#160;itself.&#160;&#160;<br/>
&#160;&#160;Check&#160;that&#160;category&#160;1 ISRs&#160;are&#160;not&#160;listed&#160;in&#160;the&#160;configuration block.&#160;[SPMF92:0055]&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;62&#160;/&#160;80&#160;<br/>
<hr/>
<a name=63></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.15&#160;&#160;How&#160;to review&#160;the&#160;trusted functions&#160;start&#160;addresses&#160;(block&#160;13)&#160;</b><br/>
The&#160;configuration&#160;viewer&#160;generates&#160;trusted&#160;functions&#160;start&#160;addresses&#160;as&#160;followed&#160;[SPMF92:0063]:&#160;<br/><b>13. Trusted function start address:&#160;<br/>----------------------------------------------------------&#160;<br/>Tfunc-ID &#160;Tfunc-Name &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; Value &#160; &#160; &#160; Checked?&#160;&#160;<br/>----------------------------------------------------------&#160;<br/>0 &#160; &#160; &#160; &#160; (StartTestStep) &#160; &#160; &#160; &#160; &#160; &#160;0x000039d8 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>1 &#160; &#160; &#160; &#160; (GetTestStep) &#160; &#160; &#160; &#160; &#160; &#160; &#160;0x000039aa &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>2 &#160; &#160; &#160; &#160; (SetCheckPoint) &#160; &#160; &#160; &#160; &#160; &#160;0x000039c2 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>3 &#160; &#160; &#160; &#160; (TF1) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0x00003006 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>4 &#160; &#160; &#160; &#160; (TriggerISR1) &#160; &#160; &#160; &#160; &#160; &#160; &#160;0x000039ee &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>5 &#160; &#160; &#160; &#160; (TriggerISR2) &#160; &#160; &#160; &#160; &#160; &#160; &#160;0x00003a06 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>6 &#160; &#160; &#160; &#160; (osSystemTrustedFunction) &#160;0x00005982 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>----------------------------------------------------------&#160;<br/>&#160;<br/></b>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this:&#160;<br/>
&#160;&#160;Check&#160;the&#160;linker&#160;map&#160;file of&#160;the&#160;project&#160;for&#160;symbol&#160;TRUSTED_&lt;FuncName&gt;.&#160;This&#160;function&#160;<br/>
must&#160;be&#160;linked&#160;to&#160;the&#160;address&#160;value&#160;as&#160;specified&#160;in the&#160;configuration&#160;viewer&#160;output&#160;<br/>[SPMF92:0048],[SPMF92:0057].&#160;<br/>
&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;63&#160;/&#160;80&#160;<br/>
<hr/>
<a name=64></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.16&#160;&#160;How&#160;to review&#160;the&#160;non-trusted&#160;functions&#160;start addresses&#160;(block&#160;14)&#160;</b><br/>
The&#160;&#160;configuration&#160;&#160;viewer&#160;&#160;generates&#160;&#160;non-trusted&#160;&#160;functions&#160;&#160;start&#160;&#160;addresses&#160;&#160;as&#160;&#160;followed&#160;<br/>[SPMF92:0063]:&#160;<br/>
<b>14. Non-trusted function start address:&#160;<br/>-----------------------------------------&#160;<br/>NTfunc-ID NTfunc-Name Value &#160; &#160; &#160;Checked?&#160;&#160;<br/>-----------------------------------------&#160;<br/>0 &#160; &#160; &#160; &#160; (NTF1) &#160; &#160; &#160;0x00002e6a &#160; [ ] &#160; &#160;&#160;</b><br/>
<b>1&#160; &#160; &#160; &#160; &#160;(NTF2) &#160; &#160; &#160;0x00003de0&#160; &#160;[ ] &#160; &#160;&#160;<br/>-----------------------------------------&#160;<br/></b>&#160;<br/>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this:&#160;<br/>
&#160;&#160;Check&#160;&#160;the&#160;&#160;linker&#160;&#160;map&#160;&#160;file&#160;&#160;of&#160;&#160;the&#160;&#160;project&#160;&#160;for&#160;&#160;symbol&#160;&#160;NONTRUSTED_&lt;FuncName&gt;.&#160;&#160;This&#160;<br/>
function&#160;must&#160;be&#160;linked&#160;to&#160;the&#160;address&#160;value&#160;as&#160;specified&#160;in&#160;the&#160;configuration&#160;viewer&#160;output&#160;&#160;<br/>[SPMF92:02.0024].&#160;&#160;<br/>
&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;64&#160;/&#160;80&#160;<br/>
<hr/>
<a name=65></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.17&#160;&#160;How&#160;to review&#160;the&#160;non-trusted&#160;functions&#160;ownership information&#160;(block&#160;15)&#160;</b><br/>
The&#160;&#160;configuration&#160;&#160;viewer&#160;&#160;generates&#160;&#160;the&#160;&#160;non-trusted&#160;&#160;functions&#160;&#160;ownership&#160;&#160;as&#160;&#160;followed&#160;<br/>[SPMF92:0063]:&#160;<br/>
<b>15. Non-trusted function to application assignment:&#160;<br/>--------------------------------------------------------&#160;<br/>NTfunc-ID NTfunc-Name Appl-ID Appl-Name &#160; &#160; &#160; &#160; Checked?&#160;&#160;<br/>--------------------------------------------------------&#160;<br/>0 &#160; &#160; &#160; &#160; (NTF1) &#160; &#160; &#160;1 &#160; &#160; &#160; (NonTrustedApplA) &#160; [ ] &#160;&#160;&#160;</b><br/>
<b>1&#160; &#160; &#160; &#160; &#160;(NTF2) &#160; &#160; &#160;2&#160; &#160; &#160; &#160;(NonTrustedApplB) &#160; [ ]&#160;&#160;<br/>--------------------------------------------------------&#160;<br/></b>&#160;<br/>
The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this:&#160;<br/>
&#160;&#160;The&#160;configuration&#160;of&#160;each application contains&#160;a list&#160;of&#160;the&#160;functions&#160;which&#160;it&#160;owns.&#160;Check&#160;<br/>
for&#160;each of&#160;the&#160;named&#160;applications that&#160;it&#160;owns exactly&#160;those&#160;functions&#160;listed in&#160;the&#160;<br/>configuration&#160;viewer&#160;output&#160;[SPMF92:02.0029].&#160;The OS&#160;generator&#160;assures&#160;that&#160;each&#160;<br/>function&#160;has&#160;exactly&#160;one&#160;owner&#160;application.&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;65&#160;/&#160;80&#160;<br/>
<hr/>
<a name=66></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.18&#160;&#160;How&#160;to review&#160;the&#160;application&#160;dynamic&#160;MPU settings&#160;(block&#160;16)&#160;</b><br/>
It&#160;is&#160;necessary&#160;to&#160;refer&#160;the Renesas Electronics&#160;user’s&#160;manual&#160;architecture [6]&#160;for&#160;exactly&#160;<br/>understanding&#160;of&#160;the&#160;Memory&#160;Protection&#160;Unit&#160;(MPU).&#160;<br/>
The&#160;configuration&#160;viewer&#160;generates&#160;the&#160;dynamic&#160;MPU&#160;settings&#160;as&#160;followed&#160;[SPMF92:0063]:&#160;<br/><b>16. Application MPU configuration (dynamic):&#160;<br/>------------------------------------------------------------------------------&#160;<br/>Appl-ID &#160;Appl-Name &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; Region &#160;Start-Addr &#160;End-Addr &#160; &#160;Checked?&#160;&#160;<br/>------------------------------------------------------------------------------&#160;<br/>0 &#160; &#160; &#160; &#160;(AppTrusted) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;1 &#160; &#160; &#160; 0x00000010 &#160;0x00000000 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;2 &#160; &#160; &#160; 0x00000010 &#160;0x00000000 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>------------------------------------------------------------------------------&#160;<br/>1 &#160; &#160; &#160; &#160;(NonTrustedApplA) &#160; &#160; &#160; &#160; &#160; 1 &#160; &#160; &#160; 0xffe50000 &#160;0xffe5fffc &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;2&#160; &#160; &#160; &#160;0xfedf0a80 &#160;0xfedf0a7f &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>------------------------------------------------------------------------------&#160;<br/>2 &#160; &#160; &#160; &#160;(NonTrustedApplB) &#160; &#160; &#160; &#160; &#160; 1 &#160; &#160; &#160; 0xffe50000 &#160;0xffe5fffc &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;2 &#160; &#160; &#160; 0xfedf0a80 &#160;0xfedf0b7f &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>------------------------------------------------------------------------------&#160;<br/>3 &#160; &#160; &#160; &#160;(TraceAppl) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 1 &#160; &#160; &#160; 0x00000010 &#160;0x00000000 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;2 &#160; &#160; &#160; 0x00000010 &#160;0x00000000 &#160; &#160;[ &#160;]&#160;&#160;&#160;&#160;<br/>------------------------------------------------------------------------------&#160;<br/>4 &#160; &#160; &#160; &#160;(osSystemApplicationCore0) &#160;1 &#160; &#160; &#160; 0x00000010 &#160;0x00000000 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;2 &#160; &#160; &#160; 0x00000010 &#160;0x00000000 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>------------------------------------------------------------------------------&#160;<br/>&#160;<br/></b>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this&#160;&#160;[SPMF92:0052],[SPMF92:04.0003],[SPMF92:04.0005]:&#160;<br/>
&#160;&#160;Each&#160;application&#160;must&#160;have the&#160;same number&#160;of&#160;rows.&#160;<br/>&#160;&#160;The&#160;number&#160;of&#160;rows&#160;for&#160;each application&#160;must&#160;be&#160;same&#160;as&#160;shown in&#160;the&#160;output&#160;of&#160;<br/>
configuration&#160;block&#160;0:&#160;Number&#160;of&#160;Dynamic&#160;MPU&#160;Regions&#160;&#160;<br/>
&#160;&#160;Trusted&#160;applications&#160;must&#160;always&#160;have Start-Addr&#160;=&#160;0x00000010&#160;<br/>&#160;&#160;Trusted&#160;applications&#160;must&#160;always&#160;have&#160;End-Addr&#160;=&#160;0x00000000&#160;<br/>&#160;&#160;Unused&#160;MPU&#160;regions&#160;in&#160;non-trusted&#160;applications&#160;must&#160;have Start-Addr&#160;=&#160;0x00000010&#160;<br/>&#160;&#160;Unused&#160;MPU&#160;regions&#160;in&#160;non-trusted&#160;applications&#160;must&#160;have End-Addr&#160;=&#160;0x00000000&#160;<br/>&#160;&#160;Check&#160;that&#160;values&#160;of&#160;Start-Addr&#160;and&#160;End-Addr&#160;in&#160;row&#160;of&#160;non-trusted&#160;applications are&#160;same&#160;<br/>
as configured&#160;in&#160;the&#160;applications settings&#160;<br/>
&#160;&#160;Check&#160;that&#160;used&#160;MPU&#160;regions&#160;in&#160;non-trusted&#160;applications have Start-Addr&#160;value&#160;smaller&#160;<br/>
than&#160;the&#160;End-Addr&#160;value&#160;<br/>
&#160;&#160;Check&#160;that&#160;all&#160;trusted&#160;and non-trusted&#160;applications&#160;are&#160;listed.&#160;<br/>&#160;&#160;Check&#160;that&#160;all&#160;Start-Addr&#160;values&#160;are aligned&#160;to&#160;4&#160;Byte boundary&#160;[SPMF92:04.0009]&#160;<br/>&#160;&#160;Check&#160;that&#160;all&#160;End-Addr&#160;values&#160;point&#160;to&#160;the&#160;last&#160;valid byte in&#160;the&#160;specified&#160;area.&#160;<br/>&#160;&#160;Overlapping&#160;of&#160;memory&#160;regions&#160;is&#160;not&#160;allowed&#160;[SPMF92:04.0010].&#160;<br/>&#160;&#160;The&#160;next&#160;region&#160;after&#160;the&#160;end address&#160;must&#160;be&#160;aligned&#160;at&#160;to&#160;a&#160;4&#160;Byte&#160;boundary.&#160;<br/>&#160;&#160;Compare&#160;&#160;Start-Addr&#160;of&#160;non-trusted&#160;applications&#160;that&#160;the&#160;address&#160;value&#160;fits&#160;to&#160;address&#160;of&#160;<br/>
the&#160;application specific&#160;linker&#160;symbol&#160;used&#160;in configuration&#160;settings&#160;[SPMF92:0052]&#160;&#160;<br/>
&#160;&#160;Compare&#160;&#160;End-Addr&#160;of&#160;non-trusted&#160;applications&#160;that&#160;the&#160;address&#160;value&#160;fits&#160;to&#160;address&#160;of&#160;the&#160;<br/>
application&#160;specific&#160;linker&#160;symbol&#160;used in&#160;configuration settings&#160;[SPMF92:0052]&#160;&#160;<br/>
&#160;&#160;If&#160;a linker&#160;section&#160;for&#160;application data&#160;memory&#160;region&#160;is&#160;empty&#160;then&#160;the&#160;end&#160;address&#160;is&#160;<br/>
below&#160;the&#160;start&#160;address.&#160;The&#160;start&#160;or&#160;end address&#160;may&#160;then&#160;overlap with other&#160;linker&#160;<br/>sections.&#160;This&#160;can&#160;be ignored&#160;because&#160;it&#160;does not&#160;harm&#160;the&#160;MPU&#160;functionality.&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;66&#160;/&#160;80&#160;<br/>
<hr/>
<a name=67></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.19&#160;&#160;How&#160;to review&#160;the&#160;interrupt&#160;channel&#160;index&#160;(block&#160;17)&#160;</b><br/>
The&#160;configuration&#160;viewer&#160;generates&#160;the&#160;interrupt&#160;channel&#160;index&#160;for&#160;CAT1 and&#160;CAT2&#160;ISRs&#160;as&#160;<br/>followed&#160;[SPMF92:0063]:&#160;<br/>&#160;<br/><b>17. Category 2 ISR&#160;interrupt channel index:&#160;<br/>----------------------------------------------&#160;<br/>ISR-ID &#160;ISR-Name &#160; &#160; &#160; &#160; &#160; &#160;Channel &#160;Checked?&#160;&#160;<br/>----------------------------------------------&#160;<br/>0 &#160; &#160; &#160; (ISR1) &#160; &#160; &#160; &#160; &#160; &#160; &#160;137 &#160; &#160; &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>1 &#160; &#160; &#160; (osSystemCat2ISR) &#160; 0 &#160; &#160; &#160; &#160; &#160;[ &#160;]&#160; &#160;&#160;<br/>2 &#160; &#160; &#160; (osTimerInterrupt) &#160;74 &#160; &#160; &#160; &#160; [ &#160;] &#160;&#160;&#160;<br/>3 &#160; &#160; &#160; (TestTimer1) &#160; &#160; &#160; &#160;134 &#160; &#160; &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>----------------------------------------------&#160;<br/>&#160;<br/></b>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this:&#160;<br/>
&#160;&#160;Check&#160;for&#160;each&#160;cat1 and&#160;cat2&#160;ISR&#160;that&#160;the&#160;number&#160;is&#160;corresponding&#160;to&#160;the&#160;default&#160;priority&#160;<br/>
number&#160;listed&#160;in&#160;the&#160;hardware&#160;user&#160;manual&#160;of&#160;the&#160;used processor&#160;derivative&#160;(look&#160;for&#160;<br/>symbol&#160;EIINT&lt;Number&gt;).&#160;<br/>
&#160;&#160;Check&#160;that&#160;the&#160;biggest&#160;listed&#160;number&#160;is&#160;not&#160;greater&#160;than 383.&#160;<br/>&#160;&#160;Channel&#160;index&#160;of&#160;ISR&#160;osSystemCat2ISR&#160;can&#160;be&#160;ignored&#160;because&#160;it&#160;is&#160;not&#160;used at&#160;all.&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;67&#160;/&#160;80&#160;<br/>
<hr/>
<a name=68></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.20&#160;&#160;How&#160;to review&#160;the&#160;ISR interrupt&#160;priority&#160;level&#160;(block&#160;18)&#160;</b><br/>
The&#160;configuration&#160;viewer&#160;generates&#160;the&#160;interrupt&#160;priority&#160;level&#160;for&#160;CAT1&#160;and CAT2&#160;ISRs&#160;as&#160;followed&#160;<br/>[SPMF92:0063]:&#160;<br/>&#160;<br/><b>18. Category 2 ISR priority level:&#160;<br/>-----------------------------------------------&#160;<br/>ISR-ID &#160;ISR-Name &#160; &#160; &#160; &#160; &#160; &#160;Priority &#160;Checked?&#160;&#160;<br/>-----------------------------------------------&#160;<br/>0 &#160; &#160; &#160; (ISR1) &#160; &#160; &#160; &#160; &#160; &#160; &#160;10 &#160; &#160; &#160; &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>1 &#160; &#160; &#160; (osSystemCat2ISR) &#160; 128 &#160; &#160; &#160; &#160; [ &#160;] &#160;&#160;&#160;<br/>2 &#160; &#160; &#160; (osTimerInterrupt) &#160;12 &#160; &#160; &#160; &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>3 &#160; &#160; &#160; (TestTimer1) &#160; &#160; &#160; &#160;7 &#160; &#160; &#160; &#160; &#160; [ &#160;] &#160;&#160;&#160;<br/>-----------------------------------------------&#160;<br/>&#160;<br/></b>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this&#160;[SPMF92:02.0032]:&#160;<br/>
&#160;&#160;Check&#160;for&#160;each&#160;category&#160;1 and category&#160;2&#160;ISR&#160;that&#160;the&#160;setting of&#160;the&#160;attribute&#160;<br/>
InterruptPriority&#160;fits&#160;to&#160;the value&#160;of&#160;the&#160;printed&#160;ISR&#160;information&#160;“Priority”&#160;from&#160;configuration&#160;<br/>viewer.&#160;<br/>
&#160;&#160;Interrupt&#160;priority&#160;level&#160;of&#160;osSystemCat2ISR&#160;can&#160;be ignored&#160;because it&#160;is&#160;not&#160;used&#160;at&#160;all.&#160;The&#160;<br/>
priority&#160;value&#160;must&#160;always&#160;be&#160;128.&#160;<br/>
&#160;&#160;&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;68&#160;/&#160;80&#160;<br/>
<hr/>
<a name=69></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.21&#160;&#160;How&#160;to&#160;review&#160;the&#160;peripheral&#160;regions&#160;configuration (block&#160;19)&#160;</b><br/>
The&#160;configuration&#160;viewer&#160;generates&#160;the&#160;application&#160;peripheral&#160;regions&#160;as&#160;followed&#160;[SPMF92:0063]:&#160;<br/>&#160;<br/><b>19. Peripheral Regions Configuration:&#160;<br/>-----------------------------------------------------&#160;<br/>Region &#160;Appl-Mask &#160; Start-Addr &#160;End-Addr &#160; &#160;Checked?&#160;&#160;<br/>-----------------------------------------------------&#160;<br/>0 &#160; &#160; &#160; 0x00000005 &#160;0xfede0000 &#160;0xfede1fff &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>1 &#160; &#160; &#160; 0x0000000c &#160;0xfede4000 &#160;0xfede4fff &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>-----------------------------------------------------&#160;<br/>&#160;<br/></b>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this:&#160;<br/>
&#160;&#160;Check&#160;that&#160;the&#160;listed&#160;peripheral&#160;region&#160;access&#160;rights&#160;match your&#160;configuration&#160;<br/>
[SPMF92:02.0030]&#160;<br/>
&#160;&#160;Check&#160;for&#160;each&#160;row&#160;that&#160;Appl-Mask&#160;fits&#160;to&#160;the&#160;accessing&#160;applications.&#160;Each bit&#160;which is set&#160;<br/>
means&#160;that&#160;the&#160;corresponding&#160;application has&#160;access&#160;rights&#160;to&#160;this&#160;region.&#160;E.g.&#160;if&#160;bit&#160;0&#160;is&#160;set&#160;<br/>then application with ID=0 has&#160;permission&#160;to&#160;access&#160;the&#160;region, if&#160;bit&#160;1 is&#160;set&#160;then&#160;<br/>application with ID=1&#160;has&#160;permission&#160;to&#160;access&#160;the region&#160;etc.&#160;<br/>
&#160;&#160;Check&#160;that&#160;the&#160;listed&#160;peripheral&#160;region&#160;start&#160;and end&#160;addresses&#160;matches your&#160;configuration&#160;<br/>
[SPMF92:02.0030]&#160;<br/>
&#160;&#160;Check&#160;for&#160;each&#160;row&#160;that&#160;Start-Addr&#160;fits&#160;to&#160;the&#160;start&#160;address&#160;value&#160;of&#160;the&#160;configured&#160;<br/>
peripheral&#160;region.&#160;Start-Addr&#160;must&#160;point&#160;to&#160;the&#160;first&#160;valid byte in&#160;the&#160;region.&#160;<br/>
&#160;&#160;Check&#160;for&#160;each&#160;row&#160;that&#160;End-Addr&#160;fits&#160;to&#160;the&#160;end&#160;address&#160;value&#160;of&#160;the&#160;configured&#160;peripheral&#160;<br/>
region.&#160;End-Addr&#160;must&#160;point&#160;to&#160;the&#160;last&#160;valid byte in&#160;the&#160;region.&#160;<br/>
&#160;&#160;Check&#160;that&#160;the&#160;peripheral&#160;region&#160;index&#160;starts&#160;with 0&#160;<br/>&#160;&#160;Check&#160;that&#160;the&#160;peripheral&#160;region&#160;index&#160;is&#160;consecutive with no&#160;gaps&#160;<br/>&#160;&#160;Check&#160;that&#160;the&#160;peripheral&#160;region&#160;belongs&#160;to&#160;the&#160;printed&#160;application.&#160;<br/>
&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;69&#160;/&#160;80&#160;<br/>
<hr/>
<a name=70></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.22&#160;&#160;How&#160;to review&#160;the&#160;static&#160;MPU regions&#160;configuration (block&#160;20)&#160;</b><br/>
The&#160;configuration&#160;viewer&#160;generates&#160;the&#160;static&#160;MPU&#160;regions&#160;configuration&#160;as&#160;followed:&#160;<br/>&#160;<br/><b>20. MPU configuration (static):&#160;<br/>-----------------------------------------------------&#160;<br/>Region &#160;Start-Addr &#160;End-Addr &#160; &#160;Attributes &#160;Checked?&#160;&#160;<br/>-----------------------------------------------------&#160;<br/>1 &#160; &#160; &#160; 0x00000010 &#160;0x00000000 &#160;0x000000db &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>2 &#160; &#160; &#160; 0x00000010 &#160;0x00000000 &#160;0x000000db &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>3 &#160; &#160; &#160; 0x00000000 &#160;0x000ffffc &#160;0x000000fd &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>4 &#160; &#160; &#160; 0xff000000 &#160;0xfffffffc &#160;0x000000d8 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>5 &#160; &#160; &#160; 0xfedf0960 &#160;0xfee00000 &#160;0x000000d9 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>6 &#160; &#160; &#160; 0xfedf0000 &#160;0xfedf0960 &#160;0x000000c9 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>7 &#160; &#160; &#160; 0x00000000 &#160;0x00000000 &#160;0x00000000 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>8 &#160; &#160; &#160; 0x00000000 &#160;0x00000000 &#160;0x00000000 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>9 &#160; &#160; &#160; 0x00000000 &#160;0x00000000 &#160;0x00000000 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>10 &#160; &#160; &#160;0x00000000 &#160;0x00000000 &#160;0x00000000 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>11 &#160; &#160; &#160;0x00000000 &#160;0x00000000 &#160;0x00000000 &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>-----------------------------------------------------&#160;<br/>&#160;<br/></b>Start-Addr&#160;are&#160;the&#160;values&#160;which are written&#160;to MPU&#160;registers&#160;MPLAn&#160;<br/>End-Addr&#160;are&#160;the&#160;values&#160;which are written&#160;to&#160;MPU&#160;registers&#160;MPUAn&#160;<br/>Attributes are&#160;the&#160;values&#160;which are written&#160;to&#160;MPU&#160;registers&#160;MPATn<b>&#160;<br/>&#160;<br/></b>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this:&#160;<br/>
&#160;&#160;Check&#160;that&#160;all&#160;regions&#160;1&#160;…&#160;11 are listed.&#160;<br/>&#160;&#160;If&#160;Start-Addr=0x00000010,&#160;End-Addr=0x00000000 and&#160;Attributes=0x000000db&#160;then&#160;the&#160;<br/>
MPU&#160;region&#160;is&#160;used&#160;dynamic,&#160;i.e.&#160;it&#160;is&#160;reprogrammed&#160;when&#160;the&#160;context&#160;is&#160;switched.&#160;<br/>
&#160;&#160;If&#160;Start-Addr=0x00000000,&#160;End-Addr=0x00000000 and&#160;Attributes=0x00000000&#160;then&#160;the&#160;<br/>
MPU&#160;region&#160;is&#160;not&#160;used&#160;at&#160;all.&#160;<br/>
&#160;&#160;All&#160;other&#160;regions&#160;are user&#160;specific&#160;MPU&#160;region&#160;settings.&#160;<br/>&#160;&#160;Check&#160;the&#160;user&#160;specific&#160;MPU&#160;region&#160;settings&#160;that&#160;Start-Addr,&#160;End-Addr&#160;and&#160;Attributes&#160;fit&#160;to&#160;<br/>
the&#160;corresponding configurations.&#160;<br/>
&#160;&#160;Check&#160;each user&#160;specific&#160;MPU&#160;region&#160;setting&#160;that&#160;Start-Addr&#160;is&#160;lower&#160;than&#160;End-Addr.&#160;&#160;<br/>&#160;&#160;Check&#160;each&#160;user&#160;specific&#160;MPU&#160;region&#160;setting&#160;that&#160;Attributes&#160;contains&#160;correct&#160;application&#160;ID.&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;70&#160;/&#160;80&#160;<br/>
<hr/>
<a name=71></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.23&#160;&#160;How&#160;to review&#160;the&#160;application trusted&#160;information (block&#160;21)&#160;</b><br/>
The&#160;configuration&#160;viewer&#160;generates&#160;the&#160;application&#160;trusted&#160;information&#160;as&#160;followed:&#160;&#160;<br/>
<b>21. Application trustedness information:&#160;<br/>-----------------------------------------------------------&#160;<br/>Appl-ID &#160;Appl-Name &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; Value &#160; &#160; &#160; &#160;Checked?&#160;&#160;<br/>-----------------------------------------------------------&#160;<br/>0 &#160; &#160; &#160; &#160;(NTAppl) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;non-trusted &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>1 &#160; &#160; &#160; &#160;(abcAppl) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; trusted &#160; &#160; &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>2 &#160; &#160; &#160; &#160;(osSystemApplicationCore0) &#160;trusted &#160; &#160; &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>3 &#160; &#160; &#160; &#160;(xyzAppl) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; non-trusted &#160; &#160;[ &#160;] &#160;&#160;&#160;<br/>-----------------------------------------------------------&#160;<br/></b>&#160;<br/>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this:&#160;<br/>
&#160;&#160;Check&#160;for&#160;each&#160;application,&#160;that&#160;the&#160;setting&#160;of&#160;the&#160;attribute&#160;TRUSTED&#160;fits&#160;to the&#160;value&#160;of&#160;the&#160;<br/>
application&#160;trustedness&#160;information.&#160;<br/>
&#160;&#160;If&#160;the&#160;application has&#160;attribute&#160;TRUSTED=TRUE,&#160;then&#160;Value&#160;must&#160;be&#160;trusted.&#160;<br/>&#160;&#160;If&#160;application has&#160;attribute&#160;TRUSTED=FALSE,&#160;then Value&#160;must&#160;be&#160;non-trusted.&#160;<br/>&#160;&#160;OS&#160;system&#160;application&#160;osSystemApplicationCore0&#160;must&#160;always&#160;be&#160;trusted.&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;71&#160;/&#160;80&#160;<br/>
<hr/>
<a name=72></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.2.24&#160;&#160;How&#160;to review&#160;the&#160;core&#160;control&#160;block&#160;address&#160;information (block&#160;22)&#160;</b><br/>
The&#160;configuration&#160;viewer&#160;generates&#160;the&#160;core&#160;control&#160;block&#160;information&#160;as&#160;followed:&#160;&#160;<br/><b>22. Core control block address:&#160;<br/>------------------------------&#160;<br/>Core-ID &#160;Address &#160; &#160; Checked? &#160;&#160;<br/>------------------------------&#160;<br/>0 &#160; &#160; &#160; &#160;0xfedf0c40 &#160; &#160;[ &#160;] &#160; &#160;&#160;<br/>------------------------------&#160;<br/>&#160;<br/></b>The&#160;review&#160;shall&#160;be&#160;performed&#160;like&#160;this:&#160;<br/>
&#160;&#160;Check&#160;that&#160;Address&#160;value is the&#160;same value&#160;for&#160;linker&#160;symbol&#160;_osCtrlVarsCore0&#160;in&#160;the&#160;<br/>
project&#160;map&#160;file which is generated&#160;by&#160;the&#160;linker.&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;72&#160;/&#160;80&#160;<br/>
<hr/>
<a name=73></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.3&#160;&#160;Linker Memory&#160;Sections&#160;</b><br/>
The&#160;OS&#160;uses&#160;specific&#160;memory&#160;section&#160;names&#160;for&#160;the&#160;linker.&#160;Check&#160;that&#160;these section&#160;names&#160;are&#160;<br/>used in&#160;the&#160;linker&#160;file and&#160;check&#160;that&#160;they&#160;are&#160;used in&#160;the&#160;assigned area.&#160;<br/>The&#160;OS&#160;uses&#160;the&#160;linker&#160;memory&#160;section&#160;names&#160;described in&#160;the&#160;following table:&#160;<br/>
<b>Section&#160;Name&#160;and&#160;Type&#160;</b><br/>
<b>Description&#160;and&#160;Link&#160;Requirements&#160;</b><br/>
.osExceptionVectorTable&#160;<br/>
Contains the&#160;core&#160;exception&#160;vector&#160;table.&#160;It&#160;is&#160;generated&#160;into&#160;<br/>
section&#160;type&#160;.text&#160;<br/>
file intvect.c&#160;<br/>
.osEIINTVectorTable&#160;<br/>
Contains the&#160;EIINT&#160;exception&#160;vector&#160;table.&#160;It&#160;is&#160;generated&#160;into&#160;<br/>
section&#160;type&#160;.text&#160;<br/>
file intvect.c&#160;<br/>
.os_text&#160;<br/>
Contains the&#160;interrupt&#160;handler&#160;for&#160;category&#160;2&#160;ISRs.&#160;It&#160;is&#160;<br/>
section&#160;type&#160;.text&#160;<br/>
generated&#160;into&#160;file intvect.c&#160;<br/>Must&#160;be&#160;linked&#160;to&#160;program&#160;code&#160;section.&#160;<br/>
.os_text&#160;<br/>
Contains all&#160;OS&#160;program&#160;code,&#160;except&#160;those&#160;which must&#160;be&#160;<br/>
section&#160;type&#160;.text&#160;<br/>
placed in&#160;special&#160;sections&#160;(e.g.&#160;vector&#160;table).&#160;<br/>Must&#160;be&#160;linked&#160;to&#160;program&#160;code&#160;section.&#160;<br/>
.os_rodata&#160;<br/>
Contains the&#160;OS&#160;constant&#160;data,&#160;except&#160;those which must&#160;be&#160;<br/>
section&#160;type&#160;.rodata&#160;<br/>
placed in&#160;special&#160;sections&#160;(e.g.&#160;configuration block&#160;<br/>osConfigBlock).&#160;<br/>Must&#160;be&#160;linked&#160;to&#160;constant&#160;data section.&#160;<br/>
.os_rosdata&#160;<br/>
Contains all&#160;OS&#160;constants&#160;which are placed in&#160;ROSDA&#160;area,&#160;<br/>
section&#160;type&#160;.rosdata&#160;<br/>
except&#160;those&#160;which must&#160;be&#160;placed in&#160;special&#160;sections&#160;(e.g.&#160;<br/>configuration&#160;block&#160;osConfigBlock).&#160;<br/>Must&#160;be&#160;linked&#160;to&#160;the&#160;constant&#160;data&#160;in ROSDA&#160;section&#160;<br/>
.osConfigBlock_rodata&#160;<br/>
Contains the&#160;configuration block&#160;if&#160;SDA&#160;optimization is&#160;<br/>
section&#160;type&#160;.rodata&#160;<br/>
disabled.&#160;<br/>Must&#160;be&#160;linked&#160;to&#160;constant&#160;data section.&#160;<br/>
.osConfigBlock_rosdata&#160;<br/>
Contains the&#160;configuration block&#160;if&#160;SDA&#160;optimization is enabled&#160;<br/>
section&#160;type&#160;.rosdata&#160;<br/>
Must&#160;be&#160;linked&#160;to&#160;constant&#160;data in&#160;ROSDA&#160;section.&#160;<br/>
.os_bss&#160;<br/>
Contains the&#160;uninitialized&#160;OS&#160;variables&#160;<br/>
section&#160;type&#160;.bss&#160;<br/>
Optional&#160;initialized&#160;to zero&#160;by&#160;system&#160;startup&#160;code.&#160;<br/>Must&#160;be&#160;linked&#160;to&#160;the&#160;data section.&#160;<br/>
.os_data&#160;<br/>
Contains the&#160;initialized&#160;OS&#160;variables which must&#160;be copied&#160;<br/>
section&#160;type&#160;.data&#160;<br/>
from&#160;ROM&#160;to RAM&#160;by&#160;system&#160;startup&#160;code.&#160;&#160;<br/>Must&#160;be&#160;linked&#160;to&#160;the&#160;data section.&#160;This&#160;section&#160;must&#160;be&#160;empty!&#160;<br/>
.os_sbss&#160;<br/>
Contains uninitialized&#160;OS&#160;variables which are placed&#160;in SDA&#160;<br/>
section&#160;type&#160;.sbss&#160;<br/>
area&#160;if&#160;SDA&#160;optimization is enabled.&#160;<br/>Optional&#160;initialized&#160;to zero&#160;by&#160;system&#160;startup&#160;code.&#160;<br/>Must&#160;be&#160;linked&#160;to&#160;the&#160;SDA&#160;section.&#160;<br/>
.os_sdata&#160;<br/>
Contains initialized&#160;OS&#160;variables which are placed in&#160;SDA&#160;area&#160;<br/>
section&#160;type&#160;.sdata&#160;<br/>
if&#160;SDA&#160;optimization is enabled.&#160;<br/>Must&#160;be&#160;linked&#160;to&#160;the&#160;SDA&#160;section.&#160;This&#160;section&#160;must&#160;be&#160;empty!&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;73&#160;/&#160;80&#160;<br/>
<hr/>
<a name=74></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>Section&#160;Name&#160;and&#160;Type&#160;</b><br/>
<b>Description&#160;and&#160;Link&#160;Requirements&#160;</b><br/>
.osTaskStack&lt;TaskIndex&gt;&#160;<br/>
Contains the&#160;uninitialized&#160;task&#160;specific&#160;stack.&#160;<br/>
section&#160;type&#160;.bss&#160;<br/>
Must&#160;be&#160;linked&#160;to&#160;the&#160;data section.&#160;<br/>
.osSystemStack&#160;<br/>
Contains the&#160;uninitialized&#160;OS&#160;system&#160;stack.&#160;<br/>
section&#160;type&#160;.bss&#160;<br/>
Must&#160;be&#160;linked&#160;to&#160;the&#160;data section.&#160;<br/>
.osIntStackLevel&lt;Priority&gt;&#160;<br/>
Contains the&#160;uninitialized&#160;ISR&#160;specific&#160;stack.&#160;<br/>
section&#160;type&#160;.bss&#160;<br/>
Must&#160;be&#160;linked&#160;to&#160;the&#160;data section.&#160;<br/>
.osAppl_&lt;ApplName&gt;_bss&#160;<br/>
Contains uninitialized&#160;application data.&#160;<br/>
section&#160;type&#160;.bss&#160;<br/>
Optional&#160;initialized&#160;to zero&#160;by&#160;system&#160;startup&#160;code.&#160;<br/>Must&#160;be&#160;linked&#160;to&#160;the&#160;data section.&#160;<br/>
.osAppl_&lt;ApplName&gt;_sbss&#160;<br/>
Contains&#160;uninitialized&#160;application data in&#160;SDA&#160;area if&#160;SDA&#160;<br/>
section&#160;type&#160;.sbss&#160;<br/>
optimization is enabled.&#160;<br/>Optional&#160;initialized&#160;to zero&#160;by&#160;system&#160;startup&#160;code.&#160;<br/>Must&#160;be&#160;linked&#160;to&#160;SDA&#160;section.&#160;<br/>
.osAppl_&lt;ApplName&gt;_data&#160;<br/>
Contains initialized&#160;application data.&#160;<br/>
section&#160;type&#160;.data&#160;<br/>
Must&#160;be&#160;linked&#160;to&#160;data&#160;section.&#160;<br/>
.osAppl_&lt;ApplName&gt;_sdata&#160;<br/>
Contains initialized&#160;application data&#160;in SDA&#160;area&#160;if&#160;SDA&#160;<br/>
section&#160;type&#160;.sdata&#160;<br/>
optimization is enabled.&#160;<br/>Must&#160;be&#160;linked&#160;to&#160;SDA&#160;section.&#160;<br/>
.osGlobalShared_bss&#160;<br/>
Contains uninitialized&#160;global&#160;shared&#160;data.&#160;<br/>
section&#160;type&#160;.bss&#160;<br/>
Optional&#160;initialized&#160;to zero&#160;by&#160;system&#160;startup&#160;code.&#160;<br/>Must&#160;be&#160;linked&#160;to&#160;data&#160;section.&#160;<br/>
.osGlobalShared_sbss&#160;<br/>
Contains uninitialized&#160;shared&#160;data in&#160;SDA&#160;area&#160;if&#160;SDA&#160;<br/>
section&#160;type&#160;.sbss&#160;<br/>
optimization is enabled.&#160;<br/>Optional&#160;initialized&#160;to zero&#160;by&#160;system&#160;startup&#160;code.&#160;<br/>Must&#160;be&#160;linked&#160;to&#160;SDA&#160;section.&#160;<br/>
.osGlobalShared_data&#160;<br/>
Contains initialized&#160;shared&#160;global&#160;data.&#160;<br/>
section&#160;type&#160;.data&#160;<br/>
Must&#160;be&#160;linked&#160;to&#160;data&#160;section.&#160;<br/>
.osGlobalShared_sdata&#160;<br/>
Contains initialized&#160;shared&#160;data&#160;in SDA&#160;area&#160;if&#160;SDA&#160;<br/>
section&#160;type&#160;.sdata&#160;<br/>
optimization is enabled.&#160;<br/>Must&#160;be&#160;linked&#160;to&#160;SDA&#160;section.&#160;<br/>
&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;74&#160;/&#160;80&#160;<br/>
<hr/>
<a name=75></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.4&#160;&#160;Linker Include&#160;Files&#160;<br/></b>The&#160;generated&#160;linker include&#160;files&#160;shall&#160;be&#160;reviewed&#160;if&#160;they&#160;are&#160;used&#160;for serial production.&#160;&#160;<br/>&#160;<br/><b>12.4.1&#160;Review&#160;File&#160;osdata.dld&#160;<br/></b>File&#160;osdata.dld&#160;contains mapping&#160;of&#160;section&#160;types .bss and&#160;.data&#160;for trusted&#160;applications.&#160;<br/>&#160;<br/>For each&#160;trusted&#160;application&#160;the&#160;generated&#160;lines must&#160;look like:&#160;<br/><b>/* trusted application &lt;ApplName&gt; */&#160;<br/>.osAppl_&lt;ApplName&gt;_bss &#160; align(4)&#160;:&gt;.&#160;<br/>.osAppl_&lt;ApplName&gt;_data &#160;align(4)&#160;:&gt;.&#160;<br/>&#160;<br/></b>The&#160;linker include&#160;file&#160;ends with&#160;the&#160;section&#160;mapping&#160;for&#160;OS&#160;data&#160;which&#160;must&#160;look like:&#160;<br/><b>.os_bss &#160; &#160;align(4)&#160;:&gt;.&#160;<br/>.os_data &#160; align(4) :&gt;.&#160;<br/>&#160;</b><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;75&#160;/&#160;80&#160;<br/>
<hr/>
<a name=76></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.4.2&#160;Review&#160;File&#160;ossdata.dld&#160;<br/></b>&#160;<br/>The&#160;generated&#160;example&#160;file&#160;ossdata.dld&#160;contains&#160;the&#160;mapping&#160;of&#160;section&#160;types .sbss and&#160;<br/>.sdata&#160;for&#160;trusted&#160;and&#160;non-trusted&#160;applications.&#160;<br/>For non-trusted&#160;applications&#160;it&#160;also&#160;contains&#160;the&#160;mapping&#160;of&#160;section&#160;types&#160;.bss and&#160;.data.&#160;&#160;<br/>This is&#160;necessary&#160;due&#160;to&#160;optimization&#160;for MPU region&#160;settings.&#160;<br/>&#160;<br/>For each&#160;trusted&#160;application&#160;the&#160;generated&#160;lines must&#160;look like:&#160;<br/><b>/* trusted application &lt;ApplName&gt; */&#160;<br/>.osAppl_&lt;ApplName&gt;_sbss &#160;&#160;&#160; &#160; &#160;align(4) :&gt;.&#160;<br/>.osAppl_&lt;ApplName&gt;_sdata &#160;&#160; &#160; &#160;align(4) :&gt;.&#160;<br/>&#160;<br/></b>For each&#160;non-trusted&#160;application&#160;the&#160;generated&#160;lines&#160;must&#160;look like:&#160;<br/><b>/* non-trusted application &lt;ApplName&gt; */&#160;<br/>.osAppl_&lt;ApplName&gt;_bss &#160; &#160; &#160; &#160; align(4) :&gt;.&#160;<br/>.osAppl_&lt;ApplName&gt;_data &#160; &#160; &#160; &#160;align(4) :&gt;.&#160;<br/>.osAppl_&lt;ApplName&gt;_sbss &#160; &#160; &#160; &#160;align(4) :&gt;.&#160;<br/>.osAppl_&lt;ApplName&gt;_sdata &#160; &#160; &#160; align(4) :&gt;.&#160;<br/>_&lt;Appl_Section_StartAddr&gt; = addr(.osAppl_&lt;ApplName&gt;_bss);&#160;<br/>_&lt;Appl_Section_EndAddr&gt;&#160;&#160;&#160;= endaddr(.osAppl_&lt;ApplName&gt;_sdata)-1;&#160;<br/>&#160;<br/></b>After the&#160;mapping&#160;of&#160;the&#160;application&#160;sections the&#160;mapping&#160;for OS&#160;SDA&#160;sections&#160;must&#160;be&#160;<br/>generated&#160;like&#160;the&#160;following&#160;lines:&#160;<br/><b>.os_sbss &#160; &#160;align(4) :&gt;.&#160;<br/>.os_sdata &#160; align(4) :&gt;.&#160;<br/>&#160;<br/></b>After the&#160;mapping&#160;of&#160;the&#160;OS&#160;SDA&#160;sections the&#160;mapping&#160;for global shared&#160;sections&#160;must&#160;be&#160;<br/>generated&#160;like&#160;the&#160;following&#160;lines:&#160;<br/><b>.osGlobalShared_sbss &#160; &#160;align(4) :&gt;.&#160;<br/>.osGlobalShared_sdata &#160; align(4) :&gt;.&#160;<br/>.osGlobalShared_bss &#160; &#160; align(4) :&gt;.&#160;<br/>.osGlobalShared_data &#160; &#160;align(4) :&gt;.&#160;<br/>_osGlobalShared_StartAddr = addr(.osGlobalShared_sbss);&#160;<br/>_osGlobalShared_EndAddr &#160; = endaddr(.osGlobalShared_data)-1;&#160;<br/>&#160;<br/></b>&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;76&#160;/&#160;80&#160;<br/>
<hr/>
<a name=77></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.4.3&#160;Review&#160;File&#160;osstacks.dld&#160;<br/></b>File&#160;osstacks.dld&#160;contains&#160;mapping&#160;of&#160;all&#160;stack&#160;sections.&#160;<br/>&#160;<br/>Each&#160;stack section&#160;mapping&#160;for&#160;used&#160;interrupt&#160;priority&#160;levels&#160;must&#160;look like:&#160;<br/><b>.osIntStackLevel&lt;PrioLevel&gt; align(4)&#160;:&gt;.&#160;<br/>_osIntStackLevel&lt;PrioLevel&gt;_StartAddr = addr(.osIntStackLevel&lt;PrioLevel&gt;);&#160;<br/>_osIntStackLevel&lt;PrioLevel&gt;_EndAddr = endaddr(.osIntStackLevel&lt;PrioLevel&gt;);&#160;<br/></b>&#160;<br/>&lt;PrioLevel&gt;&#160;is the&#160;interrupt&#160;priority&#160;level 0&#160;…&#160;15&#160;<br/>&#160;<br/>The&#160;mapping&#160;for the&#160;system&#160;stack section&#160;must&#160;look like:&#160;<br/><b>.osSystemStack&#160;align(4) &#160;:&gt;.&#160;<br/>_osSystemStack_StartAddr = addr(.osSystemStack);&#160;<br/>_osSystemStack_EndAddr = endaddr(.osSystemStack);&#160;<br/>&#160;</b><br/>
The&#160;system&#160;stack section&#160;is&#160;followed&#160;by&#160;the&#160;OS&#160;task stack sections&#160;which&#160;must&#160;look like:&#160;<br/>&#160;<br/><b>.osTaskStackosSystemApplicationCore00 align(4) :&gt;.&#160;<br/>_osTaskStackosSystemApplicationCore00_StartAddr =&#160;</b><br/>
<b>&#160;&#160;addr(.osTaskStackosSystemApplicationCore00);&#160;</b><br/>
<b>_osTaskStackosSystemApplicationCore00_EndAddr =&#160;</b><br/>
<b>endaddr(.osTaskStackosSystemApplicationCore00);&#160;</b><br/>
<b>&#160;<br/>.osTaskStackosSystemApplicationCore01&#160;align(4)&#160;:&gt;.&#160;<br/>_osTaskStackosSystemApplicationCore01_StartAddr =&#160;</b><br/>
<b>addr(.osTaskStackosSystemApplicationCore01);&#160;</b><br/>
<b>_osTaskStackosSystemApplicationCore01_EndAddr =&#160;</b><br/>
<b>endaddr(.osTaskStackosSystemApplicationCore01);&#160;</b><br/>
<b>&#160;</b><br/>
<b>&#160;<br/></b>The&#160;OS&#160;task stack sections are&#160;followed&#160;by&#160;the&#160;application&#160;task stack sections.&#160;<br/>Each&#160;application&#160;task stack section&#160;mapping&#160;must&#160;look like:&#160;<br/><b>.osTaskStack&lt;applname&gt;&lt;index&gt; &#160;align(4) &#160;:&gt;.&#160;<br/>_osTaskStack&lt;applname&gt;&lt;index&gt;_StartAddr = addr(.osTaskStack&lt;applname&gt;&lt;index&gt;);&#160;<br/>_osTaskStack&lt;applname&gt;&lt;index&gt;_EndAddr =&#160;endaddr(.osTaskStack&lt;applname&gt;&lt;index&gt;);&#160;<br/>&#160;<br/></b>&lt;applname&gt;&#160;is the&#160;name&#160;of&#160;the&#160;owner application&#160;<br/>&lt;index&gt;&#160;is the&#160;index&#160;number&#160;of&#160;the&#160;task&#160;stack:&#160;0&#160;…&#160;number&#160;of&#160;tasks per application&#160;<br/><b>&#160;<br/>&#160;</b><br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;77&#160;/&#160;80&#160;<br/>
<hr/>
<a name=78></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.4.4&#160;Review&#160;File&#160;osrom.dld&#160;<br/></b>File osrom.dld contains the&#160;sections&#160;used&#160;for&#160;initialized&#160;variables.&#160;&#160;<br/>&#160;<br/>For&#160;each&#160;application which has&#160;data&#160;to&#160;be&#160;initialized&#160;during&#160;startup&#160;code&#160;the&#160;following&#160;lines&#160;must&#160;be&#160;<br/>generated:&#160;<br/><b>.ROM_osAppl_&lt;ApplName&gt;_data &#160; ROM(.osAppl_&lt;ApplName&gt;_data) &#160;:&gt;.&#160;<br/>.ROM_osAppl_&lt;ApplName&gt;_sdata &#160;ROM(.osAppl_&lt;ApplName&gt;_sdata) :&gt;.&#160;<br/>.ROM_osAppl_&lt;ApplName&gt;_tdata &#160;ROM(.osAppl_&lt;ApplName&gt;_tdata) :&gt;.&#160;<br/>&#160;<br/></b>File osrom.dld ends&#160;with the&#160;global&#160;shared&#160;initialized&#160;data&#160;sections&#160;which must&#160;look&#160;like:&#160;<br/>
<b>.ROM_GlobalShared_data &#160; ROM(.osGlobalShared_data) &#160;:&gt;.&#160;<br/>.ROM_GlobalShared_sdata &#160;ROM(.osGlobalShared_sdata) :&gt;.&#160;<br/>.ROM_GlobalShared_tdata &#160;ROM(.osGlobalShared_tdata) :&gt;.&#160;<br/>&#160;<br/>&#160;</b><br/>
<b>12.4.5&#160;Review&#160;File&#160;ostdata.dld&#160;<br/></b>File ostada.dld contains&#160;the&#160;mapping&#160;for&#160;application&#160;data&#160;in&#160;TDA&#160;section.&#160;<br/>&#160;<br/>For&#160;each&#160;application which has&#160;data&#160;in&#160;TDA&#160;section&#160;the&#160;following&#160;line&#160;must&#160;be&#160;generated:&#160;<br/><b>.osAppl_&lt;ApplName&gt;_tdata &#160;align(4) MAX_SIZE(0x0100) :&gt;.&#160;<br/></b>&#160;<br/>File ostdata.dld ends&#160;with the&#160;mapping&#160;for&#160;global&#160;shared&#160;data in&#160;TDA&#160;section&#160;which must&#160;look&#160;like:&#160;<br/><b>.osGlobalShared_tdata &#160;align(4) MAX_SIZE(0x0100) :&gt;.&#160;<br/></b>&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;78&#160;/&#160;80&#160;<br/>
<hr/>
<a name=79></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.5&#160;&#160;Stack&#160;Size&#160;Configuration&#160;</b><br/>
The&#160;size&#160;of&#160;task&#160;stacks,&#160;ISR&#160;stacks&#160;and&#160;the&#160;system&#160;stack&#160;is&#160;configured&#160;by&#160;the&#160;user.&#160;The&#160;application&#160;<br/>code&#160;&#160;must&#160;&#160;not&#160;&#160;use&#160;&#160;more&#160;&#160;stack&#160;&#160;then&#160;&#160;configured.&#160;&#160;Before&#160;&#160;trusted&#160;&#160;or&#160;&#160;non-trusted&#160;&#160;application&#160;&#160;code&#160;<br/>(tasks,&#160;&#160;ISRs,&#160;&#160;trusted&#160;&#160;and&#160;&#160;non-trusted&#160;&#160;functions)&#160;&#160;is&#160;&#160;executed&#160;&#160;the&#160;&#160;OS&#160;&#160;always&#160;&#160;reprogramms&#160;&#160;MPU&#160;<br/>region&#160;0 in&#160;order&#160;to&#160;protect&#160;the&#160;stack&#160;memory&#160;areas.&#160;<br/>
The&#160;following&#160;table provides&#160;an&#160;overview&#160;of&#160;the&#160;stacks and which code parts&#160;need&#160;to&#160;be&#160;considered&#160;<br/>for&#160;the&#160;analysis&#160;of&#160;the&#160;required&#160;stack&#160;sizes.&#160;<br/>
<b>Stack&#160;</b><br/>
<b>Usage&#160;</b><br/>
System&#160;Stack&#160;<br/>
StartupHook&#160;<br/>ErrorHook&#160;<br/>ProtectionHook&#160;[SPMF92:0082]&#160;<br/>ShutdownHook&#160;[SPMF92:0081]&#160;<br/>
Task&#160;Stacks&#160;<br/>
the&#160;corresponding task&#160;function&#160;and its&#160;call&#160;tree&#160;<br/>ISRs&#160;of&#160;category&#160;1&#160;(when interrupting&#160;a&#160;task)&#160;<br/>ErrorHook&#160;<br/>Storing&#160;a&#160;context&#160;(144&#160;Byte)&#160;<br/>
ISR&#160;Stacks&#160;<br/>
the&#160;corresponding category&#160;2&#160;ISR&#160;function&#160;and its&#160;call&#160;tree&#160;<br/>ISRs&#160;of&#160;category&#160;1&#160;(when interrupting&#160;an&#160;ISR)&#160;<br/>ErrorHook&#160;<br/>Storing&#160;a&#160;context&#160;(144&#160;Byte)&#160;<br/>
&#160;<br/>If&#160;&#160;no&#160;&#160;static&#160;&#160;analysis&#160;&#160;for&#160;&#160;the&#160;&#160;stack&#160;&#160;requirement&#160;&#160;is&#160;&#160;made,&#160;&#160;the&#160;&#160;stack&#160;&#160;usage&#160;&#160;may&#160;&#160;be&#160;&#160;measured&#160;&#160;by&#160;<br/>means&#160;<br/>
of&#160;<br/>
the&#160;<br/>
API&#160;<br/>
functions&#160;<br/>
osGetStackUsage,&#160;<br/>
osGetISRStackUsage&#160;<br/>
and&#160;<br/>
osGetSystemStackUsage,&#160;&#160;when&#160;&#160;StackUsageMeasurement&#160;&#160;is&#160;&#160;configured.&#160;&#160;Measurement&#160;&#160;has&#160;&#160;to&#160;<br/>consider&#160;&#160;the&#160;&#160;maximum&#160;&#160;stack&#160;&#160;usage&#160;&#160;of&#160;&#160;the&#160;&#160;code&#160;&#160;under&#160;&#160;measure.&#160;&#160;It&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;ensured,&#160;&#160;that&#160;&#160;all&#160;<br/>directly&#160;and indirectly&#160;called&#160;functions&#160;are executed and&#160;use&#160;the&#160;maximum&#160;possible stack.&#160;<br/>
Stack&#160;&#160;Usage&#160;&#160;measurement&#160;&#160;is&#160;&#160;implemented&#160;&#160;by&#160;&#160;filling&#160;&#160;the&#160;&#160;stack&#160;&#160;with&#160;&#160;a&#160;&#160;pattern&#160;&#160;on&#160;&#160;startup&#160;&#160;and&#160;<br/>counting&#160;the&#160;number&#160;of&#160;continuous&#160;patterns&#160;which&#160;have&#160;not&#160;been&#160;overwritten&#160;with&#160;another&#160;value.&#160;<br/>This&#160;may&#160;lead&#160;to&#160;a&#160;too&#160;small&#160;measured&#160;value&#160;in&#160;case&#160;the&#160;function&#160;under&#160;measure&#160;uses&#160;this&#160;pattern&#160;<br/>as value&#160;on&#160;its&#160;stack.&#160;<br/>
As&#160;&#160;the&#160;&#160;hardware&#160;&#160;allows&#160;&#160;to&#160;&#160;enable&#160;&#160;interrupts&#160;&#160;even&#160;&#160;in&#160;&#160;non-trusted&#160;&#160;code,&#160;&#160;any&#160;&#160;non-trusted&#160;&#160;ISR&#160;&#160;may&#160;<br/>enable&#160;&#160;nesting.&#160;&#160;Therefore,&#160;&#160;the&#160;&#160;user&#160;&#160;shall&#160;&#160;expect&#160;&#160;that&#160;&#160;interrupt&#160;&#160;nesting&#160;&#160;can&#160;&#160;always&#160;&#160;occur&#160;&#160;when&#160;<br/>defining&#160;the&#160;system&#160;stack&#160;size&#160;[SPMF92:0089].&#160;<br/>
The&#160;&#160;stack&#160;&#160;usage&#160;&#160;must&#160;&#160;be&#160;&#160;measured&#160;&#160;after&#160;&#160;the&#160;&#160;maximum&#160;&#160;call&#160;&#160;depth&#160;&#160;has&#160;&#160;been&#160;&#160;reached&#160;<br/>[SPMF92:0090].&#160;<br/>
<b>12.6&#160;&#160;Stack&#160;Monitoring&#160;<br/></b>The&#160;stack&#160;memory&#160;area&#160;is&#160;write&#160;protected&#160;via&#160;MPU&#160;region&#160;0.&#160;Trusted&#160;and&#160;non-trusted&#160;applications&#160;<br/>and the&#160;OS&#160;cannot&#160;write&#160;to stack&#160;areas&#160;which belong to&#160;other&#160;applications.&#160;<br/>
This&#160;&#160;hardware&#160;&#160;based&#160;&#160;stack&#160;&#160;monitoring&#160;&#160;does&#160;&#160;not&#160;&#160;detect&#160;&#160;all&#160;&#160;stack&#160;&#160;errors&#160;&#160;[SPMF92:0076].&#160;&#160;Stack&#160;<br/>overflow&#160;&#160;cannot&#160;&#160;be&#160;&#160;detected&#160;&#160;if&#160;&#160;the&#160;&#160;task&#160;&#160;or&#160;&#160;ISR&#160;&#160;stack&#160;&#160;is&#160;&#160;mapped&#160;&#160;immediately&#160;&#160;after&#160;&#160;the&#160;<br/>corresponding&#160;application&#160;data&#160;or&#160;global&#160;shared&#160;section.&#160;Stack&#160;underflow&#160;cannot&#160;be&#160;detected&#160;if&#160;the&#160;<br/>task&#160;&#160;or&#160;&#160;ISR&#160;&#160;stack&#160;&#160;is&#160;&#160;mapped&#160;&#160;immediately&#160;&#160;before&#160;&#160;the&#160;&#160;corresponding&#160;&#160;application&#160;&#160;data&#160;&#160;or&#160;&#160;global&#160;<br/>shared&#160;section.&#160;<br/>
&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;79&#160;/&#160;80&#160;<br/>
<hr/>
<a name=80></a>Safety&#160;Manual&#160;MICROSAR OS&#160;SafeContext&#160;<br/>
<b>12.7&#160;&#160;Usage&#160;of&#160;MPU Regions&#160;</b><br/>
MPU&#160;region&#160;0&#160;is&#160;always&#160;used&#160;for&#160;stack&#160;area&#160;protection.&#160;It&#160;is&#160;always&#160;reprogrammed&#160;when&#160;<br/>the&#160;context&#160;is switched.&#160;Therefore MPU region&#160;0&#160;cannot&#160;be&#160;configured&#160;by&#160;the&#160;user.&#160;&#160;<br/>Each&#160;MPU region&#160;1&#160;…&#160;11&#160;can&#160;be&#160;configured&#160;for static&#160;or&#160;dynamic&#160;usage:&#160;<br/>&#160;&#160;If&#160;a&#160;MPU&#160;region&#160;is&#160;configured&#160;for&#160;static&#160;usage,&#160;then&#160;it&#160;is&#160;initialized&#160;in&#160;StartOS&#160;and&#160;not&#160;<br/>
changed&#160;any&#160;more.&#160;For static MPU regions the&#160;user&#160;must&#160;specify&#160;the&#160;access&#160;attributes.&#160;<br/>
&#160;&#160;If&#160;a&#160;MPU&#160;region&#160;is&#160;configured&#160;for&#160;dynamic&#160;usage,&#160;then&#160;it&#160;is&#160;initialized&#160;in&#160;StartOS&#160;and&#160;not&#160;<br/>
always&#160;reprogrammed&#160;when&#160;the&#160;context&#160;is&#160;switched.&#160;The&#160;access&#160;attributes&#160;for&#160;dynamic&#160;<br/>MU regions&#160;are configured&#160;by&#160;the&#160;OS.&#160;<br/>
All&#160;&#160;stack&#160;&#160;sections&#160;&#160;must&#160;&#160;be&#160;&#160;mapped&#160;&#160;to&#160;&#160;a&#160;&#160;consecutive&#160;&#160;memory&#160;&#160;area.&#160;A&#160;&#160;static&#160;&#160;MPU&#160;&#160;region&#160;<br/>must&#160;be&#160;configured&#160;for&#160;this&#160;memory&#160;area&#160;so&#160;that&#160;trusted&#160;and&#160;non-trusted&#160;application&#160;have&#160;<br/>only&#160;read&#160;access to&#160;it.&#160;That&#160;means in&#160;supervisor and&#160;in&#160;user mode&#160;only&#160;reading&#160;is possible.&#160;<br/>Write&#160;access&#160;to&#160;dedicated&#160;stack&#160;is&#160;achieved&#160;at&#160;runtime&#160;via&#160;reprogrammed&#160;MPU&#160;region&#160;0&#160;<br/>when&#160;a&#160;task&#160;or ISR is started.&#160;<br/>A&#160;static&#160;MPU&#160;region&#160;must&#160;be&#160;configured&#160;for&#160;the&#160;applications&#160;data&#160;area&#160;so&#160;that&#160;in&#160;supervisor&#160;<br/>mode&#160;read&#160;and&#160;write&#160;is&#160;possible&#160;and&#160;in&#160;user mode&#160;only&#160;reading&#160;is possible.&#160;Write&#160;access to&#160;<br/>the&#160;dedicated&#160;application&#160;data&#160;&#160;area&#160;&#160;is&#160;&#160;achieved&#160;&#160;via&#160;&#160;dynamic&#160;&#160;MPU&#160;&#160;region&#160;&#160;which&#160;&#160;must&#160;&#160;be&#160;<br/>configured&#160;for each&#160;non-trusted&#160;application.&#160;&#160;<br/>A&#160;static&#160;MPU&#160;region&#160;must&#160;be&#160;configured&#160;for&#160;the&#160;code&#160;and&#160;const&#160;area&#160;(i.e.&#160;ROM/FLASH)&#160;so&#160;<br/>that&#160;&#160;in&#160;&#160;supervisor&#160;&#160;mode&#160;&#160;(trusted&#160;applications)&#160;&#160;read,&#160;&#160;write&#160;&#160;and&#160;&#160;execute&#160;&#160;is&#160;&#160;possible&#160;&#160;and&#160;&#160;in&#160;<br/>user mode&#160;(non-trusted&#160;applications)&#160;only&#160;read&#160;and&#160;execute&#160;is&#160;possible&#160;in&#160;that&#160;area.&#160;<br/>&#160;<br/>
<b>12.8&#160;&#160;Usage&#160;of&#160;Peripheral&#160;Interrupt&#160;API&#160;<br/></b>The&#160;OS&#160;provides&#160;functions&#160;which&#160;allow&#160;write&#160;access&#160;to&#160;EI&#160;level&#160;interrupt&#160;control&#160;registers&#160;<br/>EICn&#160;and&#160;to&#160;EI&#160;level&#160;interrupt&#160;mask&#160;registers&#160;IMRn&#160;in&#160;user&#160;mode.&#160;Non-trusted&#160;applications&#160;<br/>can&#160;enable&#160;or&#160;disable&#160;peripheral&#160;interrupt&#160;sources&#160;by&#160;means&#160;of&#160;this&#160;functions.&#160;Call&#160;of&#160;the&#160;<br/>OS&#160;peripheral&#160;interrupt&#160;API&#160;functions&#160;must&#160;be&#160;checked&#160;in&#160;every&#160;application&#160;that&#160;only&#160;valid&#160;<br/>interrupt&#160;sources&#160;are&#160;modified&#160;[SPMF92:04.0016].&#160;&#160;<br/>&#160;<br/>&#160;<br/>
2015,&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version:&#160;1.05&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;80&#160;/&#160;80&#160;<br/>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#9">1 Purpose</a>
<ul>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#9">1.1 Safety Element out of Context (SEooC)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#9">1.2 Standards and Legal requirements</a></li>
</ul>
</li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#10">2 Concept</a>
<ul>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#10">2.1 SafeContext Is One Part of a Whole</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#10">2.2 Safety Goal</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#10">2.3 Safety Requirements</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#11">2.4 SafeContext Functionality</a>
<ul>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#13">2.4.1 Safety Part</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#15">2.4.2 Detailed List of Functionality</a>
<ul>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#15">2.4.2.1 Safety</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#16">2.4.2.2 Silent</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#17">2.4.2.3 Not provided</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#19">2.5 Safe State</a></li>
</ul>
</li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#20">3 Overview of Requirements to the OS User</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#22">4 General SafeContext Assumptions</a>
<ul>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#23">4.1 Context Definition</a></li>
</ul>
</li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#24">5 OS Source Checksum</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#26">6 Patching the Configuration Block</a>
<ul>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#26">6.1 Using ElfConverter</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#27">6.2 Using ConfigBlockCRCPatch</a></li>
</ul>
</li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#28">7 General Configuration Guidelines</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#30">8 Review General Part of Configuration Block</a>
<ul>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#30">8.1 How to Read Back the Configuration</a>
<ul>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#31">8.1.1 Using HexConverter</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#31">8.1.2 Using ConfigViewer</a></li>
</ul>
</li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#32">8.2 General Configuration Information</a></li>
</ul>
</li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#33">9 Review Generated Code</a>
<ul>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#33">9.1 Manual Reviews</a>
<ul>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#33">9.1.1 Review generated file tcb.h</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#34">10 Qualifying Silent OS Part</a>
<ul>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#34">10.1 Using MICROSAR Safe Silence Verifier (MSSV)</a></li>
</ul>
</li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#36">11 Review User Software</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#39">12 Hardware Specific Part</a>
<ul>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#42">12.1 Interrupt Vector Table</a>
<ul>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#42">12.1.1 Header Include Section</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#43">12.1.2 Core Exception Vector Table</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#44">12.1.3 EIINT Vector Table</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#45">12.1.4 CAT2 ISR Wrappers</a></li>
</ul>
</li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#46">12.2 Configuration Block</a>
<ul>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#46">12.2.1 How to read back the ConfigBlock</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#47">12.2.2 Additional Information</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#48">12.2.3 How to start the review</a>
<ul>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#49">12.2.3.1 Indexes of applications, task , ISRs, trusted and non-trusted functions</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#49">12.2.3.2 Review against User’s Design</a></li>
</ul>
</li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#50">12.2.4 How to review the general information (block 0)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#52">12.2.5 How to review the task start addresses (block 1)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#53">12.2.6 How to review the task trusted information (block 2)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#54">12.2.7 How to review the task preemptive information (block 3)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#55">12.2.8 How to review the task stack start and end addresses (block 4 and 5)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#56">12.2.9 How to review the task ownership information (block 6)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#57">12.2.10 How to review the category 2 ISR start addresses (block 7)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#58">12.2.11 How to review the CAT2 ISR trusted information (block 8)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#59">12.2.12 How to review the CAT2 ISR nested information (block 9)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#60">12.2.13 How to review CAT2 ISR stack start and end addresses (block 10 and 11)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#62">12.2.14 How to review the CAT2 ISR ownership information (block 12)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#63">12.2.15 How to review the trusted functions start addresses (block 13)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#64">12.2.16 How to review the non-trusted functions start addresses (block 14)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#65">12.2.17 How to review the non-trusted functions ownership information (block 15)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#66">12.2.18 How to review the application dynamic MPU settings (block 16)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#67">12.2.19 How to review the interrupt channel index (block 17)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#68">12.2.20 How to review the ISR interrupt priority level (block 18)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#69">12.2.21 How to review the peripheral regions configuration (block 19)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#70">12.2.22 How to review the static MPU regions configuration (block 20)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#71">12.2.23 How to review the application trusted information (block 21)</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#72">12.2.24 How to review the core control block address information (block 22)</a></li>
</ul>
</li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#73">12.3 Linker Memory Sections</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#75">12.4 Linker Include Files</a>
<ul>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#75">12.4.1 Review File osdata.dld</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#76">12.4.2 Review File ossdata.dld</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#77">12.4.3 Review File osstacks.dld</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#78">12.4.4 Review File osrom.dld</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#78">12.4.5 Review File ostdata.dld</a></li>
</ul>
</li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#79">12.5 Stack Size Configuration</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#79">12.6 Stack Monitoring</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#80">12.7 Usage of MPU Regions</a></li>
<li><a href="MicrosarOS_RH850_SafeContext_SafetyManuals.html#80">12.8 Usage of Peripheral Interrupt API</a></li>
</ul>
</li>
</ul>
<hr/>
</body>
</html>
